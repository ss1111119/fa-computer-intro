<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPU æ•ˆèƒ½ç‰¹è¨“ç­ï¼šMIPS èˆ‡ CPI è¨ˆç®—</title>
    <style>
        /* * æ¨£å¼è¡¨ (CSS)
         * è¨­è¨ˆç†å¿µï¼šä¹¾æ·¨ã€è£œç¿’ç­è¬›ç¾©é¢¨æ ¼ã€é«˜å°æ¯”åº¦ã€æ˜“è®€æ€§
         */
        :root {
            --primary-color: #2563eb; /* è£œç¿’ç­è— */
            --secondary-color: #f59e0b; /* é‡é»æ©˜ */
            --success-color: #10b981; /* æ­£ç¢ºç¶  */
            --danger-color: #ef4444; /* éŒ¯èª¤ç´… */
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #1f2937;
            --text-light: #6b7280;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* æ¨™é¡Œå€ */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), #1d4ed8);
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 1.8rem;
        }

        header p {
            margin: 10px 0 0;
            opacity: 0.9;
        }

        /* å¡ç‰‡å…±ç”¨æ¨£å¼ */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border-left: 5px solid var(--primary-color);
        }

        .card h2 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 10px;
            font-size: 1.4rem;
        }

        /* é‡é»æ¨™ç¤º */
        .highlight {
            color: var(--secondary-color);
            font-weight: bold;
            background-color: #fffbeb;
            padding: 0 4px;
            border-radius: 4px;
        }

        .formula-box {
            background-color: #eff6ff;
            padding: 15px;
            border-radius: 8px;
            font-family: Consolas, Monaco, monospace;
            text-align: center;
            margin: 10px 0;
            border: 1px dashed var(--primary-color);
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
            display: inline-block;
            margin: 5px;
        }

        .btn:hover {
            background-color: #1d4ed8;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background-color: #eff6ff;
        }

        .btn-option {
            width: 100%;
            text-align: left;
            margin-bottom: 8px;
            background-color: white;
            border: 2px solid #e5e7eb;
            color: var(--text-main);
        }

        .btn-option:hover {
            border-color: var(--primary-color);
            background-color: #f9fafb;
        }

        /* äº’å‹•æ§åˆ¶é … */
        input[type="text"], input[type="number"] {
            padding: 10px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            font-size: 1rem;
            width: 200px;
        }

        input[type="range"] {
            width: 100%;
            margin: 15px 0;
        }

        /* ç‹€æ…‹é¡¯ç¤º */
        .status-box {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none; /* é è¨­éš±è— */
        }

        .status-success {
            background-color: #d1fae5;
            color: #065f46;
            display: block;
        }

        .status-error {
            background-color: #fee2e2;
            color: #991b1b;
            display: block;
        }

        /* é€æ­¥æ¨å° */
        .step-item {
            opacity: 0.3;
            transition: opacity 0.5s;
            margin-bottom: 10px;
            border-left: 2px solid #ddd;
            padding-left: 15px;
        }

        .step-active {
            opacity: 1;
            border-left-color: var(--secondary-color);
            font-weight: bold;
        }

        /* é¡Œç›®å€å¡Š */
        .question-block {
            background-color: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #cbd5e1;
        }

        /* å°è€ƒæç¤º */
        .hint-text {
            display: none;
            margin-top: 10px;
            color: var(--text-light);
            font-style: italic;
            font-size: 0.9rem;
            background: #f3f4f6;
            padding: 10px;
            border-radius: 4px;
        }

        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 600px) {
            .btn {
                width: 100%;
                margin: 5px 0;
            }
            input[type="text"] {
                width: 100%;
                box-sizing: border-box;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>âš¡ CPU æ•ˆèƒ½ç‰¹è¨“ç­</h1>
        <p>åå¸«å¸¶ä½ ç ´è§£ MIPS è¨ˆç®—é¡Œï¼Œä¿è­‰é€™é¡Œä¸å†ä¸Ÿåˆ†ï¼</p>
    </header>

    <!-- é¡Œç›®å€ -->
    <div class="card">
        <h2>ğŸ“ æœ¬æ—¥é‡é»é¡Œå‹</h2>
        <div class="question-block">
            <p style="font-size: 1.1rem; font-weight: bold;">
                é¡Œç›®ï¼šCPU çš„å–®ä½æ™‚è„ˆæ™‚é–“æ˜¯ <span class="highlight">0.1 Î¼s</span>ï¼Œä¸€ç¨‹å¼çš„å¹³å‡ CPI å€¼æ˜¯ <span class="highlight">2</span>ã€‚è«‹å•è©²ç¨‹å¼çš„å¹³å‡ MIPS å€¼ç‚ºä½•ï¼Ÿ
            </p>
            <p>é¸é …ï¼š(A) 2 &nbsp;&nbsp; (B) 5 &nbsp;&nbsp; (C) 8 &nbsp;&nbsp; (D) 10</p>
        </div>
    </div>

    <!-- å…¬å¼å°å¡ -->
    <div class="card">
        <h2>ğŸ”‘ å¿…è€ƒå…¬å¼å°å¡</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div>
                <strong>1. æ™‚è„ˆé »ç‡ (Clock Rate)</strong>
                <div class="formula-box">Rate = 1 / Cycle Time</div>
                <small>é »ç‡æ˜¯é€±æœŸçš„å€’æ•¸</small>
            </div>
            <div>
                <strong>2. MIPS å®šç¾©</strong>
                <div class="formula-box">MIPS = IPS / 10<sup>6</sup></div>
                <small>æ¯ç§’åŸ·è¡Œå¤šå°‘"ç™¾è¬"æŒ‡ä»¤</small>
            </div>
            <div style="grid-column: span 2;">
                <strong>3. çµ‚æ¥µå…¬å¼ (çµåˆ)</strong>
                <div class="formula-box">MIPS = (Clock Rate) / CPI / 10<sup>6</sup></div>
                <small>å£è¨£ï¼šé »ç‡é™¤ä»¥ CPIï¼Œå†é™¤ç™¾è¬</small>
            </div>
        </div>
    </div>

    <!-- äº’å‹•ä¸€ï¼šå–®ä½æ›ç®— -->
    <div class="card">
        <h2>Step 1: å–®ä½æ›ç®—é™·é˜± (Î¼s è½‰ s)</h2>
        <p>é¡Œç›®çµ¦çš„æ˜¯ 0.1 Î¼s (å¾®ç§’)ï¼Œè¨ˆç®—å‰å¿…é ˆå…ˆæ›æˆç§’ï¼</p>
        <p>è«‹å•ï¼š<span class="highlight">0.1 Î¼s = ? ç§’</span> (è«‹è¼¸å…¥ç§‘å­¸è¨˜è™Ÿï¼Œå¦‚ 1e-5 æˆ–å°æ•¸)</p>
        
        <input type="text" id="unitInput" placeholder="ä¾‹å¦‚: 0.000001">
        <button class="btn" onclick="checkUnit()">æª¢æŸ¥ç­”æ¡ˆ</button>
        
        <div id="unitFeedback" class="status-box"></div>
    </div>

    <!-- äº’å‹•äºŒï¼šé »ç‡è¨ˆç®— -->
    <div class="card">
        <h2>Step 2: æ™‚è„ˆé »ç‡ (Clock Rate)</h2>
        <p>æœ‰äº†é€±æœŸ (æ™‚é–“)ï¼Œå°±èƒ½ç®—å‡ºé »ç‡ (é€Ÿåº¦)ã€‚</p>
        <div style="background: #f0f9ff; padding: 15px; border-radius: 8px;">
            <p>é€±æœŸ (T) = <span id="displayCycleTime">0.1</span> Î¼s = <span id="displaySeconds">1Ã—10<sup>-7</sup></span> s</p>
            <hr style="border: 0; border-top: 1px dashed #ccc;">
            <p>
                é »ç‡ (f) = 1 / T <br>
                = 1 / (<span id="calcSeconds">1Ã—10<sup>-7</sup></span>)<br>
                = <strong style="font-size: 1.5rem; color: var(--primary-color);" id="resultHz">10,000,000</strong> Cycles/sec (Hz)<br>
                = <span class="highlight" id="resultMHz">10 MHz</span>
            </p>
        </div>
        <p><small>* ç•¶æ™‚é–“è¶ŠçŸ­ï¼Œé »ç‡å°±è¶Šé«˜ï¼ŒCPU è·‘å¾—è¶Šå¿«ï¼</small></p>
    </div>

    <!-- äº’å‹•ä¸‰ï¼šCPI å¯¦é©—å®¤ -->
    <div class="card">
        <h2>Step 3: CPI çš„å½±éŸ¿å¯¦é©—</h2>
        <p>ç¾åœ¨æˆ‘å€‘æœ‰äº† <strong>10 MHz</strong> çš„é »ç‡ï¼Œä½† <span class="highlight">CPI = 2</span> (åŸ·è¡Œä¸€å€‹æŒ‡ä»¤è¦ 2 å€‹é€±æœŸ)ã€‚</p>
        <p>æ‹–å‹•æ»‘æ¡¿ï¼Œè§€å¯Ÿ CPI å¦‚ä½•å½±éŸ¿ MIPS å€¼ï¼š</p>

        <label for="cpiSlider"><strong>CPI å€¼: <span id="cpiValue" style="color: var(--secondary-color); font-size: 1.5rem;">2</span></strong></label>
        <input type="range" id="cpiSlider" min="1" max="6" step="0.5" value="2" oninput="updateSimulation()">

        <div style="display: flex; justify-content: space-around; align-items: center; margin-top: 20px; flex-wrap: wrap;">
            <div style="text-align: center; margin: 10px;">
                <div style="font-size: 0.9rem;">æ™‚è„ˆé »ç‡</div>
                <div style="font-size: 1.2rem; font-weight: bold;">10 MHz</div>
            </div>
            <div style="font-size: 1.5rem;">Ã·</div>
            <div style="text-align: center; margin: 10px;">
                <div style="font-size: 0.9rem;">CPI</div>
                <div style="font-size: 1.2rem; font-weight: bold; color: var(--secondary-color);" id="simCpi">2</div>
            </div>
            <div style="font-size: 1.5rem;">=</div>
            <div style="text-align: center; margin: 10px; background: #ecfdf5; padding: 10px 20px; border-radius: 8px; border: 2px solid #10b981;">
                <div style="font-size: 0.9rem; color: #065f46;">çµæœ (MIPS)</div>
                <div style="font-size: 2rem; font-weight: bold; color: #059669;" id="simMips">5</div>
            </div>
        </div>
        <p id="simDesc" style="text-align: center; color: var(--text-light); margin-top: 10px;">
            ç•¶ CPI=2ï¼Œä»£è¡¨æ¯ç§’æŒ‡ä»¤æ•¸åªæœ‰æ™‚è„ˆæ•¸çš„ä¸€åŠã€‚
        </p>
    </div>

    <!-- äº’å‹•å››ï¼šé€æ­¥æ¨å° -->
    <div class="card">
        <h2>ğŸš€ å®Œæ•´è§£é¡Œæ­¥é©Ÿ (å‹•ç•«æ¼”ç¤º)</h2>
        <div id="stepsContainer">
            <div class="step-item" id="step1">
                Step 1: å–®ä½æ›ç®—<br>
                0.1 Î¼s = 0.1 Ã— 10<sup>-6</sup> s = <strong>1 Ã— 10<sup>-7</sup> s</strong>
            </div>
            <div class="step-item" id="step2">
                Step 2: è¨ˆç®—æ™‚è„ˆé »ç‡ (Rate)<br>
                Rate = 1 / (1 Ã— 10<sup>-7</sup>) = <strong>10<sup>7</sup> Hz (10 MHz)</strong>
            </div>
            <div class="step-item" id="step3">
                Step 3: è¨ˆç®—æ¯ç§’æŒ‡ä»¤æ•¸ (IPS)<br>
                IPS = Rate / CPI = 10<sup>7</sup> / 2 = <strong>5 Ã— 10<sup>6</sup> instructions/s</strong>
            </div>
            <div class="step-item" id="step4">
                Step 4: æ›ç®—æˆ MIPS (Million IPS)<br>
                MIPS = (5 Ã— 10<sup>6</sup>) / 10<sup>6</sup> = <strong style="color: red; font-size: 1.2rem;">5</strong>
            </div>
        </div>
        <button class="btn" onclick="nextStep()" id="nextBtn">ä¸‹ä¸€æ­¥ â¡ï¸</button>
        <button class="btn btn-outline" onclick="resetSteps()" style="display:none;" id="resetStepBtn">é‡æ’­å‹•ç•«</button>
    </div>

    <!-- äº’å‹•äº”ï¼šé¸é …åˆ†æ -->
    <div class="card">
        <h2>ğŸ’¡ é¸é …åˆ†æ (ç‚ºä»€éº¼é¸ Bï¼Ÿ)</h2>
        <p>é»æ“Šé¸é …çœ‹çœ‹è€å¸«çš„è§£æï¼š</p>
        <div style="display: grid; gap: 10px;">
            <button class="btn btn-option" onclick="checkOption('A')">(A) 2</button>
            <button class="btn btn-option" onclick="checkOption('B')">(B) 5</button>
            <button class="btn btn-option" onclick="checkOption('C')">(C) 8</button>
            <button class="btn btn-option" onclick="checkOption('D')">(D) 10</button>
        </div>
        <div id="optionFeedback" class="status-box"></div>
    </div>

    <!-- äº’å‹•å…­ï¼šè‡ªæˆ‘æª¢æ¸¬ -->
    <div class="card">
        <h2>âœï¸ èª²å¾Œè‡ªæˆ‘æª¢æ¸¬</h2>
        
        <div style="margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
            <strong>Q1. è‹¥æ™‚è„ˆä¸è®Š (0.1 Î¼s)ï¼Œä½†ç¨‹å¼å„ªåŒ–å¾Œ CPI é™ç‚º 1ï¼ŒMIPS è®Šå¤šå°‘ï¼Ÿ</strong><br>
            <button class="btn btn-outline" style="font-size: 0.8rem; padding: 5px 10px;" onclick="toggleHint('hint1')">é¡¯ç¤º/éš±è—æç¤º</button>
            <div id="hint1" class="hint-text">
                æç¤ºï¼šCPI è®Šç‚º 1ï¼Œä»£è¡¨æ¯å€‹æŒ‡ä»¤åªéœ€ 1 å€‹é€±æœŸã€‚<br>
                å…¬å¼ï¼š10 MHz / 1 = ?
            </div>
        </div>

        <div style="margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
            <strong>Q2. è‹¥ CPU å‡ç´šï¼Œæ™‚è„ˆç¸®çŸ­ç‚º 0.01 Î¼sï¼ŒCPI ç¶­æŒ 2ï¼ŒMIPS è®Šå¤šå°‘ï¼Ÿ</strong><br>
            <button class="btn btn-outline" style="font-size: 0.8rem; padding: 5px 10px;" onclick="toggleHint('hint2')">é¡¯ç¤º/éš±è—æç¤º</button>
            <div id="hint2" class="hint-text">
                æç¤ºï¼šå…ˆç®—æ–°é »ç‡ã€‚0.01 Î¼s æ˜¯ 0.1 Î¼s çš„ååˆ†ä¹‹ä¸€ï¼Œæ‰€ä»¥é »ç‡æœƒå¿« 10 å€ (100 MHz)ã€‚<br>
                MIPS = 100 / 2 = ?
            </div>
        </div>

        <div>
            <strong>Q3. æŸç¨‹å¼åŸ·è¡Œéœ€ 5 ç§’ï¼Œç¸½æŒ‡ä»¤æ•¸ 20 ç™¾è¬å€‹ (20 Ã— 10^6)ï¼Œæ±‚ MIPSï¼Ÿ</strong><br>
            <button class="btn btn-outline" style="font-size: 0.8rem; padding: 5px 10px;" onclick="toggleHint('hint3')">é¡¯ç¤º/éš±è—æç¤º</button>
            <div id="hint3" class="hint-text">
                æç¤ºï¼šé€™æ˜¯ MIPS çš„å¦ä¸€å€‹å®šç¾©ï¼šMIPS = ç¸½æŒ‡ä»¤æ•¸(ç™¾è¬) / åŸ·è¡Œæ™‚é–“(ç§’)ã€‚<br>
                20 / 5 = ?
            </div>
        </div>
    </div>

    <!-- é å°¾ -->
    <div style="text-align: center; margin-top: 40px; color: var(--text-light);">
        <button class="btn" style="background-color: var(--text-light);" onclick="fullReset()">ğŸ”„ é‡ç½®æ‰€æœ‰ç·´ç¿’</button>
        <p style="margin-top: 20px; font-size: 0.9rem;">High School Computer Science Interactive Handout Â© 2025</p>
    </div>

</div>

<script>
    // --- äº’å‹•ä¸€ï¼šå–®ä½æ›ç®—é‚è¼¯ ---
    function checkUnit() {
        const input = document.getElementById('unitInput').value.trim();
        const feedback = document.getElementById('unitFeedback');
        
        // å˜—è©¦è§£æä½¿ç”¨è€…è¼¸å…¥ (æ”¯æ´ç§‘å­¸è¨˜è™Ÿ)
        const val = parseFloat(input);
        
        // 0.1us = 0.0000001 = 1e-7
        const correctVal = 0.0000001;
        const tolerance = 0.000000001;

        if (isNaN(val)) {
            feedback.className = "status-box status-error";
            feedback.innerHTML = "âŒ è«‹è¼¸å…¥æ•¸å­—å–”ï¼è©¦è©¦çœ‹ <code>1e-7</code> æˆ– <code>0.0000001</code>";
        } else if (Math.abs(val - correctVal) < tolerance) {
            feedback.className = "status-box status-success";
            feedback.innerHTML = "âœ… ç­”å°äº†ï¼<br>0.1 Î¼s å°±æ˜¯ 10<sup>-7</sup> ç§’ã€‚<br>é€™æ˜¯è¨ˆç®—é »ç‡çš„é—œéµç¬¬ä¸€æ­¥ã€‚";
        } else {
            feedback.className = "status-box status-error";
            feedback.innerHTML = "âš ï¸ ç­”æ¡ˆä¸å¤ªå°ã€‚<br>æç¤ºï¼šÎ¼ æ˜¯ 10<sup>-6</sup>ï¼Œæ‰€ä»¥ 0.1 Ã— 10<sup>-6</sup> = 10<sup>-7</sup>ã€‚";
        }
    }

    // --- äº’å‹•ä¸‰ï¼šCPI æ»‘æ¡¿é‚è¼¯ ---
    function updateSimulation() {
        const cpi = document.getElementById('cpiSlider').value;
        document.getElementById('cpiValue').innerText = cpi;
        document.getElementById('simCpi').innerText = cpi;

        // å›ºå®š Clock Rate = 10 MHz
        const clockRateMHz = 10; 
        
        // MIPS = Rate(MHz) / CPI
        const mips = (clockRateMHz / cpi).toFixed(2);
        
        // æ›´æ–°é¡¯ç¤º
        const resultEl = document.getElementById('simMips');
        resultEl.innerText = parseFloat(mips); // å»é™¤å¤šé¤˜çš„ .00

        // å‹•æ…‹èªªæ˜
        const descEl = document.getElementById('simDesc');
        if(cpi == 1) {
            descEl.innerText = "ç†æƒ³ç‹€æ…‹ï¼CPI=1 æ™‚ï¼ŒMIPS ç›´æ¥ç­‰æ–¼æ™‚è„ˆé »ç‡ (MHz)ã€‚";
        } else if (cpi == 2) {
            descEl.innerText = "é¡Œç›®è¨­å®šç‹€æ…‹ï¼šCPI=2ï¼Œæ•ˆèƒ½æ˜¯æ™‚è„ˆé »ç‡çš„ä¸€åŠã€‚";
        } else if (cpi > 4) {
            descEl.innerText = "CPI å¤ªé«˜äº†ï¼ä»£è¡¨æŒ‡ä»¤åŸ·è¡Œæ•ˆç‡å·®ï¼ŒMIPS å¤§å¹…ä¸‹é™ã€‚";
        } else {
            descEl.innerText = `CPI=${cpi} æ™‚ï¼ŒMIPS ç‚º ${parseFloat(mips)}ã€‚`;
        }
    }

    // --- äº’å‹•å››ï¼šé€æ­¥æ¨å°å‹•ç•« ---
    let currentStep = 0;
    const totalSteps = 4;

    function nextStep() {
        if (currentStep < totalSteps) {
            currentStep++;
            // ç§»é™¤èˆŠçš„ activeï¼ŒåŠ ä¸Šæ–°çš„
            const el = document.getElementById(`step${currentStep}`);
            el.style.opacity = "1";
            el.classList.add('step-active');
            
            // å¦‚æœå®Œæˆäº†
            if (currentStep === totalSteps) {
                document.getElementById('nextBtn').style.display = 'none';
                document.getElementById('resetStepBtn').style.display = 'inline-block';
            }
        }
    }

    function resetSteps() {
        currentStep = 0;
        for(let i=1; i<=totalSteps; i++) {
            const el = document.getElementById(`step${i}`);
            el.style.opacity = "0.3";
            el.classList.remove('step-active');
        }
        document.getElementById('nextBtn').style.display = 'inline-block';
        document.getElementById('resetStepBtn').style.display = 'none';
    }

    // --- äº’å‹•äº”ï¼šé¸é …åˆ†æ ---
    function checkOption(option) {
        const feedback = document.getElementById('optionFeedback');
        let text = "";
        let isCorrect = false;

        switch(option) {
            case 'A':
                text = "âŒ <strong>(A) 2 æ˜¯é™·é˜±ï¼</strong><br>é€™å¯èƒ½æ˜¯ä½ å¿˜äº†æŠŠ 0.1 Î¼s æ›ç®—æˆé »ç‡ï¼Œæˆ–æ˜¯ç›´æ¥çœ‹åˆ° CPI=2 å°±é¸äº†ã€‚è¨˜ä½ï¼šMIPS = é »ç‡ / CPIã€‚";
                break;
            case 'B':
                text = "âœ… <strong>(B) 5 æ˜¯æ­£ç¢ºç­”æ¡ˆï¼</strong><br>æ­¥é©Ÿï¼š<br>1. 0.1 Î¼s = 10 MHz<br>2. MIPS = 10 / 2 = 5ã€‚<br>æ­å–œä½ å®Œå…¨æŒæ¡äº†ï¼";
                isCorrect = true;
                break;
            case 'C':
                text = "âŒ <strong>(C) 8 æ€éº¼ä¾†çš„ï¼Ÿ</strong><br>è¨ˆç®—éç¨‹ä¸­æ²’æœ‰å‡ºç¾ 8 é€™å€‹æ•¸å­—å–”ï¼Œè«‹å†æª¢æŸ¥ä¸€ä¸‹å…¬å¼ï¼šMIPS = é »ç‡ / CPIã€‚";
                break;
            case 'D':
                text = "âŒ <strong>(D) 10 æ˜¯é™·é˜±ï¼</strong><br>é€™ä»£è¡¨ä½ ç®—å‡ºäº† 10 MHz çš„é »ç‡ï¼Œä½†æ˜¯<strong>å¿˜è¨˜é™¤ä»¥ CPI</strong>ï¼å¦‚æœ CPI=1 ç­”æ¡ˆæ‰æ˜¯ 10ã€‚";
                break;
        }

        feedback.innerHTML = text;
        feedback.className = isCorrect ? "status-box status-success" : "status-box status-error";
    }

    // --- äº’å‹•å…­ï¼šæç¤ºé–‹é—œ ---
    function toggleHint(id) {
        const el = document.getElementById(id);
        if (el.style.display === 'block') {
            el.style.display = 'none';
        } else {
            el.style.display = 'block';
        }
    }

    // --- å…¨åŸŸé‡ç½® ---
    function fullReset() {
        // é‡ç½®è¼¸å…¥
        document.getElementById('unitInput').value = "";
        document.getElementById('unitFeedback').style.display = 'none';
        
        // é‡ç½®æ»‘æ¡¿
        document.getElementById('cpiSlider').value = 2;
        updateSimulation();

        // é‡ç½®æ­¥é©Ÿ
        resetSteps();

        // é‡ç½®é¸é …åé¥‹
        document.getElementById('optionFeedback').style.display = 'none';

        // é—œé–‰æç¤º
        ['hint1', 'hint2', 'hint3'].forEach(id => {
            document.getElementById(id).style.display = 'none';
        });

        // æ²å‹•åˆ°é ‚éƒ¨
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // åˆå§‹åŒ–åŸ·è¡Œä¸€æ¬¡ simulation ç¢ºä¿æ•¸å€¼æ­£ç¢º
    window.onload = function() {
        updateSimulation();
    };
</script>

</body>
</html>