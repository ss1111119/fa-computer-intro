<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»è…¦æ¦‚è«–è¤‡ç¿’ï¼šIPv4 ä½å€ä¸è¶³è§£æ±ºæ–¹æ¡ˆ</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #2c3e50; /* æ·±è—ç° */
            --accent-color: #3498db;  /* äº®è— */
            --highlight-bg: #fff9c4;  /* è¢å…‰ç­†é»ƒ */
            --correct-color: #27ae60; /* æ­£ç¢ºç¶  */
            --wrong-color: #c0392b;   /* éŒ¯èª¤ç´… */
            --card-bg: #ffffff;
            --bg-color: #f4f6f7;
            --border-radius: 8px;
        }

        body {
            font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        /* --- å®¹å™¨èˆ‡ç‰ˆé¢ --- */
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        /* --- A. æ¨™é¡Œå€ --- */
        header {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 15px;
            margin-bottom: 25px;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        header span.tag {
            background-color: var(--primary-color);
            color: #fff;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            margin-right: 10px;
        }

        /* --- é€šç”¨å€å¡Šæ¨£å¼ --- */
        .section-box {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: var(--border-radius);
            position: relative;
        }
        
        .section-title {
            font-weight: bold;
            font-size: 1.1rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .section-title::before {
            content: '';
            display: inline-block;
            width: 5px;
            height: 20px;
            background-color: var(--accent-color);
            margin-right: 10px;
            border-radius: 2px;
        }

        /* --- B. é¡Œç›®å€ --- */
        .question-text {
            font-size: 1.15rem;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .options-list {
            list-style: none;
            padding: 0;
        }
        .options-list li {
            margin-bottom: 8px;
            padding: 8px;
            background-color: #fafafa;
            border-radius: 4px;
        }
        .toggle-ans-btn {
            background-color: #95a5a6;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
        }
        .hidden-ans {
            display: none;
            margin-top: 10px;
            font-weight: bold;
            color: var(--correct-color);
        }

        /* --- C, D, E. åˆ†ææ­¥é©Ÿå€ --- */
        .highlight {
            background-color: var(--highlight-bg);
            padding: 0 4px;
            border-radius: 2px;
            font-weight: bold;
            border-bottom: 2px solid #f1c40f;
        }
        .step-content {
            padding-left: 15px;
            border-left: 3px solid #eee;
        }
        .analogy {
            background-color: #e8f6f3;
            padding: 10px;
            border-radius: 6px;
            margin-top: 5px;
            font-size: 0.95rem;
        }

        /* --- F. äº’å‹•æ ¸å¿ƒï¼šä¸‰å¤§è§£æ³•å¡ç‰‡ --- */
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
        }
        .concept-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: #fff;
        }
        .concept-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: var(--accent-color);
        }
        .card-header {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }
        .card-header::after {
            content: '+';
            font-weight: normal;
            color: #aaa;
        }
        .concept-card.active .card-header::after {
            content: '-';
        }
        .card-body {
            display: none;
            font-size: 0.9rem;
            color: #555;
            margin-top: 10px;
            border-top: 1px dashed #eee;
            padding-top: 10px;
        }
        .concept-card.active .card-body {
            display: block;
            animation: fadeIn 0.5s;
        }
        .card-tag {
            display: inline-block;
            font-size: 0.8rem;
            background-color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 4px;
            margin-bottom: 5px;
        }

        /* --- G. NAT å‹•ç•«å€ --- */
        .nat-demo-box {
            background-color: #2c3e50;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            min-height: 250px;
        }
        .nat-scene {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        .device-group {
            text-align: center;
            width: 30%;
        }
        .device-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }
        .router-box {
            background-color: #e67e22;
            padding: 10px;
            border-radius: 8px;
            color: white;
            font-size: 0.9rem;
        }
        .nat-table {
            background: rgba(0,0,0,0.3);
            font-size: 0.7rem;
            margin-top: 5px;
            padding: 5px;
            border-radius: 4px;
            text-align: left;
            font-family: monospace;
        }
        .packet {
            width: 15px;
            height: 15px;
            background-color: #f1c40f;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 10%;
            transform: translateY(-50%);
            display: none;
            box-shadow: 0 0 10px #f1c40f;
            z-index: 10;
        }
        .demo-controls {
            margin-top: 15px;
            text-align: center;
        }
        .demo-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }
        .demo-btn:hover {
            background-color: #2980b9;
        }
        .demo-status {
            text-align: center;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #ecf0f1;
            min-height: 1.5em;
        }

        /* --- H. é¸é …åˆ†æ --- */
        .option-analysis-item {
            margin-bottom: 10px;
            padding: 10px;
            border-left: 4px solid #ddd;
            background-color: #fafafa;
        }
        .analysis-correct {
            border-left-color: var(--correct-color);
        }
        .analysis-wrong {
            border-left-color: var(--wrong-color);
        }

        /* --- I. é‡è¦æé†’ & K. å£è¨£ --- */
        .alert-box {
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .mnemonic-box {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
        }

        /* --- M. ä½œç­”å€ --- */
        .quiz-section {
            background-color: #eafaf1;
            border: 2px solid var(--correct-color);
        }
        .quiz-option {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            border: 1px solid #ddd;
        }
        .quiz-option:hover {
            background-color: #f9f9f9;
        }
        .quiz-option input {
            margin-right: 10px;
            transform: scale(1.2);
        }
        .submit-btn {
            background-color: var(--correct-color);
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
        }
        .submit-btn:hover {
            background-color: #219150;
        }
        .feedback-area {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            display: none;
        }
        .feedback-correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .feedback-wrong {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* --- O. è‡ªæˆ‘æª¢æ¸¬ --- */
        .self-check-list li {
            margin-bottom: 10px;
            font-style: italic;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            margin-top: 40px;
            font-size: 0.8rem;
            color: #888;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* RWD */
        @media (max-width: 600px) {
            .container { padding: 15px; }
            .nat-scene { flex-direction: column; gap: 20px; }
            .device-group { width: 100%; }
            .packet { display: none !important; /* Mobile simplified animation */ }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- A. æ¨™é¡Œå€ -->
    <header>
        <span class="tag">é¡Œè™Ÿ 47</span>
        <span class="tag">é›»è…¦ç¶²è·¯</span>
        <h1>IPv4 ä½å€ä¸è¶³è§£æ±ºæŠ€è¡“è¾¨è­˜</h1>
    </header>

    <!-- B. é¡Œç›®å€ -->
    <div class="section-box">
        <div class="section-title">é¡Œç›®</div>
        <div class="question-text">
            47. ä¸‹åˆ—ä½•è€…æŠ€è¡“å¯ä»¥è§£æ±º IPv4 ä½å€ä¸è¶³çš„å•é¡Œ?<br>
            <small style="color:#666; font-weight:normal;">(è¤‡é¸é¡Œ)</small>
        </div>
        <ul class="options-list">
            <li>(A) SNMP</li>
            <li>(B) NAT</li>
            <li>(C) DHCP</li>
            <li>(D) IPv6</li>
            <li>(E) HTTP</li>
        </ul>
        <button class="toggle-ans-btn" onclick="toggleAnswer()">é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ</button>
        <div id="correctAnswer" class="hidden-ans">ç­”æ¡ˆï¼šB, C, D</div>
    </div>

    <!-- C. ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­— -->
    <div class="section-box">
        <div class="section-title">ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­—</div>
        <div class="step-content">
            <p>é¡Œç›®å•çš„æ˜¯ï¼š<span class="highlight">IPv4 ä½å€ä¸è¶³</span> çš„ <span class="highlight">è§£æ±ºæŠ€è¡“</span>ã€‚</p>
            <p><strong>æ€è€ƒæ–¹å‘ï¼š</strong>ä½ è¦æ‰¾çš„æ˜¯ã€Œè®“ IP ä½å€è®Šå¤šã€æˆ–è€…ã€Œç¯€çœä½¿ç”¨ IP ä½å€ã€çš„æŠ€è¡“ï¼Œè€Œä¸æ˜¯ç®¡ç†ç¶²è·¯æˆ–çœ‹ç¶²é çš„æŠ€è¡“ã€‚</p>
        </div>
    </div>

    <!-- D. ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯ -->
    <div class="section-box">
        <div class="section-title">ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯</div>
        <div class="step-content">
            <p>ã€Œç¾åœ¨ç¶²è·¯ä¸Šçš„é–€ç‰Œè™Ÿç¢¼ï¼ˆIPv4ï¼‰å¿«ç™¼å®Œäº†ï¼Œæœ‰å“ªäº›æ–¹æ³•å¯ä»¥è®“æˆ‘å€‘ã€å…±ç”¨é–€ç‰Œã€ã€ã€æš«æ™‚å€Ÿç”¨ã€æˆ–æ˜¯ã€æ›ä¸€ç¨®è™Ÿç¢¼æ›´å¤šçš„æ–°é–€ç‰Œã€ï¼Ÿã€</p>
        </div>
    </div>

    <!-- E. ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯ -->
    <div class="section-box">
        <div class="section-title">ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯èˆ‡åŸç†</div>
        <p>é€™é¡Œåœ¨è€ƒ IPv4 ä½å€è€—ç›¡ï¼ˆAddress Exhaustionï¼‰çš„ä¸‰å¤§å°ç­–ï¼š</p>
        <ol>
            <li><strong>çœä½å€</strong>ï¼šç”¨ NATï¼ˆå¤šäººå…±ç”¨ä¸€å€‹å°å¤– IPï¼‰ã€‚</li>
            <li><strong>ä¸æµªè²»</strong>ï¼šç”¨ DHCPï¼ˆæœ‰äººç”¨æ‰ç™¼ï¼Œä¸ç”¨å°±æ”¶å›ï¼‰ã€‚</li>
            <li><strong>ç›´æ¥æ“´å®¹</strong>ï¼šç”¨ IPv6ï¼ˆæ›æˆè¶…é•·ä½å€ï¼Œå¹¾ä¹ç”¨ä¸å®Œï¼‰ã€‚</li>
        </ol>
        <div class="analogy">
            <strong>ç”Ÿæ´»æ¯”å–»ï¼š</strong>
            <ul>
                <li><strong>NAT</strong>ï¼šåƒå…¨å®¶å…±ç”¨ä¸€å€‹ã€Œé–€ç‰Œè™Ÿç¢¼ã€ï¼Œæ¯å€‹äººæˆ¿é–“æœ‰è‡ªå·±çš„ã€Œåˆ†æ©Ÿè™Ÿç¢¼ã€ã€‚</li>
                <li><strong>DHCP</strong>ï¼šåƒã€Œç§Ÿå€Ÿåœè»Šä½ã€ï¼Œä½ è»Šå­é–‹èµ°å°±æŠŠä½å­è®“çµ¦ä¸‹ä¸€å€‹äººï¼Œä¸æœƒæ°¸é éœ¸ä½”ã€‚</li>
                <li><strong>IPv6</strong>ï¼šåƒé›»è©±è™Ÿç¢¼ä¸å¤ ç”¨ï¼Œç›´æ¥æŠŠ 7 ç¢¼æ”¹æˆ 20 ç¢¼ï¼Œè™Ÿç¢¼ç¬é–“è®Šè¶…å¤šã€‚</li>
            </ul>
        </div>
    </div>

    <!-- F. äº’å‹•æ ¸å¿ƒï¼šä¸‰å¤§è§£æ³•åœ–è§£ -->
    <div class="section-box">
        <div class="section-title">æ ¸å¿ƒè§€å¿µå¡ç‰‡ (é»æ“Šå±•é–‹)</div>
        <div class="cards-container">
            <!-- NAT Card -->
            <div class="concept-card" onclick="toggleCard(this)">
                <div class="card-header">NAT</div>
                <div class="card-tag">ç¶²è·¯ä½å€è½‰æ›</div>
                <div>Network Address Translation</div>
                <div class="card-body">
                    <p><strong>æ€éº¼è§£æ±ºï¼Ÿ</strong> æŠŠå¤šå€‹ã€Œç§æœ‰ IPã€ï¼ˆå…§ç¶²ï¼‰è½‰æ›æˆ 1 å€‹ã€Œå…¬æœ‰ IPã€ï¼ˆå¤–ç¶²ï¼‰ã€‚</p>
                    <p><strong>å¸¸è¦‹å ´æ™¯ï¼š</strong> å®¶è£¡çš„ Wi-Fi åˆ†äº«å™¨ã€å…¬å¸çš„é˜²ç«ç‰†ã€‚</p>
                    <p><strong>é™åˆ¶ï¼š</strong> å¤–éƒ¨è¦ä¸»å‹•é€£é€²å…§éƒ¨æ¯”è¼ƒéº»ç…©ï¼ˆéœ€è¦è¨­å®š Port Forwardingï¼‰ã€‚</p>
                </div>
            </div>

            <!-- DHCP Card -->
            <div class="concept-card" onclick="toggleCard(this)">
                <div class="card-header">DHCP</div>
                <div class="card-tag">å‹•æ…‹ä¸»æ©Ÿè¨­å®šå”å®š</div>
                <div>Dynamic Host Configuration Protocol</div>
                <div class="card-body">
                    <p><strong>æ€éº¼è§£æ±ºï¼Ÿ</strong> é€éã€Œç§Ÿç´„ (Lease)ã€æ©Ÿåˆ¶åˆ†é… IPã€‚ä¸ä¸Šç¶²çš„äºº IP æœƒè¢«å›æ”¶ï¼Œåˆ†é…çµ¦éœ€è¦çš„äººï¼Œæé«˜åˆ©ç”¨ç‡ã€‚</p>
                    <p><strong>å¸¸è¦‹å ´æ™¯ï¼š</strong> æ‰‹æ©Ÿé€£ä¸Šå’–å•¡å»³ Wi-Fi æ™‚è‡ªå‹•å–å¾— IPã€‚</p>
                    <p><strong>æ³¨æ„ï¼š</strong> é›–ç„¶ä¸»è¦åŠŸèƒ½æ˜¯è‡ªå‹•è¨­å®šï¼Œä½†åœ¨è€ƒè©¦ä¸­å¸¸è¢«è¦–ç‚ºç·©è§£ä½å€ä¸è¶³çš„æ‰‹æ®µã€‚</p>
                </div>
            </div>

            <!-- IPv6 Card -->
            <div class="concept-card" onclick="toggleCard(this)">
                <div class="card-header">IPv6</div>
                <div class="card-tag">ç¶²éš›ç¶²è·¯å”å®šç¬¬å…­ç‰ˆ</div>
                <div>Internet Protocol version 6</div>
                <div class="card-body">
                    <p><strong>æ€éº¼è§£æ±ºï¼Ÿ</strong> å¾¹åº•è§£æ±ºï¼ä½å€é•·åº¦å¾ 32 ä½å…ƒå‡ç´šåˆ° 128 ä½å…ƒã€‚</p>
                    <p><strong>ç‰¹å¾µï¼š</strong> ä½å€å¤šåˆ°å¯ä»¥ã€Œè®“åœ°çƒä¸Šæ¯ä¸€ç²’æ²™å­éƒ½æœ‰ä¸€å€‹ IPã€ã€‚</p>
                    <p><strong>ç¾ç‹€ï¼š</strong> ç›®å‰æ­£èˆ‡ IPv4 ä¸¦å­˜ï¼Œé€æ¼¸è½‰æ›ä¸­ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <!-- G. äº’å‹•ç¤ºç¯„ï¼šNAT å°å‹•ç•« -->
    <div class="section-box">
        <div class="section-title">äº’å‹•æ¼”ç¤ºï¼šNAT æ€éº¼çœä½å€ï¼Ÿ</div>
        <div class="nat-demo-box">
            <div class="nat-scene">
                <!-- å·¦å´ï¼šå…§ç¶² -->
                <div class="device-group" style="text-align:left;">
                    <div style="margin-bottom:10px;">
                        <span style="font-size:2rem;">ğŸ’»</span><br>
                        <small>PC A<br>192.168.1.10</small>
                    </div>
                    <div>
                        <span style="font-size:2rem;">ğŸ“±</span><br>
                        <small>PC B<br>192.168.1.11</small>
                    </div>
                    <div style="border-top:1px dashed #aaa; margin-top:5px; padding-top:5px; color:#bdc3c7;">å…§ç¶² (LAN)</div>
                </div>

                <!-- ä¸­é–“ï¼šè·¯ç”±å™¨ NAT -->
                <div class="device-group" style="width: 35%;">
                    <div class="router-box">
                        <div style="font-weight:bold; margin-bottom:5px;">è·¯ç”±å™¨ (NAT)</div>
                        <small>å…¬ç¶² IP: 203.0.113.5</small>
                        <div class="nat-table" id="natTable">
                            è½‰æ›è¡¨ (NAT Table):<br>
                            [ ç©º ]
                        </div>
                    </div>
                </div>

                <!-- å³å´ï¼šç¶²éš›ç¶²è·¯ -->
                <div class="device-group" style="text-align:right;">
                    <div style="font-size:3rem;">â˜ï¸</div>
                    <div>Internet</div>
                    <small>ä¼ºæœå™¨ IP<br>8.8.8.8</small>
                </div>
                
                <!-- å‹•ç•«å°åŒ… -->
                <div id="packet" class="packet"></div>
            </div>

            <div class="demo-controls">
                <button class="demo-btn" onclick="runNatDemo()">é€å‡ºå°åŒ… (PC A ä¸Šç¶²)</button>
                <div id="demoStatus" class="demo-status">é»æ“ŠæŒ‰éˆ•è§€å¯Ÿ NAT å¦‚ä½•é‹ä½œ</div>
            </div>
        </div>
        <p style="font-size:0.9rem; color:#666; margin-top:10px;">
            <strong>è§€å¯Ÿé‡é»ï¼š</strong> å…§ç¶²çš„ 192.168.1.10 é€å‡ºè³‡æ–™æ™‚ï¼Œç¶“éè·¯ç”±å™¨ï¼ŒIP è¢«æ›æˆäº†å…¬ç¶²çš„ 203.0.113.5ï¼Œä¸¦åŠ ä¸Šä¸€å€‹ Port è™Ÿä¾†å€åˆ†æ˜¯å“ªå°é›»è…¦é€çš„ã€‚é€™æ¨£å…¨å®¶åªè¦ä¸€å€‹å…¬ç¶² IP å°±èƒ½ä¸Šç¶²ï¼
        </p>
    </div>

    <!-- H. ç¬¬å››æ­¥ï¼šé¸é …åˆ†æ -->
    <div class="section-box">
        <div class="section-title">ç¬¬å››æ­¥ï¼šé¸é …é€ä¸€åˆ†æ</div>
        
        <div class="option-analysis-item analysis-wrong">
            <strong>(A) SNMP (Simple Network Management Protocol) âŒ</strong>
            <p>é€™æ˜¯ã€Œç°¡å–®ç¶²è·¯ç®¡ç†å”å®šã€ã€‚ç”¨ä¾†ç›£æ§ç¶²è·¯è¨­å‚™ï¼ˆå¦‚ï¼šè·¯ç”±å™¨çš„ CPU ä½¿ç”¨ç‡ã€æµé‡ï¼‰ï¼Œè·Ÿç¯€çœ IP ä½å€å®Œå…¨ç„¡é—œã€‚</p>
        </div>

        <div class="option-analysis-item analysis-correct">
            <strong>(B) NAT (Network Address Translation) âœ…</strong>
            <p><strong>ç¶²è·¯ä½å€è½‰æ›</strong>ã€‚æœ€ç¶“å…¸çš„æŠ€è¡“ï¼Œè®“ç§æœ‰ IP è½‰æ›æˆå…¬æœ‰ IPï¼Œé”æˆå¤šæ©Ÿå…±ç”¨ã€‚</p>
        </div>

        <div class="option-analysis-item analysis-correct">
            <strong>(C) DHCP (Dynamic Host Configuration Protocol) âœ…</strong>
            <p><strong>å‹•æ…‹ä¸»æ©Ÿè¨­å®šå”å®š</strong>ã€‚é€éå‹•æ…‹åˆ†é…èˆ‡å›æ”¶ IPï¼Œé¿å…é–’ç½®æµªè²»ï¼Œæœ‰æ•ˆåˆ©ç”¨æœ‰é™çš„ IP è³‡æºã€‚</p>
        </div>

        <div class="option-analysis-item analysis-correct">
            <strong>(D) IPv6 (Internet Protocol version 6) âœ…</strong>
            <p><strong>ç¬¬å…­ç‰ˆ IP</strong>ã€‚ç›´æ¥å°‡ä½å€ç©ºé–“å¾ $2^{32}$ æ“´å¢åˆ° $2^{128}$ï¼Œæ˜¯è§£æ±ºä½å€ä¸è¶³çš„æœ€çµ‚é•·é è§£æ³•ã€‚</p>
        </div>

        <div class="option-analysis-item analysis-wrong">
            <strong>(E) HTTP (HyperText Transfer Protocol) âŒ</strong>
            <p>é€™æ˜¯ã€Œè¶…æ–‡å­—å‚³è¼¸å”å®šã€ã€‚é€™æ˜¯ä½ ç€è¦½ç¶²é ç”¨çš„å”å®šï¼ˆç¶²å€é–‹é ­çš„ http://ï¼‰ï¼Œè² è²¬å‚³è¼¸ç¶²é è³‡æ–™ï¼Œä¸è² è²¬åˆ†é… IPã€‚</p>
        </div>
    </div>

    <!-- I. é‡è¦è€ƒè©¦æé†’ -->
    <div class="alert-box">
        <strong>âš ï¸ é‡è¦è€ƒè©¦è§€å¿µï¼š</strong>
        <ul>
            <li><strong>NAT</strong>ï¼šé—œéµå­—æ˜¯ã€Œå…±äº«ã€ã€ã€Œè½‰æ›ã€ã€ã€Œç§æœ‰è½‰å…¬æœ‰ã€ã€‚</li>
            <li><strong>DHCP</strong>ï¼šé—œéµå­—æ˜¯ã€Œè‡ªå‹•åˆ†é…ã€ã€ã€Œç§Ÿç´„ (Lease)ã€ã€‚</li>
            <li><strong>IPv6</strong>ï¼šé—œéµå­—æ˜¯ã€Œ128 ä½å…ƒã€ã€ã€Œä¸‹ä¸€ä»£å”å®šã€ã€‚</li>
        </ul>
    </div>

    <!-- K. è¨˜æ†¶å£è¨£ -->
    <div class="section-box">
        <div class="mnemonic-box">
            ğŸ”¥ è€ƒå‰å£è¨£ï¼š<br>
            ã€Œçœä½å€ç”¨ NATï¼Œå€Ÿä½å€é  DHCPï¼Œæ ¹æ²»å‡ç´š IPv6ã€
        </div>
    </div>

    <!-- L. å¸¸è¦‹é™·é˜± -->
    <div class="section-box">
        <div class="section-title">é¿å‘æŒ‡å—</div>
        <ul>
            <li>çœ‹åˆ°è‹±æ–‡ç¸®å¯«ä¸è¦æ…Œï¼Œå…ˆåˆ†é¡ï¼šæ˜¯ã€Œæ‡‰ç”¨å±¤æœå‹™ã€(HTTP, FTP) é‚„æ˜¯ã€Œç¶²è·¯å±¤æŠ€è¡“ã€(IP, NAT)ã€‚</li>
            <li><strong>é™·é˜±ï¼š</strong> SNMP å’Œ SMTP é‚„æœ‰ DHCP é•·å¾—éƒ½å¾ˆåƒï¼Œå°å¿ƒä¸è¦çœ¼èŠ±ã€‚
                <ul>
                    <li>SNMPï¼šç®¡ç†ç”¨ (Management)</li>
                    <li>SMTPï¼šå¯„ä¿¡ç”¨ (Mail)</li>
                    <li>DHCPï¼šç™¼ IP ç”¨ (Host Configuration)</li>
                </ul>
            </li>
        </ul>
    </div>

    <!-- M. ä½œç­”å€ -->
    <div class="section-box quiz-section">
        <div class="section-title">ğŸ¯ æ¨¡æ“¬å¯¦æˆ° (è«‹å‹¾é¸æ­£ç¢ºç­”æ¡ˆ)</div>
        <div style="margin-bottom: 10px;">é¡Œç›®ï¼šä¸‹åˆ—ä½•è€…æŠ€è¡“å¯ä»¥è§£æ±º IPv4 ä½å€ä¸è¶³çš„å•é¡Œ?</div>
        
        <label class="quiz-option"><input type="checkbox" name="quiz" value="A"> (A) SNMP</label>
        <label class="quiz-option"><input type="checkbox" name="quiz" value="B"> (B) NAT</label>
        <label class="quiz-option"><input type="checkbox" name="quiz" value="C"> (C) DHCP</label>
        <label class="quiz-option"><input type="checkbox" name="quiz" value="D"> (D) IPv6</label>
        <label class="quiz-option"><input type="checkbox" name="quiz" value="E"> (E) HTTP</label>

        <button class="submit-btn" onclick="checkQuiz()">é€å‡ºä½œç­”</button>
        
        <div id="quizFeedback" class="feedback-area"></div>
    </div>

    <!-- O. è‡ªæˆ‘æª¢æ¸¬ -->
    <div class="section-box self-check-box">
        <div class="section-title">è‡ªæˆ‘æª¢æ¸¬ (æƒ³ä¸€æƒ³ï¼Œä¸çœ‹ç­”æ¡ˆ)</div>
        <ul class="self-check-list">
            <li>Q1: NAT ç‚ºä»€éº¼å¸¸å’Œ Portï¼ˆé€£æ¥åŸ ï¼‰ä¸€èµ·å‡ºç¾ï¼Ÿ(æç¤ºï¼šé–€ç‰Œèˆ‡åˆ†æ©Ÿ)</li>
            <li>Q2: IPv4 ä½å€æ˜¯ 32 ä½å…ƒï¼ŒIPv6 æ˜¯å¤šå°‘ä½å…ƒï¼Ÿ</li>
            <li>Q3: å¦‚æœå…¨ä¸–ç•Œéƒ½å‡ç´šæˆ IPv6ï¼Œæˆ‘å€‘é‚„éœ€è¦ NAT ä¾†ç¯€çœä½å€å—ï¼Ÿ</li>
        </ul>
    </div>

    <footer>
        <p>Designed for Computer Science Education | HTML5/CSS3/JS | No Libraries</p>
    </footer>
</div>

<script>
    // 1. é¡¯ç¤º/éš±è—ç­”æ¡ˆ
    function toggleAnswer() {
        const ansDiv = document.getElementById('correctAnswer');
        const btn = document.querySelector('.toggle-ans-btn');
        if (ansDiv.style.display === 'block') {
            ansDiv.style.display = 'none';
            btn.textContent = 'é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ';
        } else {
            ansDiv.style.display = 'block';
            btn.textContent = 'éš±è—ç­”æ¡ˆ';
        }
    }

    // 2. å¡ç‰‡å±•é–‹æ•ˆæœ
    function toggleCard(card) {
        card.classList.toggle('active');
    }

    // 3. NAT å‹•ç•«é‚è¼¯
    function runNatDemo() {
        const packet = document.getElementById('packet');
        const status = document.getElementById('demoStatus');
        const table = document.getElementById('natTable');
        const btn = document.querySelector('.demo-btn');

        // é˜²æ­¢é‡è¤‡é»æ“Š
        btn.disabled = true;
        btn.style.opacity = "0.5";
        status.innerHTML = "å°åŒ…å¾ PC A (192.168.1.10) å‡ºç™¼...";
        
        // é‡ç½®ç‹€æ…‹
        packet.style.display = 'block';
        packet.style.left = '10%';
        packet.style.backgroundColor = '#f1c40f'; // å…§ç¶²é¡è‰²
        table.innerHTML = "è½‰æ›è¡¨ (NAT Table):<br>[ ç­‰å¾…å°åŒ…... ]";

        // ç¬¬ä¸€éšæ®µï¼šå…§ç¶² -> Router
        let pos = 10;
        const interval = setInterval(() => {
            if (pos >= 45) { // åˆ°é” Router
                clearInterval(interval);
                // NAT è™•ç†ä¸­
                status.innerHTML = "è·¯ç”±å™¨æ­£åœ¨é€²è¡Œ NAT è½‰æ›...<br>å°‡ 192.168.1.10 æ›¿æ›ç‚º 203.0.113.5:1024";
                packet.style.backgroundColor = '#e74c3c'; // è®Šè‰²è¡¨ç¤ºè½‰æ›
                
                // æ›´æ–°è¡¨æ ¼
                table.innerHTML = "è½‰æ›è¡¨ (NAT Table):<br><span style='color:#f1c40f'>192.168.1.10:80</span> <br>â¬‡ï¸ è½‰æ›ç‚º â¬‡ï¸<br><span style='color:#e74c3c'>203.0.113.5:1024</span>";

                setTimeout(() => {
                    // ç¬¬äºŒéšæ®µï¼šRouter -> Internet
                    status.innerHTML = "å°åŒ…é€å¾€ Internet (ä¾†æºå·²è®Šç‚ºå…¬ç¶² IP)";
                    const interval2 = setInterval(() => {
                        if (pos >= 85) { // åˆ°é” Internet
                            clearInterval(interval2);
                            status.innerHTML = "âœ… å‚³é€æˆåŠŸï¼ä¼ºæœå™¨æ”¶åˆ°ä¾†è‡ª 203.0.113.5 çš„è«‹æ±‚ã€‚";
                            packet.style.display = 'none';
                            btn.disabled = false;
                            btn.style.opacity = "1";
                        } else {
                            pos++;
                            packet.style.left = pos + '%';
                        }
                    }, 20);
                }, 1500); // åœé “ 1.5ç§’è®“å­¸ç”Ÿçœ‹è¡¨æ ¼

            } else {
                pos++;
                packet.style.left = pos + '%';
            }
        }, 20);
    }

    // 4. æ¸¬é©—æª¢æŸ¥é‚è¼¯
    function checkQuiz() {
        const checkboxes = document.querySelectorAll('input[name="quiz"]:checked');
        const feedback = document.getElementById('quizFeedback');
        let selectedValues = [];
        checkboxes.forEach((checkbox) => {
            selectedValues.push(checkbox.value);
        });

        // æ’åºæ¯”è¼ƒ
        selectedValues.sort();
        const correctAnswers = ['B', 'C', 'D'];
        
        // åˆ¤æ–·é‚è¼¯
        const isCorrect = JSON.stringify(selectedValues) === JSON.stringify(correctAnswers);

        feedback.style.display = 'block';
        if (isCorrect) {
            feedback.className = 'feedback-area feedback-correct';
            feedback.innerHTML = '<strong>ğŸ‰ ç­”å°äº†ï¼</strong><br>NAT(çœä½å€)ã€DHCP(ç§Ÿç”¨ä½å€)ã€IPv6(æ“´å……ä½å€) éƒ½æ˜¯æ­£è§£ã€‚';
        } else {
            feedback.className = 'feedback-area feedback-wrong';
            let msg = '<strong>âš ï¸ ç­”æ¡ˆä¸å®Œå…¨æ­£ç¢ºã€‚</strong><br>';
            if (selectedValues.includes('A')) msg += 'æç¤ºï¼šSNMP æ˜¯ç®¡ç†ç”¨çš„ã€‚<br>';
            if (selectedValues.includes('E')) msg += 'æç¤ºï¼šHTTP æ˜¯çœ‹ç¶²é ç”¨çš„ã€‚<br>';
            if (!selectedValues.includes('B')) msg += 'æ¼é¸äº† NAT (å…±ç”¨ä½å€)ã€‚<br>';
            if (!selectedValues.includes('C')) msg += 'æ¼é¸äº† DHCP (ç§Ÿç´„å›æ”¶)ã€‚<br>';
            if (!selectedValues.includes('D')) msg += 'æ¼é¸äº† IPv6 (ä½å€æ“´å……)ã€‚<br>';
            if (selectedValues.length === 0) msg = 'è«‹å…ˆå‹¾é¸é¸é …å†é€å‡ºå–”ï¼';
            
            feedback.innerHTML = msg;
        }
    }
</script>

</body>
</html>