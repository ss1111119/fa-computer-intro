<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡Œç›® 22ï¼šå½±åƒè§£æåº¦èˆ‡åƒç´ è¨ˆç®—äº’å‹•æ•™å­¸</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #2c3e50; /* è£œç¿’ç­å°ˆæ¥­æ·±è— */
            --accent-color: #e74c3c; /* é‡é»ç´… */
            --highlight-color: #f1c40f; /* è¢å…‰ç­†é»ƒ */
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --border-radius: 8px;
            --spacing: 20px;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* --- æ¨™é¡Œå€ --- */
        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 10px;
        }

        h1 {
            color: var(--primary-color);
            margin: 0;
            font-size: 1.8rem;
        }

        .subtitle {
            color: #666;
            font-size: 1rem;
            margin-top: 5px;
        }

        /* --- å¡ç‰‡é€šç”¨æ¨£å¼ --- */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 5px solid var(--primary-color);
        }

        h2 {
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-top: 0;
            font-size: 1.4rem;
        }

        /* --- é¡Œç›®å€ --- */
        .question-box {
            background-color: #eef2f5;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .options-list {
            list-style: none;
            padding: 0;
        }

        .options-list li {
            margin: 5px 0;
        }

        /* --- å°ˆæœ‰åè© --- */
        .term {
            display: inline-block;
            background: #e8f4f8;
            padding: 2px 8px;
            border-radius: 4px;
            color: #2980b9;
            font-weight: bold;
            margin-right: 5px;
        }

        .term-desc {
            color: #555;
            font-size: 0.95rem;
        }

        /* --- æ ¸å¿ƒå…¬å¼ --- */
        .formula-box {
            background-color: #fff8e1; /* æ·¡é»ƒè‰²èƒŒæ™¯ */
            border: 1px dashed var(--highlight-color);
            padding: 15px;
            border-radius: 5px;
            text-align: center;
        }

        .formula {
            font-size: 1.2rem;
            font-weight: bold;
            color: #d35400;
            margin: 10px 0;
        }

        /* --- äº’å‹•æŒ‰éˆ•é€šç”¨ --- */
        button {
            cursor: pointer;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.2s;
            font-family: inherit;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #34495e;
        }

        .btn-reset {
            background-color: #95a5a6;
            color: white;
            display: block;
            width: 100%;
            margin-top: 30px;
        }

        /* --- é€æ­¥è¨ˆç®—å™¨ --- */
        .calc-step {
            margin-top: 15px;
            padding: 10px;
            border-left: 3px solid #ccc;
            background: #fafafa;
            display: none; /* é è¨­éš±è— */
            animation: fadeIn 0.5s;
        }

        .calc-step.active {
            display: block;
            border-color: var(--accent-color);
            background: #fff0f0;
        }

        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .input-item {
            display: flex;
            flex-direction: column;
        }

        input[type="number"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 80px;
        }

        /* --- å³æ™‚æ»‘æ¡¿äº’å‹•å€ --- */
        .slider-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .controls {
            flex: 1;
            min-width: 250px;
        }

        .visual-demo {
            flex: 1;
            min-width: 250px;
            background: #eee;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
            min-height: 250px;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }

        input[type="range"] {
            width: 100%;
        }

        .live-result {
            margin-top: 10px;
            padding: 10px;
            background: #333;
            color: #fff;
            border-radius: 5px;
            font-family: monospace;
        }

        /* ç¤ºæ„åœ–çš„æ–¹æ ¼ */
        #grid-box {
            background-color: white;
            border: 2px solid var(--primary-color);
            transition: all 0.3s ease;
            position: relative;
            /* åˆ©ç”¨ CSS æ¼¸å±¤æ¨¡æ“¬æ ¼å­ */
            background-image: 
                linear-gradient(#ccc 1px, transparent 1px),
                linear-gradient(90deg, #ccc 1px, transparent 1px);
            background-size: 20px 20px; /* é è¨­æ ¼å­å¤§å° */
            box-shadow: 5px 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.8rem;
            color: #aaa;
        }

        /* --- é¸é …åˆ†æå€ --- */
        .option-btns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .btn-option {
            background-color: white;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            text-align: left;
        }

        .btn-option:hover {
            background-color: #eef2f5;
        }

        .feedback-box {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }

        .feedback-correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback-wrong {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* --- å¸¸è¦‹é™·é˜±å¡ --- */
        .trap-item {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .trap-title {
            color: var(--accent-color);
            font-weight: bold;
        }

        /* --- è‡ªæˆ‘æª¢æ¸¬ --- */
        .quiz-item {
            margin-bottom: 20px;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
        }
        .hint-box {
            margin-top: 10px;
            color: #004085;
            background-color: #cce5ff;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }

        /* --- å‹•ç•« --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- éŸ¿æ‡‰å¼èª¿æ•´ --- */
        @media (max-width: 600px) {
            .option-btns {
                grid-template-columns: 1fr;
            }
            .input-group {
                flex-direction: column;
            }
            input[type="number"] {
                width: 100%;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>å½±åƒè§£æåº¦èˆ‡åƒç´ è¨ˆç®—</h1>
        <div class="subtitle">é«˜ä¸­è³‡è¨Šç§‘æŠ€ / åŸºç¤æ•¸å­¸æ¦‚å¿µèˆ‡æ‡‰ç”¨</div>
    </header>

    <!-- 1. é¡Œç›®å±•ç¤ºå€ -->
    <section class="card" id="section-question">
        <h2>é¡Œç›® 22</h2>
        <div class="question-box">
            ä¸€å¼µé•· 3 è‹±å‹ã€å¯¬ 2 è‹±å‹çš„åœ–ç‰‡ï¼Œè‹¥å…¶è§£æåº¦ç‚º 200 dpiï¼ˆdots per inchï¼‰ï¼Œå‰‡æ­¤åœ–ç‰‡å…§å«å¤šå°‘åƒç´ ï¼ˆpixelï¼‰ï¼Ÿ
        </div>
        <ul class="options-list">
            <li>(A) 1,200</li>
            <li>(B) 2,400</li>
            <li>(C) 120,000</li>
            <li>(D) 240,000</li>
        </ul>
        <div style="margin-top: 10px; font-weight: bold; color: var(--accent-color);">æ­£ç¢ºç­”æ¡ˆï¼š(D) 240,000</div>
    </section>

    <!-- 2. è§€å¿µå°è®€å€ -->
    <section class="card">
        <h2>è§€å¿µå°è®€ï¼šé€™äº›åè©æ˜¯ä»€éº¼ï¼Ÿ</h2>
        <p>
            <span class="term">åƒç´  pixel</span>
            <span class="term-desc">åœ–ç‰‡çµ„æˆçš„æœ€å°å–®ä½ï¼Œæƒ³åƒæˆé¦¬è³½å…‹æ‹¼è²¼è£¡çš„ã€Œæ¯ä¸€å°æ ¼ã€ã€‚</span>
        </p>
        <p>
            <span class="term">è§£æåº¦ Resolution</span>
            <span class="term-desc">æè¿°å½±åƒæœ‰å¤šã€Œç´°ç·»ã€çš„æŒ‡æ¨™ã€‚</span>
        </p>
        <p>
            <span class="term">dpi (dots per inch)</span>
            <span class="term-desc">ã€Œæ¯è‹±å‹æœ‰å¹¾å€‹é»ã€ã€‚åœ¨é€™å€‹é¡Œç›®è£¡ï¼Œæˆ‘å€‘æŠŠå®ƒçœ‹ä½œã€Œæ¯è‹±å‹é•·åº¦è£¡æœ‰å¹¾å€‹åƒç´ ã€ã€‚</span>
        </p>
        <p>
            <span class="term">è‹±å‹ inch</span>
            <span class="term-desc">é•·åº¦å–®ä½ã€‚é¡Œç›®çµ¦è‹±å‹ï¼Œå…¬å¼å°±ç›´æ¥ç”¨è‹±å‹ç®—ï¼Œä¸ç”¨æ›ç®—æˆå…¬åˆ†ã€‚</span>
        </p>
    </section>

    <!-- 3. æ ¸å¿ƒå…¬å¼å€ -->
    <section class="card">
        <h2>æ ¸å¿ƒå…¬å¼èˆ‡æœ¬é¡Œè§£æ³•</h2>
        <div class="formula-box">
            <div class="formula">â‘  å¯¬æ–¹å‘åƒç´  = å¯¬ (è‹±å‹) Ã— dpi</div>
            <div class="formula">â‘¡ é«˜æ–¹å‘åƒç´  = é«˜ (è‹±å‹) Ã— dpi</div>
            <div class="formula">â‘¢ ç¸½åƒç´  = å¯¬æ–¹å‘åƒç´  Ã— é«˜æ–¹å‘åƒç´ </div>
        </div>
        <div style="margin-top: 15px;">
            <strong>æœ¬é¡Œå¸¶å…¥ï¼š</strong>
            <ul>
                <li>é•· 2 è‹±å‹é‚Šï¼š2 Ã— 200 = <strong>400</strong> åƒç´ </li>
                <li>é•· 3 è‹±å‹é‚Šï¼š3 Ã— 200 = <strong>600</strong> åƒç´ </li>
                <li>ç¸½åƒç´ ï¼š400 Ã— 600 = <strong style="color:var(--accent-color); font-size:1.2em;">240,000</strong> åƒç´ </li>
            </ul>
        </div>
    </section>

    <!-- 4. äº’å‹•åŠŸèƒ½(A)ï¼šé€æ­¥è¨ˆç®—å™¨ -->
    <section class="card">
        <h2>(A) é€æ­¥è¨ˆç®—å™¨ï¼šè·Ÿè‘—åšä¸€æ¬¡</h2>
        <p>è«‹è¼¸å…¥é¡Œç›®æ•¸æ“šï¼Œç„¶å¾Œé»é¸ã€Œä¸‹ä¸€æ­¥ã€ä¾†é©—è­‰è¨ˆç®—éç¨‹ã€‚</p>
        
        <div class="input-group">
            <div class="input-item">
                <label>é•·/å¯¬ (è‹±å‹)</label>
                <input type="number" id="calc-w" value="3">
            </div>
            <div class="input-item">
                <label>å¯¬/é«˜ (è‹±å‹)</label>
                <input type="number" id="calc-h" value="2">
            </div>
            <div class="input-item">
                <label>dpi</label>
                <input type="number" id="calc-dpi" value="200">
            </div>
        </div>

        <button class="btn-primary" onclick="nextStep()" id="btn-next-step">é–‹å§‹è¨ˆç®— / ä¸‹ä¸€æ­¥</button>

        <div id="step-container">
            <div class="calc-step" id="step-1">
                <strong>Step 1ï¼šè¨ˆç®—ç¬¬ä¸€é‚Šåƒç´ </strong><br>
                å…¬å¼ï¼šé•·åº¦ Ã— dpi<br>
                è¨ˆç®—ï¼š<span id="res-w-len">3</span> Ã— <span id="res-dpi-1">200</span> = <span style="color:blue" id="res-w-pixels">600</span> px<br>
                <small>(èªªæ˜ï¼šå› ç‚ºæ¯ä¸€è‹±å‹è£¡æœ‰ 200 æ ¼ï¼Œæ‰€ä»¥ 3 è‹±å‹å°±æœ‰ 3 å€çš„æ ¼æ•¸)</small>
            </div>
            <div class="calc-step" id="step-2">
                <strong>Step 2ï¼šè¨ˆç®—ç¬¬äºŒé‚Šåƒç´ </strong><br>
                å…¬å¼ï¼šå¯¬åº¦ Ã— dpi<br>
                è¨ˆç®—ï¼š<span id="res-h-len">2</span> Ã— <span id="res-dpi-2">200</span> = <span style="color:blue" id="res-h-pixels">400</span> px<br>
                <small>(èªªæ˜ï¼šåŒç†ï¼Œ2 è‹±å‹é•·åº¦è£¡å…±æœ‰ 400 æ ¼)</small>
            </div>
            <div class="calc-step" id="step-3">
                <strong>Step 3ï¼šè¨ˆç®—ç¸½åƒç´  (é¢ç©)</strong><br>
                å…¬å¼ï¼šç¬¬ä¸€é‚Šåƒç´  Ã— ç¬¬äºŒé‚Šåƒç´ <br>
                è¨ˆç®—ï¼š<span id="res-final-w">600</span> Ã— <span id="res-final-h">400</span> = <strong style="color:red; font-size:1.3em;" id="res-total">240,000</strong> px<br>
                <small>(èªªæ˜ï¼šå°±åƒç®—çŸ©å½¢é¢ç©ä¸€æ¨£ï¼Œé•· Ã— å¯¬ å¾—åˆ°ç¸½æ ¼å­æ•¸)</small>
            </div>
        </div>
    </section>

    <!-- 5. äº’å‹•åŠŸèƒ½(B)(C)ï¼šè¦–è¦ºåŒ–æ»‘æ¡¿ -->
    <section class="card">
        <h2>(B) å»ºç«‹ç›´è¦ºï¼šå³æ™‚èª¿æ•´æ¨¡æ“¬</h2>
        <p>è©¦è‘—æ‹–å‹•æ»‘æ¡¿ï¼Œè§€å¯Ÿåƒç´ æ•¸é‡å¦‚ä½•è®ŠåŒ–ã€‚<strong>æ³¨æ„çœ‹ dpi è®Šå¤§æ™‚ï¼Œæ ¼å­(ç¶²æ ¼)æœƒè®Šå¯†ï¼</strong></p>
        
        <div class="slider-container">
            <div class="controls">
                <div class="control-group">
                    <label>é•·åº¦ (è‹±å‹): <span id="val-sim-w">3</span> inch</label>
                    <input type="range" id="range-w" min="1" max="10" value="3" oninput="updateSimulation()">
                </div>
                <div class="control-group">
                    <label>å¯¬åº¦ (è‹±å‹): <span id="val-sim-h">2</span> inch</label>
                    <input type="range" id="range-h" min="1" max="10" value="2" oninput="updateSimulation()">
                </div>
                <div class="control-group">
                    <label>è§£æåº¦ (dpi): <span id="val-sim-dpi">200</span> dpi</label>
                    <input type="range" id="range-dpi" min="50" max="600" step="50" value="200" oninput="updateSimulation()">
                </div>

                <div class="live-result">
                    é•·é‚Šåƒç´ ï¼š<span id="live-w-px">600</span> px<br>
                    å¯¬é‚Šåƒç´ ï¼š<span id="live-h-px">400</span> px<br>
                    -----------------------<br>
                    ç¸½åƒç´ ï¼š<span id="live-total" style="color:#f1c40f; font-weight:bold;">240,000</span> px
                </div>
                <p style="font-size:0.9rem; color:var(--accent-color);">
                    ğŸ’¡ å°æé†’ï¼šè‹¥ dpi è®Šæˆ 2 å€ (200â†’400)ï¼Œç¸½åƒç´ æœƒè®Šæˆ <strong>4 å€</strong>å–”ï¼(å› ç‚ºé•·å¯¬éƒ½å„ä¹˜ 2 å€)
                </p>
            </div>

            <div class="visual-demo">
                <!-- é€™æ˜¯ç¤ºæ„æ–¹å¡Š -->
                <div id="grid-box" style="width: 150px; height: 100px;">
                    <span id="grid-label">3" x 2"</span>
                </div>
                <div style="position: absolute; bottom: 5px; right: 5px; font-size: 0.8rem; color: #888;">
                    *ç¶²æ ¼åƒ…ç‚ºå¯†åº¦ç¤ºæ„ï¼ŒéçœŸå¯¦é»æ•¸
                </div>
            </div>
        </div>
    </section>

    <!-- 6. äº’å‹•åŠŸèƒ½(D)ï¼šé¸é …åˆ†æ -->
    <section class="card">
        <h2>(D) é¸é …åˆ†æï¼šç‚ºä»€éº¼é¸ (D)ï¼Ÿ</h2>
        <p>é»æ“Šä¸‹æ–¹é¸é …çœ‹çœ‹è€å¸«çš„è§£æï¼š</p>
        <div class="option-btns">
            <button class="btn-option" onclick="checkOption('A')">(A) 1,200</button>
            <button class="btn-option" onclick="checkOption('B')">(B) 2,400</button>
            <button class="btn-option" onclick="checkOption('C')">(C) 120,000</button>
            <button class="btn-option" onclick="checkOption('D')">(D) 240,000</button>
        </div>
        
        <div id="feedback-area" class="feedback-box">
            <h3 id="feedback-title" style="margin-top:0;"></h3>
            <p id="feedback-text"></p>
        </div>
    </section>

    <!-- 7. å¸¸è¦‹é™·é˜±å¡ -->
    <section class="card">
        <h2>(E) è€ƒè©¦å¸¸è¦‹é™·é˜±</h2>
        <div class="trap-item">
            <div class="trap-title">âŒ é™·é˜± 1ï¼šåªä¹˜äº†ä¸€æ¬¡ dpi</div>
            <div>éŒ¯èª¤ç®—æ³•ï¼š3 Ã— 2 Ã— 200 = 1,200ã€‚<br>ä¿®æ­£ï¼šè¨˜å¾—åœ–ç‰‡æ˜¯å¹³é¢ï¼ˆäºŒç¶­ï¼‰çš„ï¼Œé•·è·Ÿå¯¬<strong>éƒ½è¦</strong>ä¹˜ä¸Š dpiã€‚</div>
        </div>
        <div class="trap-item">
            <div class="trap-title">âŒ é™·é˜± 2ï¼šèª¤æŠŠ dpi ç•¶æˆç¸½é»æ•¸</div>
            <div>éŒ¯èª¤è§€å¿µï¼šä»¥ç‚ºé€™å¼µåœ–ç¸½å…±å°±åªæœ‰ 200 å€‹é»ã€‚<br>ä¿®æ­£ï¼šdpi æ˜¯ã€Œæ¯è‹±å‹ã€çš„é»æ•¸ï¼Œå¿…é ˆä¹˜ä¸Šé•·åº¦æ‰æ˜¯è©²é‚Šçš„ç¸½é»æ•¸ã€‚</div>
        </div>
        <div class="trap-item">
            <div class="trap-title">ğŸ†— é™·é˜± 3ï¼šé•·å¯¬æåäº†ï¼Ÿ</div>
            <div>è‹¥ä½ ç®—æˆ 2 Ã— 200 å’Œ 3 Ã— 200ï¼Œé›–ç„¶é‚Šé•·äº’æ›ï¼Œä½†ç›¸ä¹˜å¾Œçš„ç¸½åƒç´ ï¼ˆé¢ç©ï¼‰æ˜¯<strong>ä¸€æ¨£</strong>çš„ï¼Œä¸æœƒå½±éŸ¿ç­”æ¡ˆã€‚</div>
        </div>
    </section>

    <!-- 8. è‡ªæˆ‘æª¢æ¸¬ -->
    <section class="card">
        <h2>(F) è‡ªæˆ‘æª¢æ¸¬ (é»æ“ŠæŸ¥çœ‹æç¤º)</h2>
        
        <div class="quiz-item">
            <strong>Q1ï¼šå¦‚æœ dpi æå‡åˆ° 300ï¼Œåœ–ç‰‡å°ºå¯¸ä»æ˜¯ 3 Ã— 2 è‹±å‹ï¼Œç¸½åƒç´ æ˜¯å¤šå°‘ï¼Ÿ</strong><br>
            <button style="margin-top:5px; font-size:0.8rem;" onclick="toggleHint('hint1')">é¡¯ç¤º/éš±è—æç¤º</button>
            <div id="hint1" class="hint-box">
                æç¤ºï¼š<br>
                1. å¯¬é‚Šè®Šæˆ 3 Ã— 300 = ?<br>
                2. é«˜é‚Šè®Šæˆ 2 Ã— 300 = ?<br>
                3. å…©è€…ç›¸ä¹˜å³ç‚ºç­”æ¡ˆ (540,000)ã€‚
            </div>
        </div>

        <div class="quiz-item">
            <strong>Q2ï¼šå¦‚æœå°ºå¯¸è®Šå¤§ç‚º 6 Ã— 4 è‹±å‹ï¼Œdpi ç¶­æŒ 200ï¼Œç¸½åƒç´ æ˜¯å¤šå°‘ï¼Ÿ</strong><br>
            <button style="margin-top:5px; font-size:0.8rem;" onclick="toggleHint('hint2')">é¡¯ç¤º/éš±è—æç¤º</button>
            <div id="hint2" class="hint-box">
                æç¤ºï¼š<br>
                1. (6 Ã— 200) Ã— (4 Ã— 200)<br>
                2. æˆ–è€…æ€è€ƒï¼šé•·å¯¬éƒ½è®ŠåŸæœ¬ 2 å€ï¼Œé¢ç©æœƒè®Š 4 å€ã€‚åŸæœ¬ 240,000 Ã— 4 = ? (960,000)ã€‚
            </div>
        </div>

        <div class="quiz-item">
            <strong>Q3ï¼šç‚ºä»€éº¼ dpi åŠ å€æ™‚ï¼Œç¸½åƒç´ æœƒè®Šæˆ 4 å€ï¼Ÿ</strong><br>
            <button style="margin-top:5px; font-size:0.8rem;" onclick="toggleHint('hint3')">é¡¯ç¤º/éš±è—æç¤º</button>
            <div id="hint3" class="hint-box">
                æç¤ºï¼š<br>
                å› ç‚ºåƒç´ ç¸½æ•¸ = (é•· Ã— dpi) Ã— (å¯¬ Ã— dpi)ã€‚<br>
                ç•¶ dpi è®Šæˆ 2 å€ï¼Œç®—å¼è£¡å‡ºç¾äº†å…©æ¬¡ 2 å€ï¼Œ2 Ã— 2 = 4ï¼Œæ‰€ä»¥ç¸½æ•¸è®Š 4 å€ã€‚
            </div>
        </div>
    </section>

    <!-- 9. é‡ç½®æŒ‰éˆ• -->
    <button class="btn-reset" onclick="resetAll()">â†» å…¨éƒ¨é‡ç½® / é‡æ–°é–‹å§‹</button>

</div>

<script>
    /* --- 1. é€æ­¥è¨ˆç®—å™¨é‚è¼¯ --- */
    let currentStep = 0;

    function nextStep() {
        // å–å¾—è¼¸å…¥å€¼
        const w = parseFloat(document.getElementById('calc-w').value);
        const h = parseFloat(document.getElementById('calc-h').value);
        const dpi = parseFloat(document.getElementById('calc-dpi').value);

        if (isNaN(w) || isNaN(h) || isNaN(dpi)) {
            alert("è«‹è¼¸å…¥æ­£ç¢ºçš„æ•¸å­—ï¼");
            return;
        }

        const btn = document.getElementById('btn-next-step');
        
        currentStep++;

        if (currentStep === 1) {
            // è¨ˆç®—ä¸¦é¡¯ç¤º Step 1
            document.getElementById('res-w-len').innerText = w;
            document.getElementById('res-dpi-1').innerText = dpi;
            document.getElementById('res-w-pixels').innerText = (w * dpi).toLocaleString();
            document.getElementById('step-1').classList.add('active');
            btn.innerText = "ä¸‹ä¸€æ­¥ (2/3)";
        } else if (currentStep === 2) {
            // è¨ˆç®—ä¸¦é¡¯ç¤º Step 2
            document.getElementById('res-h-len').innerText = h;
            document.getElementById('res-dpi-2').innerText = dpi;
            document.getElementById('res-h-pixels').innerText = (h * dpi).toLocaleString();
            document.getElementById('step-2').classList.add('active');
            btn.innerText = "ä¸‹ä¸€æ­¥ (3/3)";
        } else if (currentStep === 3) {
            // è¨ˆç®—ä¸¦é¡¯ç¤º Step 3
            const pxW = w * dpi;
            const pxH = h * dpi;
            document.getElementById('res-final-w').innerText = pxW.toLocaleString();
            document.getElementById('res-final-h').innerText = pxH.toLocaleString();
            document.getElementById('res-total').innerText = (pxW * pxH).toLocaleString();
            document.getElementById('step-3').classList.add('active');
            btn.innerText = "è¨ˆç®—å®Œæˆ (é‡æ–°è¼¸å…¥è«‹æŒ‰é‡ç½®)";
            btn.disabled = true;
            btn.style.backgroundColor = "#95a5a6";
        }
    }

    /* --- 2. äº’å‹•æ»‘æ¡¿èˆ‡è¦–è¦ºåŒ–é‚è¼¯ --- */
    function updateSimulation() {
        const w = parseInt(document.getElementById('range-w').value);
        const h = parseInt(document.getElementById('range-h').value);
        const dpi = parseInt(document.getElementById('range-dpi').value);

        // æ›´æ–°æ–‡å­—æ•¸å€¼
        document.getElementById('val-sim-w').innerText = w;
        document.getElementById('val-sim-h').innerText = h;
        document.getElementById('val-sim-dpi').innerText = dpi;

        // è¨ˆç®—çµæœ
        const pxW = w * dpi;
        const pxH = h * dpi;
        const total = pxW * pxH;

        document.getElementById('live-w-px').innerText = pxW.toLocaleString();
        document.getElementById('live-h-px').innerText = pxH.toLocaleString();
        document.getElementById('live-total').innerText = total.toLocaleString();

        // æ›´æ–°è¦–è¦ºåœ–å½¢ (Grid Box)
        const box = document.getElementById('grid-box');
        const label = document.getElementById('grid-label');

        // 1. æ”¹è®Šå¤§å° (ç”¨æ¯”ä¾‹ç¸®æ”¾ï¼Œé¿å…å¤ªå¤§çˆ†ç‰ˆ)
        // å‡è¨­ 1 è‹±å‹ = 50px (è¢å¹•é¡¯ç¤ºç”¨)
        const displayScale = 40; 
        box.style.width = (w * displayScale) + 'px';
        box.style.height = (h * displayScale) + 'px';
        
        // 2. æ”¹è®Šç¶²æ ¼å¯†åº¦ (æ¨¡æ“¬ DPI)
        // DPI è¶Šå¤§ï¼Œbackground-size è¶Šå° (æ ¼å­è¶Šå¯†)
        // åŸºç¤: 200dpi -> 20px grid. 
        // å…¬å¼: size = (200 / currentDpi) * 20
        const gridSize = (200 / dpi) * 20;
        box.style.backgroundSize = `${gridSize}px ${gridSize}px`;

        label.innerText = `${w}" x ${h}"`;
    }

    /* --- 3. é¸é …åˆ†æé‚è¼¯ --- */
    function checkOption(option) {
        const feedbackArea = document.getElementById('feedback-area');
        const title = document.getElementById('feedback-title');
        const text = document.getElementById('feedback-text');

        feedbackArea.style.display = 'block';
        feedbackArea.className = 'feedback-box'; // é‡ç½® class

        if (option === 'D') {
            feedbackArea.classList.add('feedback-correct');
            title.innerText = "âœ… ç­”å°äº†ï¼(D) 240,000";
            text.innerHTML = "å¤ªæ£’äº†ï¼ä½ çš„è§€å¿µå®Œå…¨æ­£ç¢ºã€‚<br><strong>å¯¬å‘åƒç´ ï¼š</strong>2 Ã— 200 = 400<br><strong>é«˜å‘åƒç´ ï¼š</strong>3 Ã— 200 = 600<br><strong>ç¸½åƒç´ ï¼š</strong>400 Ã— 600 = 240,000ã€‚";
        } else {
            feedbackArea.classList.add('feedback-wrong');
            title.innerText = "âŒ ç­”éŒ¯å›‰ï¼Œå†æƒ³ä¸€ä¸‹ï¼";
            
            if (option === 'A') {
                text.innerText = "(A) 1,200ï¼šä½ æ˜¯ä¸æ˜¯åªç®—äº†ä¸€æ¬¡ dpiï¼Ÿ(3Ã—2Ã—200=1200)ã€‚è¨˜å¾—é•·è·Ÿå¯¬éƒ½è¦ä¹˜ä¸Š dpi å–”ï¼";
            } else if (option === 'B') {
                text.innerText = "(B) 2,400ï¼šé€™å¯èƒ½æ˜¯ç®—éŒ¯äº†ï¼Œæˆ–è€…åªè¨ˆç®—äº†å…©å€‹é‚Šçš„ç¸½é•·åº¦ï¼Ÿè¦è¨ˆç®—çš„æ˜¯ã€Œé¢ç©ã€(ç¸½æ ¼æ•¸)ã€‚";
            } else if (option === 'C') {
                text.innerText = "(C) 120,000ï¼šæ˜¯ä¸æ˜¯å°‘ä¹˜äº†ä¸€å€‹ 2ï¼Ÿæˆ–æ˜¯ç®—æˆäº† 400 Ã— 300ï¼Ÿè«‹å†æª¢æŸ¥ä¸€ä¸‹é•·å¯¬åˆ†åˆ¥æ˜¯å¤šå°‘åƒç´ ã€‚";
            }
        }
    }

    /* --- 4. è‡ªæˆ‘æª¢æ¸¬æç¤º --- */
    function toggleHint(id) {
        const el = document.getElementById(id);
        if (el.style.display === 'block') {
            el.style.display = 'none';
        } else {
            el.style.display = 'block';
        }
    }

    /* --- 5. é‡ç½®åŠŸèƒ½ --- */
    function resetAll() {
        // é‡ç½®è¨ˆç®—å™¨
        document.getElementById('calc-w').value = 3;
        document.getElementById('calc-h').value = 2;
        document.getElementById('calc-dpi').value = 200;
        currentStep = 0;
        document.querySelectorAll('.calc-step').forEach(el => {
            el.classList.remove('active');
            el.style.display = 'none';
        });
        const btn = document.getElementById('btn-next-step');
        btn.innerText = "é–‹å§‹è¨ˆç®— / ä¸‹ä¸€æ­¥";
        btn.disabled = false;
        btn.style.backgroundColor = "";

        // é‡ç½®æ»‘æ¡¿
        document.getElementById('range-w').value = 3;
        document.getElementById('range-h').value = 2;
        document.getElementById('range-dpi').value = 200;
        updateSimulation();

        // é‡ç½®é¸é …åˆ†æ
        document.getElementById('feedback-area').style.display = 'none';

        // é‡ç½®æç¤º
        document.querySelectorAll('.hint-box').forEach(el => el.style.display = 'none');

        // æ²å‹•åˆ°é ‚éƒ¨
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // åˆå§‹åŒ–åŸ·è¡Œä¸€æ¬¡è¦–è¦ºæ¨¡æ“¬
    updateSimulation();

</script>

</body>
</html>