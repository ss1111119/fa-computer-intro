<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¤‡é¸é¡Œ 50ï¼šç¨‹å¼è¨­è¨ˆä¸­å¸¸è¢«ä½¿ç”¨åˆ°çš„è³‡æ–™çµæ§‹ - äº’å‹•æ•™å­¸è¬›ç¾©</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --border-radius: 12px;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            font-weight: bold;
        }

        .header-section {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-bottom: 5px solid var(--accent-color);
        }

        .header-section h1 {
            margin: 0;
            font-size: 1.8rem;
        }

        .header-section p {
            color: #7f8c8d;
            margin-top: 10px;
        }

        /* --- é¡Œç›®å€å¡Šé¢¨æ ¼ --- */
        .question-box {
            background: #fff;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border-left: 8px solid var(--warning-color);
            margin-bottom: 30px;
        }

        .q-tag {
            background: var(--warning-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .options-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-label {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #e0e0e0;
        }

        .option-label:hover {
            background: #eef7ff;
            border-color: var(--accent-color);
        }

        .option-label input {
            margin-right: 15px;
            transform: scale(1.5);
        }

        .submit-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
            width: 100%;
        }

        .submit-btn:hover {
            background: #2980b9;
        }

        .result-box {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-weight: bold;
        }

        /* --- æ ¸å¿ƒè§€å¿µå€ --- */
        .concept-section {
            background: var(--card-bg);
            padding: 25px;
            margin-bottom: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .highlight-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .definition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .def-card {
            border: 1px solid #eee;
            padding: 15px;
            border-radius: 8px;
            background: #fafafa;
        }

        .def-title {
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 5px;
            display: block;
            font-size: 1.1rem;
        }

        /* --- æ‹–æ‹‰äº’å‹•å€ --- */
        .drag-section {
            background: #e8f6f3;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
        }

        .drag-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 15px;
        }

        .source-zone, .target-zone {
            flex: 1;
            min-width: 250px;
            min-height: 200px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px dashed #bdc3c7;
        }

        .target-zone {
            border-color: var(--success-color);
            background: #f0fcf4;
        }

        .target-zone-wrong {
            border-color: var(--danger-color);
            background: #fdf2f2;
        }

        .draggable-item {
            background: var(--primary-color);
            color: white;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
            cursor: grab;
            display: inline-block;
            user-select: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .draggable-item:active {
            cursor: grabbing;
        }

        /* --- æ‡‰ç”¨æƒ…å¢ƒèˆ‡è©³ç´°è§£æ --- */
        .analysis-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .analysis-btn {
            padding: 12px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-weight: bold;
            transition: all 0.2s;
        }

        .analysis-btn:hover, .analysis-btn.active {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .scenario-display {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            border-top: 4px solid var(--accent-color);
            margin-bottom: 30px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* --- é™·é˜±å¡ --- */
        .trap-zone {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }

        .trap-card {
            flex: 1;
            min-width: 250px;
            background: #fff;
            border-left: 5px solid var(--danger-color);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: relative;
            cursor: pointer;
            transition: opacity 0.5s;
        }

        .trap-card h4 {
            margin-top: 0;
            color: var(--danger-color);
        }

        .trap-close {
            position: absolute;
            top: 5px;
            right: 10px;
            color: #aaa;
            font-size: 0.8rem;
        }

        .fade-out {
            opacity: 0;
            pointer-events: none;
        }

        /* --- è‡ªæˆ‘æª¢æ¸¬ --- */
        .quiz-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #eee;
        }

        .hint-btn {
            background: #95a5a6;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .hint-text {
            display: none;
            margin-top: 10px;
            color: var(--accent-color);
            font-weight: bold;
        }

        .reset-section {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }
        
        .reset-btn {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }

        .reset-btn:hover {
            background: var(--primary-color);
            color: white;
        }

    </style>
</head>
<body>

<div class="container">

    <!-- é é¦– -->
    <header class="header-section">
        <h1>é›»è…¦æ¦‚è«–ï¼šè³‡æ–™çµæ§‹ç‰¹è¨“</h1>
        <p>è£œæ•™åå¸«è¬›ç¾© â€” è¤‡é¸é¡Œ 50 äº’å‹•è©³è§£ç‰ˆ</p>
    </header>

    <!-- é¡Œç›®å€ -->
    <section class="question-box">
        <div class="q-tag">è¤‡é¸é¡Œ 50</div>
        <div class="q-tag" style="background-color: var(--accent-color);">æœ¬é¡Œå¯è¤‡é¸</div>
        
        <div class="question-text">
            ç¨‹å¼è¨­è¨ˆæ™‚ï¼Œä¸‹åˆ—ä½•è€…æ˜¯å¸¸è¢«ä½¿ç”¨åˆ°çš„è³‡æ–™çµæ§‹ï¼Ÿ
        </div>

        <form id="quizForm">
            <div class="options-group">
                <label class="option-label">
                    <input type="checkbox" name="option" value="A">
                    (A) åºåˆ—ï¼ˆarrayï¼‰
                </label>
                <label class="option-label">
                    <input type="checkbox" name="option" value="B">
                    (B) çŸ©é™£ï¼ˆmatrixï¼‰
                </label>
                <label class="option-label">
                    <input type="checkbox" name="option" value="C">
                    (C) ä¸²åˆ—ï¼ˆlinked listï¼‰
                </label>
                <label class="option-label">
                    <input type="checkbox" name="option" value="D">
                    (D) æ¨¹ï¼ˆtreeï¼‰
                </label>
                <label class="option-label">
                    <input type="checkbox" name="option" value="E">
                    (E) ä¸‰è§’å½¢çµæ§‹ï¼ˆtriangleï¼‰
                </label>
            </div>
            <button type="button" class="submit-btn" onclick="checkAnswer()">é€å‡ºç­”æ¡ˆ</button>
        </form>

        <div id="quizResult" class="result-box"></div>
    </section>

    <!-- æ ¸å¿ƒè§€å¿µå€ -->
    <section class="concept-section">
        <h2>ğŸ’¡ æ ¸å¿ƒè§€å¿µèªªæ˜</h2>
        <div class="highlight-box">
            <strong>ğŸ”¥ è€ƒè©¦é—œéµå£è¨£ï¼š</strong><br>
            ã€Œèƒ½ä¸èƒ½ç¨ç«‹å­˜è³‡æ–™ã€è¢«å»£æ³›ä½¿ç”¨ã€
        </div>
        <p>æœ¬é¡Œçš„é—œéµåˆ¤æ–·é»åœ¨æ–¼ï¼š<strong>å¸¸è¦‹è³‡æ–™çµæ§‹ = ç¨‹å¼ä¸­å¯¦éš›æ‹¿ä¾†ã€Œå­˜è³‡æ–™ã€çš„çµæ§‹</strong>ã€‚</p>
        <ul>
            <li>Arrayã€Matrixã€Linked Listã€Tree éƒ½æ˜¯é›»è…¦ç§‘å­¸æ•™ç§‘æ›¸ä¸­å®šç¾©çš„ã€Œæ¨™æº–ã€è³‡æ–™çµæ§‹ã€‚</li>
            <li><strong>Triangle (E)</strong> ä¸¦ä¸æ˜¯ä¸€ç¨®é€šç”¨çš„è³‡æ–™å„²å­˜çµæ§‹ï¼Œé€šå¸¸æŒ‡ã€Œè³‡æ–™çš„æ’åˆ—å½¢ç‹€ã€ï¼ˆå¦‚å·´æ–¯å¡ä¸‰è§’å½¢ï¼‰æˆ–æ˜¯æ¼”ç®—æ³•é¡Œç›®çš„ä¸€ç¨®è¡¨ç¾å½¢å¼ã€‚</li>
        </ul>

        <h3>ğŸ“š å°ˆæœ‰åè©ç™½è©±è§£é‡‹</h3>
        <div class="definition-grid">
            <div class="def-card">
                <span class="def-title">Array (åºåˆ—/é™£åˆ—)</span>
                ç”¨é€£çºŒè¨˜æ†¶é«”ã€ç´¢å¼•(Index)å­˜å–çš„è³‡æ–™çµæ§‹ã€‚å°±åƒä¸€æ’æœ‰ç·¨è™Ÿçš„ç½®ç‰©æ«ƒã€‚
            </div>
            <div class="def-card">
                <span class="def-title">Matrix (çŸ©é™£)</span>
                äºŒç¶­ä»¥ä¸Šçš„é™£åˆ—ï¼Œå¸¸ç”¨æ–¼æ•¸å­¸é‹ç®—èˆ‡å½±åƒè™•ç†ã€‚å°±åƒæ£‹ç›¤æˆ–Excelè¡¨æ ¼ã€‚
            </div>
            <div class="def-card">
                <span class="def-title">Linked List (ä¸²åˆ—)</span>
                ç”¨æŒ‡æ¨™(Pointer)å°‡ç¯€é»ä¸²æ¥èµ·ä¾†çš„çµæ§‹ã€‚å°±åƒå°‹å¯¶éŠæˆ²ï¼Œé€™é—œå‘Šè¨´ä½ ä¸‹ä¸€é—œåœ¨å“ªã€‚
            </div>
            <div class="def-card">
                <span class="def-title">Tree (æ¨¹)</span>
                å…·æœ‰éšå±¤é—œä¿‚çš„è³‡æ–™çµæ§‹ã€‚å°±åƒæ—è­œæˆ–å…¬å¸çš„çµ„ç¹”åœ–ã€‚
            </div>
            <div class="def-card" style="border-color: #e74c3c; background: #fff5f5;">
                <span class="def-title">Triangle Structure (ä¸‰è§’å½¢çµæ§‹)</span>
                éæ¨™æº–è³‡æ–™çµæ§‹ã€‚å±¬æ–¼æ¼”ç®—æ³•æ‡‰ç”¨æˆ–åœ–å½¢æ’åˆ—æ¦‚å¿µï¼Œéé€šç”¨å„²å­˜æ–¹å¼ã€‚
            </div>
        </div>
    </section>

    <!-- äº’å‹•ç·´ç¿’ A: åˆ†é¡ -->
    <section class="drag-section">
        <h2>ğŸ–ï¸ äº’å‹•ç·´ç¿’ï¼šæ­¸é¡è³‡æ–™çµæ§‹</h2>
        <p>è«‹å°‡ä¸‹æ–¹çš„å¡ç‰‡æ‹–æ‹‰è‡³æ­£ç¢ºçš„åˆ†é¡æ¡†ä¸­ï¼š</p>
        
        <div class="drag-container">
            <div id="sourceZone" class="source-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-array">Array</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-triangle">Triangle</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-matrix">Matrix</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-tree">Tree</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-list">Linked List</div>
            </div>

            <div class="target-zone" style="border-color: var(--success-color);" ondrop="drop(event)" ondragover="allowDrop(event)">
                <h3 style="color: var(--success-color); margin-top:0;">âœ… å¸¸è¦‹æ¨™æº–è³‡æ–™çµæ§‹</h3>
                <div id="standardZone" style="min-height: 100px;"></div>
            </div>

            <div class="target-zone" style="border-color: var(--danger-color); background: #fdf2f2;" ondrop="drop(event)" ondragover="allowDrop(event)">
                <h3 style="color: var(--danger-color); margin-top:0;">âŒ éæ¨™æº–/æ’åˆ—æ¦‚å¿µ</h3>
                <div id="nonStandardZone" style="min-height: 100px;"></div>
            </div>
        </div>
        <button class="submit-btn" style="background: #9b59b6; width: auto; margin-top: 15px;" onclick="checkDragResult()">æª¢æŸ¥åˆ†é¡çµæœ</button>
        <p id="dragFeedback" style="font-weight: bold; margin-top: 10px;"></p>
    </section>

    <!-- äº’å‹• C & D: ç”¨é€”èˆ‡è§£æ -->
    <section class="concept-section">
        <h2>ğŸ” è³‡æ–™çµæ§‹ç”¨é€”èˆ‡é¸é …è§£æ</h2>
        <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•æŸ¥çœ‹è©³ç´°èªªæ˜ï¼š</p>
        
        <div class="analysis-container">
            <div class="analysis-btn" onclick="showScenario('Array')">(A) Array</div>
            <div class="analysis-btn" onclick="showScenario('Matrix')">(B) Matrix</div>
            <div class="analysis-btn" onclick="showScenario('LinkedList')">(C) Linked List</div>
            <div class="analysis-btn" onclick="showScenario('Tree')">(D) Tree</div>
            <div class="analysis-btn" onclick="showScenario('Triangle')">(E) Triangle</div>
        </div>

        <div id="scenarioDisplay" class="scenario-display">
            è«‹é»é¸ä¸Šæ–¹æŒ‰éˆ•æŸ¥çœ‹è©³ç´°è§£æèˆ‡æ‡‰ç”¨æƒ…å¢ƒã€‚
        </div>
    </section>

    <!-- é™·é˜±å¡ -->
    <section>
        <h2>âš ï¸ å¸¸è¦‹è€ƒè©¦é™·é˜± (é»æ“Šå¡ç‰‡è¡¨ç¤ºã€Œæˆ‘æ‡‚äº†ã€ä¸¦ç§»é™¤)</h2>
        <div class="trap-zone">
            <div class="trap-card" onclick="dismissTrap(this)">
                <span class="trap-close">é»æ“Šé—œé–‰</span>
                <h4>é™·é˜± 1ï¼šæœ›æ–‡ç”Ÿç¾©</h4>
                <p>çœ‹åˆ°ã€Œå½¢ç‹€åç¨±ã€(å¦‚ Triangle, Circle) å°±ä»¥ç‚ºæ˜¯è³‡æ–™çµæ§‹ï¼ŸéŒ¯ï¼è¦çœ‹å®ƒæ˜¯å¦å…·å‚™ã€Œé€šç”¨å„²å­˜ç‰¹æ€§ã€ã€‚</p>
            </div>
            <div class="trap-card" onclick="dismissTrap(this)">
                <span class="trap-close">é»æ“Šé—œé–‰</span>
                <h4>é™·é˜± 2ï¼šé¡Œç›®æ··æ·†</h4>
                <p>åˆ¥è·Ÿç¬¬ 48 é¡Œæ··æ·†ï¼ä¸åŒå¹´åº¦çš„è€ƒé¡Œé¸é …å®šç¾©å¯èƒ½ç•¥æœ‰ä¸åŒï¼Œä½†ã€ŒTriangleã€å¹¾ä¹æ°¸é éƒ½æ˜¯å¹²æ“¾é¸é …ã€‚</p>
            </div>
            <div class="trap-card" onclick="dismissTrap(this)">
                <span class="trap-close">é»æ“Šé—œé–‰</span>
                <h4>é™·é˜± 3ï¼šè¤‡é¸é¡Œæ¼é¸</h4>
                <p>æ—¢ç„¶æ˜¯è¤‡é¸é¡Œï¼Œç­”æ¡ˆå¾€å¾€ä¸åªä¸€å€‹ã€‚é€™é¡Œå¦‚æœä¸é¸ Matrix æˆ– Linked List å°±æ‹¿ä¸åˆ°å…¨éƒ¨åˆ†æ•¸å›‰ï¼</p>
            </div>
        </div>
    </section>

    <!-- è‡ªæˆ‘æª¢æ¸¬ -->
    <section class="concept-section">
        <h2>ğŸ§  è‡ªæˆ‘æª¢æ¸¬ (ä¸çµ¦ç­”æ¡ˆï¼Œè«‹æ€è€ƒ)</h2>
        
        <div class="quiz-card">
            <p><strong>é¡Œç›® 1ï¼š</strong>Triangle ç‚ºä»€éº¼ä¸ç®—æ¨™æº–è³‡æ–™çµæ§‹ï¼Ÿ</p>
            <button class="hint-btn" onclick="toggleHint('hint1')">é¡¯ç¤ºæç¤º</button>
            <p id="hint1" class="hint-text">æç¤ºï¼šæƒ³æƒ³çœ‹ï¼Œå¤§å¤šæ•¸ç¨‹å¼èªè¨€(å¦‚ C, Java)æœ‰æ²’æœ‰å…§å»º "Triangle" é€™ç¨®å‹æ…‹ï¼Ÿé‚„æ˜¯å®ƒåªæ˜¯ä¸€ç¨®ã€Œæ’æ³•ã€ï¼Ÿ</p>
        </div>

        <div class="quiz-card">
            <p><strong>é¡Œç›® 2ï¼š</strong>Matrix èˆ‡ Array çš„é—œä¿‚æ˜¯ä»€éº¼ï¼Ÿ</p>
            <button class="hint-btn" onclick="toggleHint('hint2')">é¡¯ç¤ºæç¤º</button>
            <p id="hint2" class="hint-text">æç¤ºï¼šMatrix å…¶å¯¦å°±æ˜¯ã€ŒäºŒç¶­ã€æˆ–ã€Œå¤šç¶­ã€çš„ Arrayï¼Œå±¬æ–¼ç·šæ€§çµæ§‹çš„å»¶ä¼¸æ‡‰ç”¨ã€‚</p>
        </div>

        <div class="quiz-card">
            <p><strong>é¡Œç›® 3ï¼š</strong>è€ƒè©¦ä¸­å¦‚ä½•åˆ†è¾¨ã€Œè³‡æ–™çµæ§‹ã€èˆ‡ã€Œè³‡æ–™æ’åˆ—ã€ï¼Ÿ</p>
            <button class="hint-btn" onclick="toggleHint('hint3')">é¡¯ç¤ºæç¤º</button>
            <p id="hint3" class="hint-text">æç¤ºï¼šå£è¨£ï¼šã€Œèƒ½ä¸èƒ½ç¨ç«‹å­˜è³‡æ–™ã€ã€‚å¦‚æœåªæ˜¯ç‚ºäº†ç‰¹å®šçš„æ¼”ç®—æ³•(å¦‚å°æ˜Ÿæ˜Ÿ)æ’å‡ºä¾†çš„æ¨£å­ï¼Œå°±ä¸æ˜¯æ¨™æº–è³‡æ–™çµæ§‹ã€‚</p>
        </div>
    </section>

    <div class="reset-section">
        <button class="reset-btn" onclick="resetPage()">â†» é‡ç½®æ‰€æœ‰ç·´ç¿’</button>
    </div>

</div>

<!-- JavaScript é‚è¼¯å€ -->
<script>
    // --- è¤‡é¸é¡Œæª¢æŸ¥é‚è¼¯ ---
    function checkAnswer() {
        const checkboxes = document.querySelectorAll('input[name="option"]');
        let selected = [];
        checkboxes.forEach((cb) => {
            if (cb.checked) selected.push(cb.value);
        });

        const resultBox = document.getElementById('quizResult');
        resultBox.style.display = 'block';

        // æ­£ç¢ºç­”æ¡ˆï¼šA, B, C, D
        const correct = ['A', 'B', 'C', 'D'];
        
        // åˆ¤æ–·é‚è¼¯
        const isCorrectLength = selected.length === correct.length;
        const hasAllCorrect = correct.every(val => selected.includes(val));
        const hasError = selected.includes('E');

        if (isCorrectLength && hasAllCorrect) {
            resultBox.style.backgroundColor = '#d4edda';
            resultBox.style.color = '#155724';
            resultBox.innerHTML = 'ğŸ‰ <strong>å®Œå…¨æ­£ç¢ºï¼</strong><br>è§€å¿µæ­£ç¢ºï¼š(A)(B)(C)(D) éƒ½æ˜¯æ¨™æº–å¸¸ç”¨çš„è³‡æ–™çµæ§‹ã€‚';
        } else if (hasError) {
            resultBox.style.backgroundColor = '#f8d7da';
            resultBox.style.color = '#721c24';
            resultBox.innerHTML = 'âŒ <strong>ç­”éŒ¯å›‰ï¼</strong><br>é¸é … (E) Triangle ä¸æ˜¯é€šç”¨è³‡æ–™çµæ§‹ï¼Œå®ƒåªæ˜¯ä¸€ç¨®æ’åˆ—æ–¹å¼æˆ–æ¼”ç®—æ³•æ¦‚å¿µã€‚';
        } else {
            resultBox.style.backgroundColor = '#fff3cd';
            resultBox.style.color = '#856404';
            resultBox.innerHTML = 'âš ï¸ <strong>ä¸å®Œæ•´ï¼</strong><br>æœ¬é¡Œæ˜¯è¤‡é¸é¡Œï¼Œä½ å¯èƒ½å°‘é¸äº†æ¨™æº–çš„è³‡æ–™çµæ§‹å–”ï¼è¨˜å¾— Array, Matrix, Linked List, Tree éƒ½æ˜¯ã€‚';
        }
    }

    // --- æ‹–æ‹‰äº’å‹•é‚è¼¯ ---
    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        // ç¢ºä¿åªæ”¾ç½®åœ¨ zone è£¡é¢ï¼Œé¿å…æ”¾åœ¨å­å…ƒç´ å…§é€ æˆå·¢ç‹€éŒ¯èª¤
        let target = ev.target;
        if (!target.classList.contains('source-zone') && !target.classList.contains('target-zone')) {
            target = target.closest('.source-zone') || target.closest('.target-zone');
        }
        
        if (target) {
            // å¦‚æœç›®æ¨™ä¸æ˜¯ Source Zoneï¼Œå‰‡ Append åˆ°è©²å€åŸŸå…§çš„ div å®¹å™¨ (ç‚ºäº†æ’ç‰ˆ)
            if(target.id === 'standardZone' || target.id === 'nonStandardZone') {
                 // é€™è£¡ç›´æ¥ append åˆ°è©² div
                 target.appendChild(document.getElementById(data));
            } else if (target.classList.contains('target-zone')) {
                 // å¦‚æœ drop åœ¨ header ä¸Šï¼Œæ‰¾è£¡é¢çš„ div
                 let innerDiv = target.querySelector('div[id$="Zone"]');
                 if(innerDiv) innerDiv.appendChild(document.getElementById(data));
            } else {
                 target.appendChild(document.getElementById(data));
            }
        }
    }

    function checkDragResult() {
        const standardZone = document.getElementById('standardZone');
        const nonStandardZone = document.getElementById('nonStandardZone');
        const feedback = document.getElementById('dragFeedback');
        
        // å–å¾—è©²å€å¡Šå…§çš„å­å…ƒç´  ID
        const standardItems = Array.from(standardZone.children).map(el => el.id);
        const nonStandardItems = Array.from(nonStandardZone.children).map(el => el.id);

        // æ­£ç¢ºè§£ç­”å®šç¾©
        const correctStandard = ['drag-array', 'drag-matrix', 'drag-list', 'drag-tree'];
        const correctNonStandard = ['drag-triangle'];

        // æª¢æŸ¥é‚è¼¯
        const isStandardCorrect = correctStandard.every(id => standardItems.includes(id)) && standardItems.length === 4;
        const isNonStandardCorrect = correctNonStandard.every(id => nonStandardItems.includes(id)) && nonStandardItems.length === 1;

        if (isStandardCorrect && isNonStandardCorrect) {
            feedback.style.color = 'var(--success-color)';
            feedback.innerHTML = 'ğŸ’¯ åˆ†é¡å®Œå…¨æ­£ç¢ºï¼è§€å¿µéå¸¸æ¸…æ™°ï¼';
        } else {
            feedback.style.color = 'var(--danger-color)';
            feedback.innerHTML = 'ğŸ¤” åˆ†é¡æœ‰èª¤å–”ï¼<br>æç¤ºï¼šåªæœ‰ Triangle æ˜¯éæ¨™æº–çš„ï¼Œå…¶ä»–å…¨éƒ¨éƒ½è¦æ”¾åˆ°å¸¸è¦‹çµæ§‹å€ã€‚';
        }
    }

    // --- æƒ…å¢ƒè§£æé‚è¼¯ ---
    const scenarios = {
        'Array': '<strong>(A) Array (åºåˆ—)ï¼š</strong><br>âœ… å¸¸è¦‹æ¨™æº–è³‡æ–™çµæ§‹ã€‚<br>æ‡‰ç”¨ï¼šå„²å­˜å­¸ç”Ÿæˆç¸¾ã€è¨­å®šä¸€æ’é€£çºŒçš„è®Šæ•¸ã€‚æœ€åŸºæœ¬ã€å­˜å–é€Ÿåº¦æœ€å¿«ã€‚',
        'Matrix': '<strong>(B) Matrix (çŸ©é™£)ï¼š</strong><br>âœ… å¸¸è¦‹æ¨™æº–è³‡æ–™çµæ§‹ (å¤šç¶­)ã€‚<br>æ‡‰ç”¨ï¼šå½±åƒè™•ç†(åƒç´ é»)ã€éŠæˆ²åœ°åœ–ã€æ•¸å­¸çŸ©é™£é‹ç®—ã€‚',
        'LinkedList': '<strong>(C) Linked List (ä¸²åˆ—)ï¼š</strong><br>âœ… å¸¸è¦‹æ¨™æº–è³‡æ–™çµæ§‹ (å‹•æ…‹)ã€‚<br>æ‡‰ç”¨ï¼šéŸ³æ¨‚æ’­æ”¾æ¸…å–®(ä¸‹ä¸€é¦–)ã€ç€è¦½å™¨çš„ä¸Šä¸€é /ä¸‹ä¸€é ç´€éŒ„ã€‚',
        'Tree': '<strong>(D) Tree (æ¨¹)ï¼š</strong><br>âœ… å¸¸è¦‹æ¨™æº–è³‡æ–™çµæ§‹ (éšå±¤)ã€‚<br>æ‡‰ç”¨ï¼šé›»è…¦çš„æª”æ¡ˆç¸½ç®¡è³‡æ–™å¤¾çµæ§‹ã€ç¶²é çš„ DOM çµæ§‹ã€‚',
        'Triangle': '<strong>(E) Triangle (ä¸‰è§’å½¢çµæ§‹)ï¼š</strong><br>âŒ <span style="color:red">éæ¨™æº–è³‡æ–™çµæ§‹ã€‚</span><br>èªªæ˜ï¼šé€™é€šå¸¸æ˜¯æŒ‡å°‡è³‡æ–™å°æˆä¸‰è§’å½¢(å¦‚å·´æ–¯å¡ä¸‰è§’å½¢)çš„æ¼”ç®—æ³•ç·´ç¿’ï¼Œä¸¦éé›»è…¦å…§éƒ¨é€šç”¨çš„å„²å­˜æ ¼å¼ã€‚'
    };

    function showScenario(key) {
        const display = document.getElementById('scenarioDisplay');
        display.innerHTML = scenarios[key];
        
        // æ›´æ–°æŒ‰éˆ•æ¨£å¼
        document.querySelectorAll('.analysis-btn').forEach(btn => btn.classList.remove('active'));
        // ç°¡å–®é€éæ–‡å­—å…§å®¹æ‰¾å°æ‡‰æŒ‰éˆ•åŠ  active (ç°¡åŒ–å¯¦ä½œ)
        event.target.classList.add('active');
    }

    // --- é™·é˜±å¡é‚è¼¯ ---
    function dismissTrap(element) {
        element.classList.add('fade-out');
        setTimeout(() => {
            element.style.display = 'none';
        }, 500);
    }

    // --- è‡ªæˆ‘æª¢æ¸¬æç¤º ---
    function toggleHint(id) {
        const hint = document.getElementById(id);
        hint.style.display = hint.style.display === 'block' ? 'none' : 'block';
    }

    // --- é‡ç½®é é¢ ---
    function resetPage() {
        // é‡ç½®è¤‡é¸é¡Œ
        document.getElementById('quizForm').reset();
        document.getElementById('quizResult').style.display = 'none';

        // é‡ç½®æ‹–æ‹‰å€
        const sourceZone = document.getElementById('sourceZone');
        const items = ['drag-array', 'drag-triangle', 'drag-matrix', 'drag-tree', 'drag-list'];
        items.forEach(id => {
            const el = document.getElementById(id);
            if(el) sourceZone.appendChild(el);
        });
        document.getElementById('dragFeedback').innerHTML = '';

        // é‡ç½®è§£æé¡¯ç¤º
        document.getElementById('scenarioDisplay').innerHTML = 'è«‹é»é¸ä¸Šæ–¹æŒ‰éˆ•æŸ¥çœ‹è©³ç´°è§£æèˆ‡æ‡‰ç”¨æƒ…å¢ƒã€‚';
        document.querySelectorAll('.analysis-btn').forEach(btn => btn.classList.remove('active'));

        // é‡ç½®é™·é˜±å¡
        document.querySelectorAll('.trap-card').forEach(card => {
            card.classList.remove('fade-out');
            card.style.display = 'block';
        });

        // é‡ç½®æç¤º
        document.querySelectorAll('.hint-text').forEach(hint => hint.style.display = 'none');
        
        // æ²å‹•å›é ‚éƒ¨
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>

</body>
</html>