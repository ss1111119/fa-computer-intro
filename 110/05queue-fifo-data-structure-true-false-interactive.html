<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬ 5 é¡Œï¼šQueue æ˜¯å¦ç‚º FIFOï¼Ÿäº’å‹•æ•™å­¸</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #2c3e50; /* æ·±è—å°ˆæ¥­æ„Ÿ */
            --accent-color: #e67e22; /* äº®æ©˜å¼·èª¿é‡é» */
            --success-color: #27ae60; /* ç¶ è‰²æ­£ç¢º */
            --error-color: #c0392b; /* ç´…è‰²éŒ¯èª¤ */
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        * {
            box-sizing: border-box;
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
        }

        body {
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* --- æ¨™é¡Œå€ --- */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--primary-color);
            color: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        header h1 {
            margin: 0;
            font-size: 1.8rem;
        }

        header p {
            margin: 10px 0 0;
            opacity: 0.9;
        }

        /* --- å¡ç‰‡æ¨£å¼ --- */
        .card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary-color);
        }

        .card h2 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .highlight {
            color: var(--error-color);
            font-weight: bold;
            font-size: 1.1em;
            background-color: #fff3cd;
            padding: 2px 5px;
            border-radius: 4px;
        }

        /* --- æ˜¯éé¡Œäº’å‹•å€ --- */
        .question-box {
            text-align: center;
            background-color: #e8f6f3;
            border: 2px solid #1abc9c;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: bold;
            margin: 20px 0;
        }

        .options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .btn-option {
            font-size: 2rem;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .btn-o { background-color: #fff; border: 3px solid var(--success-color); color: var(--success-color); }
        .btn-x { background-color: #fff; border: 3px solid var(--error-color); color: var(--error-color); }

        .btn-option:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }

        .btn-option.selected {
            background-color: #333;
            color: #fff;
            border-color: #333;
        }

        #answer-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none; /* é è¨­éš±è— */
            font-weight: bold;
        }

        .feedback-correct { background-color: #d5f5e3; color: var(--success-color); border: 1px solid var(--success-color); }
        .feedback-wrong { background-color: #fadbd8; color: var(--error-color); border: 1px solid var(--error-color); }

        /* --- è§€å¿µè¬›è§£å€ --- */
        .concept-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 600px) {
            .concept-grid { grid-template-columns: 1fr; }
        }

        .concept-box {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .badge {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.85em;
            margin-right: 5px;
        }

        /* --- è¦–è¦ºåŒ–äº’å‹•å€ (Queue Demo) --- */
        .queue-container-wrapper {
            position: relative;
            margin: 30px 0;
            padding: 40px 20px;
            background: #fff;
            border: 2px dashed #bbb;
            border-radius: 10px;
            overflow-x: auto;
        }

        .queue-visual {
            display: flex;
            align-items: center;
            justify-content: flex-start; /* é å·¦å°é½Šï¼Œå·¦é‚Šæ˜¯å‡ºå£ */
            min-height: 80px;
            gap: 10px;
            padding-left: 50px; /* ç•™çµ¦ Front æ¨™ç±¤ */
            padding-right: 50px; /* ç•™çµ¦ Rear æ¨™ç±¤ */
        }

        .queue-item {
            width: 60px;
            height: 60px;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-radius: 8px;
            flex-shrink: 0;
            position: relative;
            animation: fadeIn 0.5s ease;
        }

        /* æ¨™ç¤º Front å’Œ Rear */
        .label-marker {
            position: absolute;
            bottom: -30px;
            font-size: 0.8rem;
            font-weight: bold;
            color: #666;
            background: #eee;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .queue-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn-action {
            padding: 10px 20px;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            color: white;
            transition: background 0.3s;
        }

        .btn-enqueue { background-color: var(--accent-color); }
        .btn-enqueue:hover { background-color: #d35400; }

        .btn-dequeue { background-color: var(--success-color); }
        .btn-dequeue:hover { background-color: #219150; }

        .btn-reset { background-color: #95a5a6; }
        .btn-reset:hover { background-color: #7f8c8d; }

        .log-area {
            margin-top: 15px;
            background: #333;
            color: #0f0; /* é§­å®¢é¢¨æ ¼ç¶ å­— */
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            height: 100px;
            overflow-y: auto;
            font-size: 0.9rem;
        }

        /* --- æ¸¬é©—å€ --- */
        .quiz-visual {
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        
        .quiz-options {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        /* --- é™·é˜±å¡èˆ‡æç¤º --- */
        .trap-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .trap-card {
            flex: 1 1 200px;
            background: #fff0f0;
            border: 1px solid #ffcccc;
            padding: 15px;
            border-radius: 8px;
            position: relative;
            transition: opacity 0.5s;
        }

        .trap-card h3 { margin-top: 0; color: var(--error-color); font-size: 1rem;}
        
        .btn-dismiss {
            display: block;
            margin-top: 10px;
            width: 100%;
            padding: 5px;
            background: rgba(0,0,0,0.1);
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
        .btn-dismiss:hover { background: rgba(0,0,0,0.2); }

        .hint-box {
            background: #edf7ff;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            display: none; /* é è¨­éš±è— */
            border-left: 4px solid #3498db;
        }

        /* --- å‹•ç•«å®šç¾© --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideOut {
            to { opacity: 0; transform: translateX(-50px); }
        }

    </style>
</head>
<body>

<div class="container">
    
    <!-- æ¨™é¡Œå€ -->
    <header>
        <h1>è³‡æ–™çµæ§‹äº’å‹•è¬›ç¾©ï¼šç¬¬ 5 é¡Œ</h1>
        <p>ä¸»é¡Œï¼šQueue æ˜¯å¦ç‚º FIFOï¼Ÿ</p>
    </header>

    <!-- 1. æ ¸å¿ƒæ˜¯éé¡Œ -->
    <section class="card question-box">
        <span class="badge">é¡Œç›®</span>
        <div class="question-text">
            ç¬¬ 5 é¡Œï¼šä½‡åˆ—ï¼ˆQueueï¼‰æ˜¯ä¸€ç¨®å…ˆé€²å…ˆå‡ºï¼ˆFIFOï¼‰çš„è³‡æ–™çµæ§‹ã€‚
        </div>
        <div class="options">
            <button class="btn-option btn-o" onclick="checkAnswer('O')">O</button>
            <button class="btn-option btn-x" onclick="checkAnswer('X')">X</button>
        </div>
        <div id="answer-feedback"></div>
    </section>

    <!-- 2. è§€å¿µè¬›è§£ -->
    <section class="card">
        <h2>ğŸ“š æ ¸å¿ƒè§€å¿µï¼šQueue å°±åƒæ’éšŠè²·é£²æ–™ï¼</h2>
        <div class="concept-grid">
            <div class="concept-box">
                <h3>ğŸ›’ ç”Ÿæ´»å¯¦ä¾‹å»ºç«‹ç›´è¦º</h3>
                <p>æƒ³åƒä½ åœ¨å­¸æ ¡ç¦åˆ©ç¤¾æ’éšŠè²·é£²æ–™ï¼š</p>
                <ul>
                    <li>å¦‚æœä½ <b>ç¬¬ä¸€å€‹ä¾†æ’éšŠ</b>ï¼Œä½ å°±æœƒ<b>ç¬¬ä¸€å€‹è²·åˆ°</b>é›¢é–‹ã€‚</li>
                    <li>æ–°ä¾†çš„äººï¼Œå¿…é ˆæ’åœ¨<b>éšŠä¼çš„æœ€å¾Œé¢</b>ã€‚</li>
                    <li>é€™å°±æ˜¯ <b>FIFO (First In, First Out)</b>ã€‚</li>
                </ul>
            </div>
            <div class="concept-box">
                <h3>ğŸ“ å°ˆæœ‰åè©å°ç…§è¡¨</h3>
                <ul>
                    <li><span class="badge">Queue</span> <b>ä½‡åˆ—</b>ï¼šåƒæ’éšŠä¸€æ¨£çš„è³‡æ–™çµæ§‹ã€‚</li>
                    <li><span class="badge">FIFO</span> <b>å…ˆé€²å…ˆå‡º</b>ï¼šFirst In First Outã€‚</li>
                    <li><span class="badge">Enqueue</span> <b>å…¥éšŠ</b>ï¼šæŠŠè³‡æ–™æ”¾é€²éšŠä¼<b>å°¾ç«¯</b>ã€‚</li>
                    <li><span class="badge">Dequeue</span> <b>å‡ºéšŠ</b>ï¼šæŠŠè³‡æ–™å¾éšŠä¼<b>å‰ç«¯</b>å–å‡ºã€‚</li>
                </ul>
            </div>
        </div>

        <div style="margin-top: 20px; background: #ffeaa7; padding: 15px; border-radius: 8px; text-align: center;">
            ğŸ‘‰ ä¸€å¥è©±è¨˜æ†¶ï¼š<b>ã€ŒQueue åƒæ’éšŠï¼šå…ˆä¾†å…ˆèµ°ï¼ˆFIFOï¼‰ã€</b>
        </div>
    </section>

    <!-- 3. è¦–è¦ºåŒ–äº’å‹•æ¨¡æ“¬ -->
    <section class="card">
        <h2>ğŸ® äº’å‹•å¯¦é©—å®¤ï¼šè¦ªè‡ªæ“ä½œ Queue</h2>
        <p>è«‹é»æ“ŠæŒ‰éˆ•ï¼Œè§€å¯Ÿè³‡æ–™å¦‚ä½•é€²å‡ºã€‚æ³¨æ„çœ‹<b>å‰ç«¯ (Front)</b> å’Œ <b>å°¾ç«¯ (Rear)</b> çš„ä½ç½®ï¼</p>
        
        <div class="queue-container-wrapper">
            <!-- è¦–è¦ºæ¨™ç±¤ -->
            <div style="position: absolute; left: 10px; top: 10px; color: #27ae60; font-weight: bold;">
                â¬…ï¸ å‡ºå£ (Dequeue)
            </div>
            <div style="position: absolute; right: 10px; top: 10px; color: #e67e22; font-weight: bold;">
                å…¥å£ (Enqueue) â¬…ï¸
            </div>

            <!-- ä½‡åˆ—æœ¬é«” -->
            <div class="queue-visual" id="queue-display">
                <!-- JS æœƒå‹•æ…‹ç”¢ç”Ÿæ–¹å¡Š -->
            </div>
        </div>

        <div class="queue-controls">
            <button class="btn-action btn-enqueue" onclick="demoEnqueue()">ğŸ“¥ å…¥éšŠ (Enqueue)</button>
            <button class="btn-action btn-dequeue" onclick="demoDequeue()">ğŸ“¤ å‡ºéšŠ (Dequeue)</button>
            <button class="btn-action btn-reset" onclick="resetDemo()">ğŸ”„ é‡ç½®</button>
        </div>

        <div class="log-area" id="action-log">
            > ç³»çµ±æº–å‚™å°±ç·’...<br>
            > ç­‰å¾…æ“ä½œ...
        </div>
    </section>

    <!-- 4. FIFO å°æ¸¬é©— -->
    <section class="card">
        <h2>ğŸ§  FIFO è§€å¿µå°æ¸¬é©—</h2>
        <p>ç¾åœ¨ä½‡åˆ—è£¡é¢æœ‰ä¸‰å€‹äººï¼š<b>A (æœ€æ—©ä¾†)</b>ã€<b>B</b>ã€<b>C (æœ€æ™šä¾†)</b>ã€‚</p>
        
        <div class="quiz-visual">
            [ å‰ç«¯ (Front) ]  &nbsp; ğŸ…°ï¸ &nbsp; ğŸ…±ï¸ &nbsp; Â©ï¸ &nbsp; [ å°¾ç«¯ (Rear) ]
        </div>

        <p style="text-align: center;">è«‹å•ï¼šè‹¥åŸ·è¡Œä¸€æ¬¡ <b>Dequeue (å‡ºéšŠ)</b>ï¼Œèª°æœƒå‡ºä¾†ï¼Ÿ</p>

        <div class="quiz-options">
            <button class="btn-action btn-enqueue" onclick="checkQuiz('A')">æ˜¯ A</button>
            <button class="btn-action btn-enqueue" onclick="checkQuiz('B')">æ˜¯ B</button>
            <button class="btn-action btn-enqueue" onclick="checkQuiz('C')">æ˜¯ C</button>
        </div>
        <div id="quiz-feedback" style="text-align: center; margin-top: 15px; font-weight: bold;"></div>
    </section>

    <!-- 5. æ¯”è¼ƒèˆ‡é™·é˜± -->
    <section class="card">
        <h2>âš ï¸ åˆ¥æ‰é€²é™·é˜±ï¼Stack vs Queue</h2>
        <p>è€ƒè©¦æœ€å¸¸æŠŠé€™å…©å€‹ææ··ï¼Œè«‹è¨˜æ¸…æ¥šå·®ç•°ï¼š</p>
        
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
            <tr style="background: #eee;">
                <th style="padding: 10px; border: 1px solid #ddd;">è³‡æ–™çµæ§‹</th>
                <th style="padding: 10px; border: 1px solid #ddd;">ç”Ÿæ´»æ¯”å–»</th>
                <th style="padding: 10px; border: 1px solid #ddd;">è¦å‰‡</th>
                <th style="padding: 10px; border: 1px solid #ddd;">è‹±æ–‡ç¸®å¯«</th>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold; color: var(--primary-color);">Queue (ä½‡åˆ—)</td>
                <td style="padding: 10px; border: 1px solid #ddd;">æ’éšŠè²·ç¥¨</td>
                <td style="padding: 10px; border: 1px solid #ddd;">å…ˆä¾†å…ˆæœå‹™</td>
                <td style="padding: 10px; border: 1px solid #ddd; color: var(--success-color); font-weight: bold;">FIFO</td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold; color: #8e44ad;">Stack (å †ç–Š)</td>
                <td style="padding: 10px; border: 1px solid #ddd;">ç–Šç›¤å­/æ´—ç¢—</td>
                <td style="padding: 10px; border: 1px solid #ddd;">æœ€å¾Œæ”¾çš„å…ˆæ‹¿</td>
                <td style="padding: 10px; border: 1px solid #ddd; color: #8e44ad; font-weight: bold;">LIFO</td>
            </tr>
        </table>

        <h3>å¸¸è¦‹èª¤å€ (é»æ“Šå¡ç‰‡å¯ç§»é™¤)</h3>
        <div class="trap-grid">
            <div class="trap-card" onclick="dismissTrap(this)">
                <h3>ğŸ’£ é™·é˜± 1</h3>
                <p>ä»¥ç‚º Queue æ˜¯ LIFO (å¾Œé€²å…ˆå‡º)ã€‚</p>
                <small style="color: #666;">(é»æ“Šè¡¨ç¤ºæˆ‘æ‡‚äº†)</small>
            </div>
            <div class="trap-card" onclick="dismissTrap(this)">
                <h3>ğŸ’£ é™·é˜± 2</h3>
                <p>ä»¥ç‚º Enqueue æ˜¯å¾å‰ç«¯åŠ å…¥ã€‚</p>
                <small style="color: #666;">(éŒ¯ï¼æ˜¯å¾å°¾ç«¯)</small>
            </div>
            <div class="trap-card" onclick="dismissTrap(this)">
                <h3>ğŸ’£ é™·é˜± 3</h3>
                <p>æŠŠ Queue è·Ÿ Stack çš„åå­—è¨˜åã€‚</p>
                <small style="color: #666;">(Queue = æ’éšŠ)</small>
            </div>
        </div>
    </section>

    <!-- 6. è‡ªæˆ‘æª¢æ¸¬ -->
    <section class="card">
        <h2>ğŸ§ è‡ªæˆ‘æª¢æ¸¬ (ä¸çµ¦ç­”æ¡ˆï¼Œè«‹æ€è€ƒ)</h2>
        
        <div style="margin-bottom: 20px;">
            <p><b>Q1ï¼šå¦‚æœé¡Œç›®æ”¹æˆã€Œå †ç–Š Stackã€ï¼Œå®ƒæœƒæ˜¯ FIFO å—ï¼Ÿ</b></p>
            <button class="btn-action btn-reset" style="padding: 5px 10px; font-size: 0.8rem;" onclick="toggleHint('hint1')">ğŸ’¡ é¡¯ç¤ºæç¤º</button>
            <div id="hint1" class="hint-box">
                æç¤ºï¼šStack åƒæ˜¯ç–Šç›¤å­ï¼Œæœ€å¾Œæ”¾ä¸Šå»çš„è¦å…ˆæ‹¿ä¸‹ä¾†ï¼Œæ‰€ä»¥æ˜¯ LIFO (Last In First Out)ã€‚
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <p><b>Q2ï¼šç‚ºä»€éº¼å°è¡¨æ©Ÿçš„åˆ—å°å·¥ä½œé©åˆç”¨ Queueï¼Ÿ</b></p>
            <button class="btn-action btn-reset" style="padding: 5px 10px; font-size: 0.8rem;" onclick="toggleHint('hint2')">ğŸ’¡ é¡¯ç¤ºæç¤º</button>
            <div id="hint2" class="hint-box">
                æç¤ºï¼šä½ å¸Œæœ›å…ˆæŒ‰ä¸‹åˆ—å°çš„æ–‡ä»¶å…ˆå°å‡ºä¾†ï¼Œé‚„æ˜¯æœ€å¾ŒæŒ‰çš„å…ˆå°ï¼Ÿç•¶ç„¶æ˜¯å…ˆæŒ‰çš„å…ˆå° (FIFO)ï¼
            </div>
        </div>

        <div>
            <p><b>Q3ï¼šEnqueue èˆ‡ Dequeue åˆ†åˆ¥ç™¼ç”Ÿåœ¨ä½‡åˆ—å“ªä¸€ç«¯ï¼Ÿ</b></p>
            <button class="btn-action btn-reset" style="padding: 5px 10px; font-size: 0.8rem;" onclick="toggleHint('hint3')">ğŸ’¡ é¡¯ç¤ºæç¤º</button>
            <div id="hint3" class="hint-box">
                æç¤ºï¼šæƒ³åƒæ’éšŠï¼Œæ–°çš„äººå¾ã€Œå°¾ç«¯ã€æ’å…¥ (Enqueue)ï¼Œè²·å®Œçš„äººå¾ã€Œå‰ç«¯ã€é›¢é–‹ (Dequeue)ã€‚
            </div>
        </div>
    </section>

</div>

<script>
    // --- 1. æ˜¯éé¡Œäº’å‹•é‚è¼¯ ---
    function checkAnswer(answer) {
        const feedbackEl = document.getElementById('answer-feedback');
        
        if (answer === 'O') {
            feedbackEl.className = 'feedback-correct';
            feedbackEl.style.display = 'block';
            feedbackEl.innerHTML = 'ğŸ‰ ç­”å°äº†ï¼<br>Queue æ­£æ˜¯ FIFO (å…ˆé€²å…ˆå‡º)ã€‚å°±åƒæ’éšŠä¸€æ¨£ï¼Œå…ˆä¾†çš„å…ˆäº«å—ï¼';
        } else {
            feedbackEl.className = 'feedback-wrong';
            feedbackEl.style.display = 'block';
            feedbackEl.innerHTML = 'âŒ ç­”éŒ¯å›‰ï¼<br>åˆ¥è¢«é¨™äº†ï¼ŒQueue æ˜¯ã€Œæ’éšŠã€ï¼Œç•¶ç„¶æ˜¯å…ˆé€²å…ˆå‡º (FIFO)ã€‚<br>Stack (å †ç–Š) æ‰æ˜¯ LIFOã€‚';
        }
    }

    // --- 2. Queue è¦–è¦ºåŒ–äº’å‹•é‚è¼¯ ---
    const queueData = []; // ç”¨é™£åˆ—æ¨¡æ“¬ Queue
    let counter = 1;      // ç”¨ä¾†ç”¢ç”Ÿç·¨è™Ÿ

    function renderQueue() {
        const container = document.getElementById('queue-display');
        container.innerHTML = ''; // æ¸…ç©ºç•«é¢

        // ç•«å‡º Queue è£¡é¢çš„æ¯å€‹å…ƒç´ 
        queueData.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'queue-item';
            div.innerText = item;
            
            // æ¨™ç¤º Front (ç¬¬ä¸€å€‹å…ƒç´ )
            if (index === 0) {
                const label = document.createElement('div');
                label.className = 'label-marker';
                label.innerText = 'Front (å‰ç«¯)';
                label.style.left = '0';
                div.appendChild(label);
            }

            // æ¨™ç¤º Rear (æœ€å¾Œä¸€å€‹å…ƒç´ )
            if (index === queueData.length - 1) {
                const label = document.createElement('div');
                label.className = 'label-marker';
                label.innerText = 'Rear (å°¾ç«¯)';
                label.style.right = '0';
                // é¿å…åªæœ‰ä¸€å€‹å…ƒç´ æ™‚æ¨™ç±¤é‡ç–Šï¼Œç¨å¾®éŒ¯é–‹
                if(queueData.length === 1) {
                    label.style.bottom = '-55px'; 
                }
                div.appendChild(label);
            }

            container.appendChild(div);
        });
    }

    function addLog(message) {
        const logArea = document.getElementById('action-log');
        const time = new Date().toLocaleTimeString('zh-TW', { hour12: false });
        logArea.innerHTML = `> [${time}] ${message}<br>` + logArea.innerHTML;
    }

    function demoEnqueue() {
        if (queueData.length >= 8) {
            alert("ä½‡åˆ—æ»¿äº†ï¼(ç‰ˆé¢é™åˆ¶)");
            return;
        }
        const newItem = counter++;
        queueData.push(newItem); // Enqueue: åŠ å…¥é™£åˆ—å°¾ç«¯
        renderQueue();
        addLog(`å…¥éšŠ (Enqueue): å…ƒç´  ${newItem} åŠ å…¥å°¾ç«¯ã€‚ç›®å‰é•·åº¦: ${queueData.length}`);
    }

    function demoDequeue() {
        if (queueData.length === 0) {
            alert("ä½‡åˆ—æ˜¯ç©ºçš„ (Empty)ï¼ç„¡æ³•å‡ºéšŠã€‚");
            return;
        }
        
        // è¦–è¦ºç‰¹æ•ˆï¼šå…ˆç§»é™¤ DOM çš„å‹•ç•«ï¼Œå†æ›´æ–°è³‡æ–™
        const firstElement = document.querySelector('.queue-item');
        if(firstElement) {
            firstElement.style.animation = 'slideOut 0.3s forwards';
            
            setTimeout(() => {
                const removedItem = queueData.shift(); // Dequeue: ç§»é™¤é™£åˆ—ç¬¬ä¸€å€‹å…ƒç´ 
                renderQueue();
                addLog(`å‡ºéšŠ (Dequeue): å…ƒç´  ${removedItem} é›¢é–‹å‰ç«¯ã€‚ç›®å‰é•·åº¦: ${queueData.length}`);
            }, 300); // ç­‰å‹•ç•«è·‘å®Œ
        }
    }

    function resetDemo() {
        queueData.length = 0; // æ¸…ç©ºé™£åˆ—
        counter = 1;
        renderQueue();
        document.getElementById('action-log').innerHTML = '> ç³»çµ±é‡ç½®å®Œæˆã€‚<br>> ç­‰å¾…æ“ä½œ...';
    }

    // --- 3. FIFO å°æ¸¬é©—é‚è¼¯ ---
    function checkQuiz(ans) {
        const feedback = document.getElementById('quiz-feedback');
        if (ans === 'A') {
            feedback.style.color = 'var(--success-color)';
            feedback.innerHTML = 'âœ… æ­£ç¢ºï¼<br>å› ç‚º A æ˜¯æœ€æ—©é€²ä¾†çš„ (First In)ï¼Œæ‰€ä»¥å®ƒå¿…é ˆç¬¬ä¸€å€‹å‡ºå» (First Out)ã€‚';
        } else {
            feedback.style.color = 'var(--error-color)';
            feedback.innerHTML = 'âŒ éŒ¯èª¤ï¼<br>Queue æ˜¯å…ˆé€²å…ˆå‡ºã€‚A æ’åœ¨æœ€å‰é¢ï¼Œæ€éº¼æœƒè¼ªåˆ° ' + ans + ' å‘¢ï¼Ÿ';
        }
    }

    // --- 4. é™·é˜±å¡é‚è¼¯ ---
    function dismissTrap(card) {
        card.style.opacity = '0';
        setTimeout(() => {
            card.style.display = 'none';
        }, 500);
    }

    // --- 5. æç¤ºæŒ‰éˆ•é‚è¼¯ ---
    function toggleHint(id) {
        const hint = document.getElementById(id);
        if (hint.style.display === 'block') {
            hint.style.display = 'none';
        } else {
            hint.style.display = 'block';
        }
    }

    // åˆå§‹åŒ–
    renderQueue();

</script>

</body>
</html>