<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†é (Paging)æ©Ÿåˆ¶ï¼šä¸€é¡Œææ‡‚ - OSè¡åˆºç­</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #e67e22;
            --highlight-bg: #f1c40f;
            --correct-color: #27ae60;
            --wrong-color: #c0392b;
            --bg-color: #f4f6f7;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-radius: 8px;
            --spacing: 16px;
        }

        body {
            font-family: "Microsoft JhengHei", "Noto Sans TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: var(--spacing);
        }

        /* A. Header */
        header {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        header h1 { margin: 0; font-size: 1.5rem; }
        header p { margin: 5px 0 0; opacity: 0.9; font-size: 0.9rem; }
        .badge {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-top: 5px;
        }

        /* Section Styling */
        section {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 5px solid var(--primary-color);
        }
        
        h2 {
            font-size: 1.2rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-top: 0;
            color: var(--primary-color);
        }

        /* B. Question Card */
        .question-text {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .options-list {
            list-style-type: none;
            padding: 0;
        }
        .options-list li {
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
        }
        .options-list li:last-child { border-bottom: none; }

        /* C. Highlights */
        .keyword-btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }
        .keyword-btn {
            background: white;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            padding: 5px 10px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        .keyword-btn:hover, .keyword-btn.active {
            background: var(--primary-color);
            color: white;
        }
        .highlighted-text {
            background-color: var(--highlight-bg);
            padding: 0 2px;
            border-radius: 2px;
            font-weight: bold;
        }
        #definition-box {
            background: #fff3cd;
            border: 1px solid #ffeeba;
            color: #856404;
            padding: 10px;
            border-radius: 4px;
            min-height: 40px;
            display: flex;
            align-items: center;
            font-size: 0.95rem;
        }

        /* D. Accordion */
        .accordion-btn {
            background-color: #eee;
            color: #444;
            cursor: pointer;
            padding: 15px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 1rem;
            transition: 0.4s;
            border-radius: 4px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }
        .accordion-btn:after { content: '+'; font-weight: bold; }
        .accordion-btn.active:after { content: '-'; }
        .accordion-panel {
            padding: 0 15px;
            background-color: white;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            border-left: 2px solid #ccc;
            margin-top: 5px;
        }
        .plain-speak { color: var(--accent-color); font-weight: bold; }

        /* E. Simulator */
        .sim-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            user-select: none;
        }
        .sim-column {
            flex: 1;
            min-width: 140px;
            background: #f9f9f9;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }
        .sim-column h3 { font-size: 1rem; margin-bottom: 10px; color: #555; }
        
        .page-item {
            background: var(--accent-color);
            color: white;
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.1s;
            border: 2px solid transparent;
        }
        .page-item.selected {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px var(--primary-color);
            transform: scale(1.05);
        }
        .page-item.placed {
            background: #95a5a6;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .frame-slot {
            background: white;
            border: 2px dashed #bdc3c7;
            margin: 5px 0;
            padding: 10px;
            border-radius: 4px;
            min-height: 24px;
            cursor: pointer;
            position: relative;
        }
        .frame-slot:hover { border-color: var(--primary-color); }
        .frame-slot.occupied { border-style: solid; border-color: var(--accent-color); }
        
        .frame-label {
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
            color: #7f8c8d;
            width: 25px;
            text-align: right;
        }

        .sim-controls {
            margin-top: 15px;
            text-align: center;
        }
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
        }
        .btn:hover { background-color: #34495e; }
        .sim-result {
            margin-top: 10px;
            font-weight: bold;
            color: var(--correct-color);
            min-height: 1.5em;
            text-align: center;
        }
        .instruction { font-size: 0.9rem; color: #666; margin-bottom: 10px; text-align: center;}

        /* F. Options Analysis */
        .option-card {
            border: 1px solid #eee;
            border-radius: 4px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        .option-header {
            background: #f8f9fa;
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        .option-content {
            padding: 15px;
            display: none;
            border-top: 1px solid #eee;
        }
        .status-badge {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        .correct { background: #d4edda; color: #155724; }
        .wrong { background: #f8d7da; color: #721c24; }
        .btn-reveal-opt {
            background: none;
            border: 1px solid #ccc;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
        }

        /* G. Quiz */
        .quiz-item {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #eee;
        }
        .quiz-options button {
            margin-right: 10px;
            padding: 5px 15px;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
        }
        .quiz-options button:hover { background: #f0f0f0; }
        .quiz-feedback { margin-top: 5px; font-weight: bold; font-size: 0.9rem; }
        .text-green { color: var(--correct-color); }
        .text-red { color: var(--wrong-color); }

        /* H. Mnemonics */
        .mnemonic-box {
            background: #e8f6f3;
            border-left: 5px solid var(--correct-color);
            padding: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .pitfall-list li { margin-bottom: 5px; }

        /* I. Answer Reveal */
        #answer-content { display: none; margin-top: 15px; }
        .final-answer {
            font-size: 2rem;
            color: var(--correct-color);
            font-weight: bold;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
            font-size: 0.8rem;
        }

        @media (max-width: 600px) {
            .sim-container { flex-direction: column; align-items: center; }
            .sim-column { width: 100%; max-width: 300px; }
            header h1 { font-size: 1.2rem; }
        }
    </style>
</head>
<body>

<header>
    <h1>åˆ†é  (Paging) æ©Ÿåˆ¶ï¼šä¸€é¡Œææ‡‚</h1>
    <p>è¨˜æ†¶é«”ç®¡ç† Memory Managementï¼ˆæ–°æ‰‹å‹å–„ï¼‰</p>
    <div class="badge">é¡Œè™Ÿï¼š19</div>
</header>

<div class="container">

    <!-- B. é¡Œç›®å€ -->
    <section id="question-area">
        <h2>é¡Œç›®ï¼š19</h2>
        <div class="question-text" id="question-text">
            ä¸‹åˆ—å“ªä¸€é …æè¿°ç¬¦åˆã€Œåˆ†é (Paging)ã€æ©Ÿåˆ¶ï¼Ÿ
        </div>
        <ul class="options-list">
            <li>(A) å°‡ç¨‹å¼æ‹†æˆå›ºå®šå¤§å°çš„é é¢(page)æ”¾å…¥ä»»æ„çš„å¯¦é«”æ¡†æ¶(frame)</li>
            <li>(B) å¿…é ˆå°‡æ•´å€‹ç¨‹å¼ä¸€æ¬¡è¼‰å…¥é€£çºŒå¯¦é«”è¨˜æ†¶é«”æ‰èƒ½åŸ·è¡Œ</li>
            <li>(C) ä¸æ”¯æ´è™›æ“¬è¨˜æ†¶é«”</li>
            <li>(D) åˆ†é å¤§å°å¯ä»¥ä»»æ„æ”¹è®Šï¼Œä¸å›ºå®š</li>
        </ul>
    </section>

    <!-- C. é—œéµå­—äº’å‹• -->
    <section>
        <h2>é—œéµå­—è¢å…‰ç­†</h2>
        <p style="font-size:0.9rem; color:#666;">é»æ“ŠæŒ‰éˆ•ï¼Œæ‰¾å‡ºé¡Œç›®ä¸­çš„é—œéµå­—èˆ‡è§£é‡‹ï¼š</p>
        <div class="keyword-btn-group">
            <button class="keyword-btn" onclick="highlight('paging')">åˆ†é (Paging)</button>
            <button class="keyword-btn" onclick="highlight('fixed')">å›ºå®šå¤§å°</button>
            <button class="keyword-btn" onclick="highlight('page')">é é¢(Page)</button>
            <button class="keyword-btn" onclick="highlight('frame')">å¯¦é«”æ¡†æ¶(Frame)</button>
            <button class="keyword-btn" onclick="highlight('continuous')">é€£çºŒ</button>
            <button class="keyword-btn" onclick="highlight('vm')">è™›æ“¬è¨˜æ†¶é«”</button>
        </div>
        <div id="definition-box">
            è«‹é»æ“Šä¸Šæ–¹æŒ‰éˆ•æŸ¥çœ‹åè©è§£é‡‹...
        </div>
    </section>

    <!-- D. ç™½è©±ç¿»è­¯ -->
    <section>
        <button class="accordion-btn">ç™½è©±ç¿»è­¯èˆ‡è€ƒé»è§£æ</button>
        <div class="accordion-panel">
            <p><strong>ç™½è©±ç¿»è­¯ï¼š</strong><br>
            é€™é¡Œåœ¨å•ï¼šã€ŒPagingã€é€™ç¨®ç®¡ç†è¨˜æ†¶é«”çš„æ–¹æ³•ï¼Œåˆ°åº•æ˜¯æ€éº¼é‹ä½œçš„ï¼Ÿ<br>
            <span class="plain-speak">å°±åƒæˆ‘å€‘è¦ç§Ÿå€‰åº«(è¨˜æ†¶é«”)ä¾†æ”¾æ±è¥¿(ç¨‹å¼)ï¼ŒPaging æ˜¯è¦å®šæ‰€æœ‰ç®±å­å¤§å°éƒ½è¦ä¸€æ¨£å¤§ï¼Œé‚„æ˜¯å¯ä»¥éš¨ä¾¿äº‚å¡ï¼Ÿ</span></p>
            
            <p><strong>é€™é¡Œåœ¨è€ƒä»€éº¼ï¼š</strong><br>
            æ ¸å¿ƒåœ¨è€ƒä½ çŸ¥ä¸çŸ¥é“ <span class="plain-speak">Paging = åˆ‡æˆå›ºå®šå¤§å° + å¯ä»¥äº‚æ”¾(ä¸é€£çºŒ)</span>ã€‚é€™æ˜¯å®ƒè·Ÿ Segmentation (åˆ†æ®µï¼Œå¤§å°ä¸å›ºå®š) æœ€å¤§çš„å·®åˆ¥ã€‚</p>
        </div>
    </section>

    <!-- E. æ¨¡æ“¬å™¨ -->
    <section>
        <h2>äº’å‹•æ¨¡æ“¬ï¼šåˆ†é æ¬é‹å·¥</h2>
        <p class="instruction">æ­¥é©Ÿï¼š1. å…ˆé»é¸å·¦é‚Šçš„ Page (ç¨‹å¼) <br> 2. å†é»é¸å³é‚Šä»»æ„çš„ Frame (è¨˜æ†¶é«”) æŠŠå®ƒæ”¾é€²å»ã€‚</p>
        
        <div class="sim-container">
            <!-- é‚è¼¯è¨˜æ†¶é«” -->
            <div class="sim-column">
                <h3>ç¨‹å¼ (Logical Memory)</h3>
                <p style="font-size:0.8rem; color:#666;">åˆ‡æˆ 4 å€‹å›ºå®šå¤§å°çš„ Page</p>
                <div id="p0" class="page-item" onclick="selectPage('p0')">Page 0 (P0)</div>
                <div id="p1" class="page-item" onclick="selectPage('p1')">Page 1 (P1)</div>
                <div id="p2" class="page-item" onclick="selectPage('p2')">Page 2 (P2)</div>
                <div id="p3" class="page-item" onclick="selectPage('p3')">Page 3 (P3)</div>
            </div>

            <!-- å¯¦é«”è¨˜æ†¶é«” -->
            <div class="sim-column">
                <h3>å¯¦é«”è¨˜æ†¶é«” (Physical RAM)</h3>
                <p style="font-size:0.8rem; color:#666;">åˆ‡æˆ 6 å€‹å›ºå®šå¤§å°çš„ Frame</p>
                <div style="position: relative;">
                    <div class="frame-label">F0</div>
                    <div id="f0" class="frame-slot" onclick="placePage('f0')"></div>
                </div>
                <div style="position: relative;">
                    <div class="frame-label">F1</div>
                    <div id="f1" class="frame-slot" onclick="placePage('f1')"></div>
                </div>
                <div style="position: relative;">
                    <div class="frame-label">F2</div>
                    <div id="f2" class="frame-slot" onclick="placePage('f2')"></div>
                </div>
                <div style="position: relative;">
                    <div class="frame-label">F3</div>
                    <div id="f3" class="frame-slot" onclick="placePage('f3')"></div>
                </div>
                <div style="position: relative;">
                    <div class="frame-label">F4</div>
                    <div id="f4" class="frame-slot" onclick="placePage('f4')"></div>
                </div>
                <div style="position: relative;">
                    <div class="frame-label">F5</div>
                    <div id="f5" class="frame-slot" onclick="placePage('f5')"></div>
                </div>
            </div>
        </div>

        <div class="sim-result" id="sim-message"></div>
        <div class="sim-controls">
            <button class="btn" onclick="resetSim()">é‡ç½®æ¨¡æ“¬</button>
        </div>
    </section>

    <!-- F. é¸é …è§£æ -->
    <section>
        <h2>é¸é …é€ä¸€è§£æ</h2>
        <p style="font-size:0.9rem; color:#666;">é»æ“ŠæŒ‰éˆ•æŸ¥çœ‹è©²é¸é …ç‚ºä»€éº¼å°æˆ–éŒ¯ï¼š</p>

        <!-- Option A -->
        <div class="option-card">
            <div class="option-header">
                <span>(A) å°‡ç¨‹å¼æ‹†æˆå›ºå®šå¤§å°...</span>
                <button class="btn-reveal-opt" onclick="toggleOption('optA')">é¡¯ç¤ºè§£æ</button>
            </div>
            <div id="optA" class="option-content">
                <span class="status-badge correct">æ­£ç¢º</span>
                <p><strong>è€å¸«è¬›è§£ï¼š</strong>é€™å°±æ˜¯ Paging çš„å®šç¾©ï¼æŠŠç¨‹å¼åˆ‡æˆå›ºå®šå¤§å°çš„ Pageï¼Œè¨˜æ†¶é«”åˆ‡æˆåŒæ¨£å¤§å°çš„ Frameã€‚å› ç‚ºå¤§å°ä¸€æ¨£ï¼Œæ‰€ä»¥ Page å¯ä»¥éš¨ä¾¿å¡é€²ä»»ä½•ä¸€å€‹ç©ºçš„ Frame è£¡ï¼Œä¸ç”¨æ’éšŠé€£åœ¨ä¸€èµ·ã€‚</p>
            </div>
        </div>

        <!-- Option B -->
        <div class="option-card">
            <div class="option-header">
                <span>(B) å¿…é ˆ...ä¸€æ¬¡è¼‰å…¥é€£çºŒå¯¦é«”è¨˜æ†¶é«”...</span>
                <button class="btn-reveal-opt" onclick="toggleOption('optB')">é¡¯ç¤ºè§£æ</button>
            </div>
            <div id="optB" class="option-content">
                <span class="status-badge wrong">éŒ¯èª¤</span>
                <p><strong>è€å¸«è¬›è§£ï¼š</strong>é€™æ˜¯ã€Œé€£çºŒè¨˜æ†¶é«”é…ç½®ã€çš„è€èˆŠè§€å¿µã€‚Paging æœ€å¼·å¤§çš„åœ°æ–¹å°±æ˜¯ã€Œä¸ç”¨é€£çºŒã€ï¼P0 å¯ä»¥æ”¾ F1ï¼ŒP1 å¯ä»¥æ”¾ F5ï¼Œåˆ†é–‹ä½æ²’é—œä¿‚ã€‚</p>
            </div>
        </div>

        <!-- Option C -->
        <div class="option-card">
            <div class="option-header">
                <span>(C) ä¸æ”¯æ´è™›æ“¬è¨˜æ†¶é«”</span>
                <button class="btn-reveal-opt" onclick="toggleOption('optC')">é¡¯ç¤ºè§£æ</button>
            </div>
            <div id="optC" class="option-content">
                <span class="status-badge wrong">éŒ¯èª¤</span>
                <p><strong>è€å¸«è¬›è§£ï¼š</strong>å‰›å¥½ç›¸åï¼Paging æ˜¯ç¾ä»£ã€Œè™›æ“¬è¨˜æ†¶é«” (Virtual Memory)ã€çš„åŸºç¤ã€‚å› ç‚ºåˆ‡å¾ˆç´°åˆä¸éœ€é€£çºŒï¼Œä½œæ¥­ç³»çµ±å¯ä»¥å¾ˆå®¹æ˜“åœ°æŠŠæš«æ™‚ä¸ç”¨çš„ Page ä¸Ÿåˆ°ç¡¬ç¢Ÿå»ï¼Œè®“è¨˜æ†¶é«”çœ‹èµ·ä¾†è®Šå¤§ã€‚</p>
            </div>
        </div>

        <!-- Option D -->
        <div class="option-card">
            <div class="option-header">
                <span>(D) åˆ†é å¤§å°å¯ä»¥ä»»æ„æ”¹è®Š...</span>
                <button class="btn-reveal-opt" onclick="toggleOption('optD')">é¡¯ç¤ºè§£æ</button>
            </div>
            <div id="optD" class="option-content">
                <span class="status-badge wrong">éŒ¯èª¤</span>
                <p><strong>è€å¸«è¬›è§£ï¼š</strong>é€™æ˜¯ã€Œåˆ†æ®µ (Segmentation)ã€çš„ç‰¹å¾µã€‚Paging çš„ç‰¹è‰²å°±æ˜¯ã€Œä¸€è¦–åŒä»ã€å¤§å°å›ºå®šã€(ä¾‹å¦‚ä¸€é å°±æ˜¯ 4KB)ã€‚å¦‚æœå¤§å°ä¸å›ºå®šï¼Œé‚£æ˜¯ Segmentationã€‚</p>
            </div>
        </div>
    </section>

    <!-- G. å¿«é€Ÿæ¸¬é©— -->
    <section>
        <h2>30ç§’éš¨å ‚è€ƒ</h2>
        
        <div class="quiz-item">
            <p>1. åˆ†é  (Paging) çš„æ¯ä¸€å€‹é é¢å¤§å°æ˜¯å›ºå®šçš„å—ï¼Ÿ</p>
            <div class="quiz-options">
                <button onclick="checkQuiz(1, true)">æ˜¯ (Fixed)</button>
                <button onclick="checkQuiz(1, false)">å¦ (Variable)</button>
            </div>
            <div id="q1-feedback" class="quiz-feedback"></div>
        </div>

        <div class="quiz-item">
            <p>2. ä½¿ç”¨ Paging æ©Ÿåˆ¶ï¼Œç¨‹å¼åœ¨å¯¦é«”è¨˜æ†¶é«”ä¸­å¿…é ˆã€Œé€£çºŒã€å­˜æ”¾å—ï¼Ÿ</p>
            <div class="quiz-options">
                <button onclick="checkQuiz(2, true)">å¿…é ˆé€£çºŒ</button>
                <button onclick="checkQuiz(2, false)">ä¸å¿…é€£çºŒ</button>
            </div>
            <div id="q2-feedback" class="quiz-feedback"></div>
        </div>

        <div class="quiz-item">
            <p>3. Paging é€šå¸¸æ˜¯å¯¦ç¾ã€Œè™›æ“¬è¨˜æ†¶é«”ã€çš„åŸºç¤æŠ€è¡“å—ï¼Ÿ</p>
            <div class="quiz-options">
                <button onclick="checkQuiz(3, true)">æ˜¯</button>
                <button onclick="checkQuiz(3, false)">å¦</button>
            </div>
            <div id="q3-feedback" class="quiz-feedback"></div>
        </div>
    </section>

    <!-- H. å£è¨£èˆ‡é™·é˜± -->
    <section>
        <h2>è¡åˆºç­å£è¨£ & é™·é˜±</h2>
        <div class="mnemonic-box">
            å£è¨£ï¼šã€Œé å›ºå®šã€ä½ä¸é€£ï¼Œè™›æ“¬è¨˜æ†¶é«”é å®ƒæ’ã€
        </div>
        <p><strong>è¨˜æ†¶é‡é»ï¼š</strong></p>
        <ul class="pitfall-list">
            <li><strong>é å›ºå®šï¼š</strong>Page å¤§å°çµ•å°æ˜¯å›ºå®šçš„ (ç”±ç¡¬é«”æ±ºå®š)ã€‚</li>
            <li><strong>ä½ä¸é€£ï¼š</strong>åœ¨å¯¦é«”è¨˜æ†¶é«”çš„ä½ç½®(ä½å€)ä¸éœ€è¦é€£çºŒã€‚</li>
        </ul>
        <br>
        <p><strong>å¸¸è¦‹é™·é˜± (Exam Pitfalls)ï¼š</strong></p>
        <ul class="pitfall-list" style="color: #c0392b;">
            <li>[!] çœ‹åˆ°ã€Œå¤§å°ä¸å›ºå®šã€ -> é¸ Segmentation (åˆ†æ®µ)ã€‚</li>
            <li>[!] çœ‹åˆ°ã€Œé‚è¼¯æ„ç¾©å®Œæ•´åˆ‡å‰² (å¦‚å‡½å¼ã€ä¸»ç¨‹å¼)ã€ -> é¸ Segmentationã€‚</li>
            <li>[!] çœ‹åˆ°ã€Œè§£æ±ºå¤–éƒ¨ç ´ç¢ (External Fragmentation)ã€ -> Paging æœ€æ“…é•·ã€‚</li>
        </ul>
    </section>

    <!-- I. æ­£ç¢ºç­”æ¡ˆ -->
    <section id="answer-section">
        <button class="btn" style="width:100%" onclick="showFinalAnswer()">æ­æ›‰æœ¬é¡Œç­”æ¡ˆ</button>
        <div id="answer-content">
            <p>æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š</p>
            <div class="final-answer">(A)</div>
            <p><strong>ä¸€å¥è©±ç¸½çµï¼š</strong>å› ç‚º Paging å°‡ç¨‹å¼åˆ‡æˆå›ºå®šå¤§å°çš„ Pageï¼Œæ‰€ä»¥å¯ä»¥æ”¾å…¥è¨˜æ†¶é«”ä¸­ä»»æ„ä½ç½®çš„ Frameï¼Œä¸éœ€è¦é€£çºŒç©ºé–“ã€‚</p>
        </div>
    </section>

</div>

<footer>
    <p>OSè¡åˆºç­æ•™æ Â© 2025</p>
</footer>

<script>
    /* --- C. Highlights Logic --- */
    const definitions = {
        'paging': 'åˆ†é  (Paging)ï¼šæŠŠè¨˜æ†¶é«”åˆ‡æˆä¸€æ ¼ä¸€æ ¼ã€Œå›ºå®šå¤§å°ã€ä¾†ä½¿ç”¨çš„æŠ€è¡“ã€‚',
        'fixed': 'å›ºå®šå¤§å°ï¼šåƒåˆ‡åå¸ä¸€æ¨£ï¼Œæ¯ä¸€ç‰‡åšåº¦éƒ½è¦å®šå¥½ï¼Œä¸èƒ½å¿½å¤§å¿½å°ã€‚',
        'page': 'é é¢ (Page)ï¼šç¨‹å¼(Process)è¢«åˆ‡å‡ºä¾†çš„ä¸€å°å¡Šï¼Œå¤§å°å›ºå®šã€‚',
        'frame': 'å¯¦é«”æ¡†æ¶ (Frame)ï¼šå¯¦é«”è¨˜æ†¶é«”(RAM)è¢«åˆ‡å‡ºä¾†çš„ä¸€å°æ ¼ï¼Œå¤§å°è·Ÿ Page ä¸€æ¨£ã€‚',
        'continuous': 'é€£çºŒï¼šå¿…é ˆé»åœ¨ä¸€èµ·æ”¾ï¼Œä¸­é–“ä¸èƒ½æ–·é–‹ã€‚(Paging ä¸éœ€è¦é€™æ¨£ï¼)',
        'vm': 'è™›æ“¬è¨˜æ†¶é«” (Virtual Memory)ï¼šè®“ç¨‹å¼ä»¥ç‚ºè¨˜æ†¶é«”å¾ˆå¤§ï¼Œå…¶å¯¦æ˜¯ç”¨ç¡¬ç¢Ÿ/SSDå¹«å¿™æ’å ´é¢ã€‚',
        'default': 'è«‹é»æ“Šä¸Šæ–¹æŒ‰éˆ•æŸ¥çœ‹åè©è§£é‡‹...'
    };

    // Store original HTML to clear highlights easily
    const questionContainer = document.getElementById('question-text');
    const originalQuestionHTML = questionContainer.innerHTML;

    function highlight(key) {
        // Reset explanation
        document.getElementById('definition-box').innerText = definitions[key];
        
        // Update Buttons active state
        document.querySelectorAll('.keyword-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');

        // Simple text replacement for highlighting (reset first to avoid nesting)
        let html = originalQuestionHTML;
        
        // Define mapping for text replacement
        const map = {
            'paging': ['åˆ†é (Paging)'],
            'fixed': ['å›ºå®šå¤§å°'],
            'page': ['é é¢(page)'],
            'frame': ['å¯¦é«”æ¡†æ¶(frame)'],
            'continuous': ['é€£çºŒ'],
            'vm': ['è™›æ“¬è¨˜æ†¶é«”']
        };

        const targets = map[key];
        if(targets) {
            targets.forEach(text => {
                // Global replace, case insensitive
                const regex = new RegExp(text.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi');
                html = html.replace(regex, `<span class="highlighted-text">$&</span>`);
            });
        }
        questionContainer.innerHTML = html;
    }

    /* --- D. Accordion Logic --- */
    document.querySelector('.accordion-btn').addEventListener('click', function() {
        this.classList.toggle('active');
        var panel = this.nextElementSibling;
        if (panel.style.maxHeight) {
            panel.style.maxHeight = null;
        } else {
            panel.style.maxHeight = panel.scrollHeight + "px";
        }
    });

    /* --- E. Simulator Logic --- */
    let selectedPageId = null;
    let placedCount = 0;
    const totalPages = 4;

    function selectPage(id) {
        const el = document.getElementById(id);
        if(el.classList.contains('placed')) return; // Already moved

        // Clear previous selection
        document.querySelectorAll('.page-item').forEach(p => p.classList.remove('selected'));
        
        selectedPageId = id;
        el.classList.add('selected');
        document.getElementById('sim-message').innerText = "å·²é¸å– " + el.innerText.split(' ')[0] + "ï¼Œè«‹é»é¸å³å´ç©ºç™½ Frame æ”¾å…¥ã€‚";
        document.getElementById('sim-message').style.color = "#333";
    }

    function placePage(frameId) {
        if(!selectedPageId) {
            document.getElementById('sim-message').innerText = "è«‹å…ˆé»é¸å·¦å´çš„ Pageï¼";
            document.getElementById('sim-message').style.color = "#c0392b";
            return;
        }

        const frameEl = document.getElementById(frameId);
        if(frameEl.classList.contains('occupied')) {
            document.getElementById('sim-message').innerText = "é€™å€‹ Frame å·²ç¶“æœ‰äººä½äº†ï¼é¸åˆ¥çš„ã€‚";
            document.getElementById('sim-message').style.color = "#c0392b";
            return;
        }

        // Logic: Move text/visual to frame
        const pageEl = document.getElementById(selectedPageId);
        
        // Mark Page as placed
        pageEl.classList.remove('selected');
        pageEl.classList.add('placed');
        pageEl.removeAttribute('onclick');

        // Mark Frame as occupied
        frameEl.classList.add('occupied');
        frameEl.innerText = pageEl.innerText.split(' ')[2]; // Get P0, P1 etc
        frameEl.style.backgroundColor = getComputedStyle(pageEl).backgroundColor;
        frameEl.style.color = "white";
        frameEl.style.display = "flex";
        frameEl.style.alignItems = "center";
        frameEl.style.justifyContent = "center";
        frameEl.style.fontWeight = "bold";

        // Reset state
        selectedPageId = null;
        placedCount++;

        // Success Check
        if(placedCount === totalPages) {
            document.getElementById('sim-message').innerText = "ğŸ‰ æˆåŠŸï¼Page å›ºå®šå¤§å°ï¼Œå¯ä»¥æ”¾å…¥ä»»æ„ Frameï¼Œä¸å¿…é€£çºŒï¼";
            document.getElementById('sim-message').style.color = "#27ae60";
        } else {
            document.getElementById('sim-message').innerText = "æˆåŠŸæ”¾å…¥ï¼é‚„æœ‰ " + (totalPages - placedCount) + " å€‹ Pageã€‚";
            document.getElementById('sim-message').style.color = "#27ae60";
        }
    }

    function resetSim() {
        placedCount = 0;
        selectedPageId = null;
        document.getElementById('sim-message').innerText = "";
        
        // Reset Pages
        ['p0','p1','p2','p3'].forEach(id => {
            const el = document.getElementById(id);
            el.classList.remove('placed', 'selected');
            el.setAttribute('onclick', `selectPage('${id}')`);
        });

        // Reset Frames
        ['f0','f1','f2','f3','f4','f5'].forEach(id => {
            const el = document.getElementById(id);
            el.classList.remove('occupied');
            el.innerText = "";
            el.style.backgroundColor = "white";
        });
    }

    /* --- F. Option Toggle --- */
    function toggleOption(id) {
        const content = document.getElementById(id);
        if(content.style.display === 'block') {
            content.style.display = 'none';
        } else {
            content.style.display = 'block';
        }
    }

    /* --- G. Quiz Logic --- */
    function checkQuiz(qNum, answer) {
        const feedbackEl = document.getElementById(`q1-feedback`.replace('1', qNum));
        
        // Define correct answers
        const key = {
            1: true,  // Fixed size
            2: false, // Not continuous
            3: true   // Supports VM
        };

        if(answer === key[qNum]) {
            feedbackEl.innerHTML = `<span class="text-green">â­• ç­”å°äº†ï¼</span>`;
            if(qNum === 1) feedbackEl.innerHTML += " Page å¤§å°å¿…é ˆå›ºå®šã€‚";
            if(qNum === 2) feedbackEl.innerHTML += " é€™æ˜¯ Paging æœ€å¤§å„ªé»ï¼šä¸éœ€é€£çºŒã€‚";
            if(qNum === 3) feedbackEl.innerHTML += " Paging æ˜¯è™›æ“¬è¨˜æ†¶é«”çš„æ ¸å¿ƒã€‚";
        } else {
            feedbackEl.innerHTML = `<span class="text-red">âŒ å†æƒ³ä¸€ä¸‹...</span>`;
        }
    }

    /* --- I. Answer Reveal --- */
    function showFinalAnswer() {
        document.getElementById('answer-content').style.display = 'block';
        // Scroll to bottom
        setTimeout(() => {
            document.getElementById('answer-section').scrollIntoView({behavior: "smooth"});
        }, 100);
    }
</script>

</body>
</html>