<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¤‡é¸é¡Œ 47ï¼šé—œè¯å¼è³‡æ–™åº«é‹ç®—æ•™å­¸</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #2c3e50; /* æ·±è—è‰² - å°ˆæ¥­æ„Ÿ */
            --accent-color: #e67e22; /* æ©˜è‰² - é‡é»æç¤º */
            --success-color: #27ae60; /* ç¶ è‰² - æ­£ç¢º */
            --error-color: #c0392b; /* ç´…è‰² - éŒ¯èª¤ */
            --bg-color: #f4f6f7;
            --card-bg: #ffffff;
            --border-radius: 8px;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }

        h1 {
            text-align: center;
            border-bottom: none;
            background-color: var(--primary-color);
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 0;
        }

        .highlight {
            color: var(--accent-color);
            font-weight: bold;
        }

        .section-box {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background-color: #fff;
        }

        /* --- è§€å¿µèªªæ˜å€ --- */
        .concept-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .concept-table th, .concept-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .concept-table th {
            background-color: #ecf0f1;
        }

        .mnemonic-box {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            font-size: 1.1em;
        }

        /* --- äº’å‹•ç¤ºç¯„å€ (SELECT/PROJECT) --- */
        .demo-controls button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .demo-controls button:hover {
            background-color: #34495e;
        }

        .demo-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            border: 2px solid #333;
        }

        .demo-table th, .demo-table td {
            border: 1px solid #999;
            padding: 8px;
            text-align: center;
            transition: background-color 0.3s;
        }

        .demo-table th {
            background-color: #ddd;
        }

        /* äº’å‹•æ•ˆæœ Class */
        .row-highlight {
            background-color: #fdcb6e !important; /* é»ƒè‰² highlight */
        }
        .col-highlight {
            background-color: #81ecec !important; /* é’è‰² highlight */
        }
        .join-highlight {
            background-color: #a29bfe !important; /* ç´«è‰² highlight */
            color: white;
        }

        /* --- æ‹–æ”¾åˆ†é¡äº’å‹• --- */
        .drag-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            flex-wrap: wrap;
        }

        .source-container {
            width: 100%;
            min-height: 60px;
            background: #eee;
            padding: 10px;
            display: flex;
            gap: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            align-items: center;
            justify-content: center;
        }

        .drop-zone {
            flex: 1;
            min-height: 150px;
            border: 2px dashed #aaa;
            border-radius: 5px;
            padding: 10px;
            text-align: center;
            background-color: #fafafa;
        }

        .drop-zone h4 {
            margin-top: 0;
            color: #7f8c8d;
        }

        .draggable-item {
            padding: 8px 15px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 4px;
            cursor: move;
            display: inline-block;
            user-select: none;
            margin: 5px;
        }

        .draggable-item:active {
            opacity: 0.6;
        }

        /* --- è¤‡é¸é¡Œä½œç­”å€ --- */
        .quiz-option {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 5px;
            cursor: pointer;
            display: block;
        }

        .quiz-option:hover {
            background-color: #f9f9f9;
        }

        .quiz-option input {
            margin-right: 10px;
            transform: scale(1.2);
        }

        #quiz-feedback {
            margin-top: 15px;
            font-weight: bold;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }

        .correct-bg {
            background-color: #d4edda;
            color: #155724;
        }
        
        .wrong-bg {
            background-color: #f8d7da;
            color: #721c24;
        }

        /* --- è§£æèˆ‡é™·é˜±å¡ --- */
        .analysis-btn {
            background: none;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            padding: 5px 10px;
            margin: 5px 0;
            cursor: pointer;
            width: 100%;
            text-align: left;
        }
        
        .analysis-btn:hover {
            background-color: #eee;
        }

        .trap-container {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .trap-card {
            flex: 1;
            min-width: 200px;
            background-color: #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #fdcb6e;
            position: relative;
            cursor: pointer;
            transition: opacity 0.5s;
        }

        .trap-card h4 {
            margin-top: 0;
            color: #d35400;
        }

        .close-trap {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.8em;
            color: #666;
        }

        /* --- è‡ªæˆ‘æª¢æ¸¬ --- */
        .hint-box {
            background: #e8f6f3;
            padding: 10px;
            margin-top: 5px;
            display: none;
            border-left: 3px solid var(--success-color);
        }

        /* --- å·¥å…·æŒ‰éˆ• --- */
        .reset-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #95a5a6;
            color: white;
            border: none;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 30px;
            border-radius: var(--border-radius);
        }

        .reset-btn:hover {
            background-color: #7f8c8d;
        }

    </style>
</head>
<body>

<div class="container">
    <h1>è¤‡é¸é¡Œ 47ï¼šé—œè¯å¼è³‡æ–™åº«é‹ç®—</h1>
    <p style="text-align: center;">è£œæ•™åå¸«è¬›ç¾© â€” äº’å‹•å¼æ•™å­¸ç‰ˆ</p>

    <!-- 1. æ ¸å¿ƒè§€å¿µèªªæ˜å€ -->
    <div class="section-box">
        <h2>ğŸ“Œ è€ƒå‰é‡é»ï¼šä¸‰å¤§é—œè¯é‹ç®—</h2>
        <p>å„ä½åŒå­¸ï¼Œé—œè¯å¼è³‡æ–™åº«ï¼ˆRelational Databaseï¼‰å°±æ˜¯ç”¨ã€Œè³‡æ–™è¡¨ï¼ˆTableï¼‰ã€ä¾†å„²å­˜è³‡æ–™çš„ç³»çµ±ã€‚è€Œé‡å°é€™äº›è¡¨ï¼Œæœ‰ä¸‰å€‹æœ€é‡è¦çš„é‹ç®—ï¼Œè€ƒè©¦å¿…è€ƒï¼</p>
        
        <div class="mnemonic-box">
            ğŸ‘‰ <strong>è¶…å¼·å£è¨£ï¼ˆèƒŒä¸‹ä¾†å°±å¾—åˆ†ï¼‰ï¼š</strong><br>
            <span style="font-size: 1.3em;">ã€Œé¸åˆ— SELECTã€é¸æ¬„ PROJECTã€åˆä½µ JOINã€</span>
        </div>

        <h3>ğŸ“ é‹ç®— vs SQL æŒ‡ä»¤å°ç…§è¡¨</h3>
        <p>è€ƒè©¦å¸¸è€ƒé€™ä¸‰å€‹é‹ç®—åœ¨ SQL èªæ³•ä¸­å°æ‡‰çš„é—œéµå­—ï¼Œåƒè¬åˆ¥ææ··ï¼</p>
        <table class="concept-table">
            <thead>
                <tr>
                    <th width="20%">é‹ç®—åç¨±</th>
                    <th width="30%">ç™½è©±è§£é‡‹ (åŠŸèƒ½)</th>
                    <th width="20%">å°æ‡‰ SQL æŒ‡ä»¤</th>
                    <th width="30%">è¨˜æ†¶é»</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>SELECT</strong></td>
                    <td><span class="highlight">é¸åˆ—</span> (ç¯©é¸ç¬¦åˆæ¢ä»¶çš„æ©«åˆ—)</td>
                    <td>WHERE æ¢ä»¶</td>
                    <td>çœ‹åˆ° Select æƒ³è‘—ã€Œéæ¿¾å™¨ã€</td>
                </tr>
                <tr>
                    <td><strong>PROJECT</strong></td>
                    <td><span class="highlight">é¸æ¬„</span> (åªçœ‹ç‰¹å®šçš„ç›´æ¬„)</td>
                    <td>SELECT æ¬„ä½</td>
                    <td>çœ‹åˆ° Project æƒ³è‘—ã€ŒæŠ•å½±æ©Ÿã€(åªç…§æŸå€å¡Š)</td>
                </tr>
                <tr>
                    <td><strong>JOIN</strong></td>
                    <td><span class="highlight">åˆä½µ</span> (å…©å¼µè¡¨æ‹¼èµ·ä¾†)</td>
                    <td>FROM A JOIN B</td>
                    <td>çœ‹åˆ° Join æƒ³è‘—ã€Œé»åˆã€</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- 2. äº’å‹•ç¤ºç¯„å€ -->
    <div class="section-box">
        <h2>ğŸ® äº’å‹•å¯¦é©—å®¤ï¼šé»é»çœ‹å°±æ‡‚</h2>
        <p>é€™è£¡æœ‰ä¸€å¼µæˆç¸¾è¡¨ï¼Œè«‹é»æ“ŠæŒ‰éˆ•ï¼Œè§€å¯Ÿé‹ç®—ç™¼ç”Ÿäº†ä»€éº¼äº‹ï¼</p>
        
        <div class="demo-controls">
            <button onclick="demoSelect()">ç¤ºç¯„ SELECT (åˆ†æ•¸ > 80)</button>
            <button onclick="demoProject()">ç¤ºç¯„ PROJECT (åªçœ‹å§“å)</button>
            <button onclick="demoJoin()">ç¤ºç¯„ JOIN (åˆä½µç­ç´šè¡¨)</button>
            <button onclick="resetDemo()" style="background-color: #95a5a6;">é‚„åŸè¡¨æ ¼</button>
        </div>

        <div id="demo-area">
            <!-- é€™è£¡çš„å…§å®¹æœƒè¢« JS å‹•æ…‹ä¿®æ”¹ -->
            <table class="demo-table" id="student-table">
                <thead>
                    <tr>
                        <th class="col-id">å­¸è™Ÿ</th>
                        <th class="col-name">å§“å</th>
                        <th class="col-score">åˆ†æ•¸</th>
                        <th class="col-class">ç­ç´šä»£è™Ÿ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="row-1">
                        <td class="col-id">001</td>
                        <td class="col-name">å¼µä¸‰</td>
                        <td class="col-score">90</td>
                        <td class="col-class">A</td>
                    </tr>
                    <tr id="row-2">
                        <td class="col-id">002</td>
                        <td class="col-name">æå››</td>
                        <td class="col-score">55</td>
                        <td class="col-class">B</td>
                    </tr>
                    <tr id="row-3">
                        <td class="col-id">003</td>
                        <td class="col-name">ç‹äº”</td>
                        <td class="col-score">85</td>
                        <td class="col-class">A</td>
                    </tr>
                </tbody>
            </table>
            <p id="demo-msg" style="color: #666; font-style: italic; min-height: 20px;"></p>
        </div>
    </div>

    <!-- 3. æ‹–æ‹‰åˆ†é¡äº’å‹• -->
    <div class="section-box">
        <h2>ğŸ–ï¸ éš¨å ‚å°è€ƒï¼šåˆ†é¡å¤§ä½œæˆ°</h2>
        <p>è«‹å°‡ä¸‹æ–¹çš„åè©å¡ç‰‡ï¼Œæ‹–æ‹‰ï¼ˆæˆ–é»æ“Šå¾Œç§»å‹•ï¼‰åˆ°æ­£ç¢ºçš„åˆ†é¡æ¡†ä¸­ã€‚</p>
        
        <div class="source-container" id="source-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
            <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-proceed" onclick="mobileMove(this)">PROCEED</div>
            <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-join" onclick="mobileMove(this)">JOIN</div>
            <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-select" onclick="mobileMove(this)">SELECT</div>
            <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-project" onclick="mobileMove(this)">PROJECT</div>
            <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="drag-react" onclick="mobileMove(this)">REACT</div>
        </div>

        <div class="drag-container">
            <div class="drop-zone" id="zone-relational" ondrop="drop(event)" ondragover="allowDrop(event)" onclick="mobileTarget(this)">
                <h4>âœ… é—œè¯å¼è³‡æ–™åº«é‹ç®—</h4>
            </div>
            <div class="drop-zone" id="zone-non" ondrop="drop(event)" ondragover="allowDrop(event)" onclick="mobileTarget(this)">
                <h4>âŒ éé—œè¯é‹ç®— / ç„¡æ­¤åè©</h4>
            </div>
        </div>
        <button onclick="checkDragAnswer()" style="margin-top: 10px; background-color: var(--accent-color); color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">æª¢æŸ¥åˆ†é¡ç­”æ¡ˆ</button>
        <p id="drag-feedback"></p>
    </div>

    <!-- 4. é¡Œç›®ä½œç­”å€ -->
    <div class="section-box" style="border: 2px solid var(--primary-color);">
        <h2 style="background-color: var(--primary-color); color: white; margin: -20px -20px 20px -20px; padding: 10px 20px; border-radius: 6px 6px 0 0;">ğŸ“ è¤‡é¸é¡Œ 47</h2>
        <p style="font-weight: bold; font-size: 1.1em;">ä¸‹åˆ—ä½•è€…ç‚ºé—œè¯å¼è³‡æ–™åº«ç®¡ç†ç³»çµ±ä¹‹é‹ç®—ï¼Ÿ<span style="color: red;">ï¼ˆæœ¬é¡Œç‚ºè¤‡é¸é¡Œï¼‰</span></p>

        <form id="quiz-form">
            <label class="quiz-option">
                <input type="checkbox" name="option" value="A"> (A) PROCEED
            </label>
            <label class="quiz-option">
                <input type="checkbox" name="option" value="B"> (B) JOIN
            </label>
            <label class="quiz-option">
                <input type="checkbox" name="option" value="C"> (C) SELECT
            </label>
            <label class="quiz-option">
                <input type="checkbox" name="option" value="D"> (D) PROJECT
            </label>
            <label class="quiz-option">
                <input type="checkbox" name="option" value="E"> (E) REACT
            </label>
        </form>

        <button onclick="submitQuiz()" style="background-color: var(--primary-color); color: white; border: none; padding: 10px 20px; border-radius: 5px; font-size: 1.1em; cursor: pointer; margin-top: 10px;">é€å‡ºç­”æ¡ˆ</button>

        <div id="quiz-feedback"></div>
    </div>

    <!-- 5. è©³ç´°è§£æ -->
    <div class="section-box">
        <h2>ğŸ” é¸é …é€ä¸€è§£æ</h2>
        <p>é»æ“Šé¸é …çœ‹è©³ç´°èªªæ˜ï¼š</p>
        <div id="analysis-area">
            <button class="analysis-btn" onclick="toggleAnalysis('A')">(A) PROCEED</button>
            <div id="analysis-A" style="display:none; padding:10px; color: #c0392b;">âŒ éŒ¯èª¤ã€‚é€™ä¸æ˜¯è³‡æ–™åº«çš„æ¨™æº–é‹ç®—åè©ï¼Œç´”ç²¹æ˜¯è‹±æ–‡å–®å­—ï¼ˆå‰é€²ï¼‰ã€‚</div>

            <button class="analysis-btn" onclick="toggleAnalysis('B')">(B) JOIN</button>
            <div id="analysis-B" style="display:none; padding:10px; color: #27ae60;">âœ… æ­£ç¢ºï¼<strong>JOIN (çµåˆ/åˆä½µ)</strong>ï¼šæ˜¯ç”¨ä¾†å°‡å…©å€‹ä»¥ä¸Šçš„è³‡æ–™è¡¨ï¼Œä¾ç…§å…±åŒæ¬„ä½åˆä½µæˆä¸€å€‹æ–°è¡¨çš„é‹ç®—ã€‚</div>

            <button class="analysis-btn" onclick="toggleAnalysis('C')">(C) SELECT</button>
            <div id="analysis-C" style="display:none; padding:10px; color: #27ae60;">âœ… æ­£ç¢ºï¼<strong>SELECT (é¸æ“‡/é¸åˆ—)</strong>ï¼šæ˜¯ç”¨æ¢ä»¶ä¾†ç¯©é¸å‡ºæˆ‘å€‘æƒ³è¦çš„ã€Œåˆ— (Row/Tuple)ã€ã€‚</div>

            <button class="analysis-btn" onclick="toggleAnalysis('D')">(D) PROJECT</button>
            <div id="analysis-D" style="display:none; padding:10px; color: #27ae60;">âœ… æ­£ç¢ºï¼<strong>PROJECT (æŠ•å½±/é¸æ¬„)</strong>ï¼šæ˜¯ç”¨ä¾†æŒ‘é¸å‡ºæˆ‘å€‘æƒ³è¦çš„ã€Œæ¬„ä½ (Column/Attribute)ã€ã€‚</div>

            <button class="analysis-btn" onclick="toggleAnalysis('E')">(E) REACT</button>
            <div id="analysis-E" style="display:none; padding:10px; color: #c0392b;">âŒ éŒ¯èª¤ã€‚é€™ä¸æ˜¯è³‡æ–™åº«åè©ï¼Œæ¯”è¼ƒåƒæ˜¯åŒ–å­¸åæ‡‰æˆ–æ˜¯ JavaScript çš„æ¡†æ¶åç¨±ã€‚</div>
        </div>
    </div>

    <!-- 6. é™·é˜±å¡èˆ‡è‡ªæˆ‘æª¢æ¸¬ -->
    <div class="section-box">
        <h2>âš ï¸ è€ƒè©¦é™·é˜± & è‡ªæˆ‘æª¢æ¸¬</h2>
        
        <div class="trap-container">
            <div class="trap-card" onclick="this.style.opacity='0'; setTimeout(()=>this.style.display='none', 500);">
                <span class="close-trap">é»æ“Šæˆ‘æ‡‚äº†</span>
                <h4>é™·é˜± 1ï¼šè‹±æ–‡ææ‡¼ç—‡</h4>
                <p>çœ‹åˆ° PROCEED é€™ç¨®å¾ˆåƒå‹•è©çš„å­—ä¸è¦æ€•ï¼Œè³‡æ–™åº«åªæœ‰ SELECT, PROJECT, JOIN, UPDATE ç­‰å›ºå®šåè©ã€‚</p>
            </div>
            <div class="trap-card" onclick="this.style.opacity='0'; setTimeout(()=>this.style.display='none', 500);">
                <span class="close-trap">é»æ“Šæˆ‘æ‡‚äº†</span>
                <h4>é™·é˜± 2ï¼šSQL æ··æ·†</h4>
                <p>SQL çš„ <code>SELECT *</code> å…¶å¯¦åŒ…å«äº†é—œè¯é‹ç®—çš„ PROJECT(é¸æ¬„) æ¦‚å¿µï¼Œä¸è¦æŠŠç†è«–é‹ç®—è·Ÿ SQL èªæ³•ææ··ï¼</p>
            </div>
            <div class="trap-card" onclick="this.style.opacity='0'; setTimeout(()=>this.style.display='none', 500);">
                <span class="close-trap">é»æ“Šæˆ‘æ‡‚äº†</span>
                <h4>é™·é˜± 3ï¼šè¤‡é¸é¡Œæ¼é¸</h4>
                <p>é€™é¡Œä¸€å®šè¦é¸ B, C, D ä¸‰å€‹ï¼Œå°‘é¸ä¸€å€‹éƒ½ä¸çµ¦åˆ†å–”ï¼</p>
            </div>
        </div>

        <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ccc;">

        <h3>ğŸ§  è‡ªæˆ‘æª¢æ¸¬ (é»æŒ‰éˆ•çœ‹æç¤º)</h3>
        
        <div style="margin-bottom: 15px;">
            <strong>Q1: ç‚ºä»€éº¼ SELECT å’Œ PROJECT å¸¸è¢«ææ··ï¼Ÿ</strong>
            <button onclick="document.getElementById('hint1').style.display='block'" style="font-size: 0.8em; margin-left: 10px;">é¡¯ç¤ºæç¤º</button>
            <div id="hint1" class="hint-box">
                æç¤ºï¼šå› ç‚º SQL èªè¨€è£¡ï¼Œç¬¬ä¸€å€‹å­—å°±æ˜¯ SELECT (ç”¨ä¾†é¸æ¬„ä½)ï¼Œä½†åœ¨ã€Œé—œè¯é‹ç®—ç†è«–ã€è£¡ï¼ŒSELECT æ˜¯é¸åˆ—ï¼ˆRowï¼‰ã€‚é€™å°±æ˜¯æœ€å¤§çš„é™·é˜±ï¼è¨˜å¾—å£è¨£ï¼šé‹ç®—ç†è«–ä¸­ã€Œé¸åˆ— SELECTã€ã€‚
            </div>
        </div>

        <div style="margin-bottom: 15px;">
            <strong>Q2: JOIN ä¸€å®šè¦æœ‰å…±åŒæ¬„ä½å—ï¼Ÿ</strong>
            <button onclick="document.getElementById('hint2').style.display='block'" style="font-size: 0.8em; margin-left: 10px;">é¡¯ç¤ºæç¤º</button>
            <div id="hint2" class="hint-box">
                æç¤ºï¼šæ˜¯çš„ï¼è¦æŠŠå…©å¼µè¡¨æ¥èµ·ä¾†ï¼Œå¿…é ˆè¦æœ‰ä¸€å€‹åƒæ˜¯ã€Œæ›é‰¤ã€ä¸€æ¨£çš„å…±åŒå±¬æ€§ï¼ˆä¾‹å¦‚ï¼šå…©å¼µè¡¨éƒ½æœ‰å­¸è™Ÿï¼‰ï¼Œæ‰èƒ½æŠŠè³‡æ–™æ­£ç¢ºå°æ‡‰èµ·ä¾†ã€‚
            </div>
        </div>
    </div>

    <button class="reset-btn" onclick="resetAll()">ğŸ”„ å…¨éƒ¨é‡ç½® / å†ç·´ç¿’ä¸€æ¬¡</button>

    <footer style="text-align: center; margin-top: 30px; color: #7f8c8d; font-size: 0.9em;">
        é›»è…¦æ¦‚è«– - è³‡æ–™åº«æ•™å­¸å–®å…ƒ | Designed for Students
    </footer>
</div>

<script>
    /* --- äº’å‹•ç¤ºç¯„å€é‚è¼¯ --- */
    function demoSelect() {
        resetDemoStyle();
        // æ¨¡æ“¬ SELECT Score > 80 (Row 1 and 3)
        document.getElementById('row-1').classList.add('row-highlight');
        document.getElementById('row-3').classList.add('row-highlight');
        document.getElementById('demo-msg').innerText = "ğŸ’¡ SELECT é‹ç®—ï¼šç¯©é¸å‡ºäº†åˆ†æ•¸é«˜æ–¼ 80 åˆ†çš„ã€Œè³‡æ–™åˆ— (Rows)ã€ã€‚";
    }

    function demoProject() {
        resetDemoStyle();
        // æ¨¡æ“¬ PROJECT Name (Column 2)
        const names = document.querySelectorAll('.col-name');
        names.forEach(el => el.classList.add('col-highlight'));
        document.getElementById('demo-msg').innerText = "ğŸ’¡ PROJECT é‹ç®—ï¼šåªä¿ç•™äº†ã€Œå§“åã€é€™å€‹ã€Œæ¬„ä½ (Column)ã€ï¼Œå…¶ä»–æ¬„ä½è¢«å¿½ç•¥ã€‚";
    }

    function demoJoin() {
        resetDemoStyle();
        // æ¨¡æ“¬ JOIN æ•ˆæœï¼Œç°¡å–®é¡¯ç¤ºæ‰€æœ‰æ¬„ä½è®Šè‰²
        const table = document.getElementById('student-table');
        table.querySelectorAll('th, td').forEach(el => el.classList.add('join-highlight'));
        document.getElementById('demo-msg').innerText = "ğŸ’¡ JOIN é‹ç®—ï¼šä¾ç…§ã€Œç­ç´šä»£è™Ÿã€ï¼Œå°‡é€™å¼µè¡¨è·Ÿå¦ä¸€å¼µã€Œç­ç´šè¡¨ã€åˆä½µåœ¨ä¸€èµ·ã€‚(ç¤ºæ„)";
    }

    function resetDemoStyle() {
        const els = document.querySelectorAll('.row-highlight, .col-highlight, .join-highlight');
        els.forEach(el => {
            el.classList.remove('row-highlight');
            el.classList.remove('col-highlight');
            el.classList.remove('join-highlight');
        });
        document.getElementById('demo-msg').innerText = "";
    }

    function resetDemo() {
        resetDemoStyle();
        document.getElementById('demo-msg').innerText = "è¡¨æ ¼å·²é‚„åŸ";
    }

    /* --- æ‹–æ”¾äº’å‹•é‚è¼¯ (æ”¯æ´ PC Drag & Mobile Click) --- */
    let mobileSelectedItem = null;

    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        var el = document.getElementById(data);
        if (ev.target.classList.contains('drop-zone') || ev.target.id === 'source-zone') {
            ev.target.appendChild(el);
        } else if (ev.target.closest('.drop-zone')) {
            ev.target.closest('.drop-zone').appendChild(el); // å®¹éŒ¯ï¼šå¦‚æœä¸Ÿåˆ° h4 ä¸Š
        }
    }

    // æ‰‹æ©Ÿç‰ˆé»æ“Šç§»å‹•é‚è¼¯
    function mobileMove(el) {
        if (window.matchMedia("(hover: none)").matches || window.innerWidth < 768) {
            // å¦‚æœå·²ç¶“é¸ä¸­ï¼Œå–æ¶ˆé¸ä¸­
            if (mobileSelectedItem === el) {
                el.style.border = "none";
                mobileSelectedItem = null;
                return;
            }
            // æ¸…é™¤ä¹‹å‰çš„é¸ä¸­
            if (mobileSelectedItem) mobileSelectedItem.style.border = "none";
            
            // é¸ä¸­ç•¶å‰
            mobileSelectedItem = el;
            el.style.border = "2px solid #e74c3c"; // ç´…æ¡†æ¨™ç¤ºé¸ä¸­
        }
    }

    function mobileTarget(zone) {
        if (mobileSelectedItem) {
            zone.appendChild(mobileSelectedItem);
            mobileSelectedItem.style.border = "none";
            mobileSelectedItem = null;
        }
    }

    function checkDragAnswer() {
        const relationalZone = document.getElementById('zone-relational');
        const nonZone = document.getElementById('zone-non');
        const feedback = document.getElementById('drag-feedback');
        
        // ç°¡å–®æª¢æŸ¥å­å…ƒç´  ID
        const rIds = Array.from(relationalZone.children).map(c => c.id).filter(id => id);
        const nIds = Array.from(nonZone.children).map(c => c.id).filter(id => id);

        // æ­£è§£ï¼šRelational åŒ…å« JOIN, SELECT, PROJECT
        const correctR = rIds.includes('drag-join') && rIds.includes('drag-select') && rIds.includes('drag-project');
        const noWrongInR = !rIds.includes('drag-proceed') && !rIds.includes('drag-react');
        
        // ç¢ºèªæ˜¯å¦æ‰€æœ‰å¡ç‰‡éƒ½åˆ†é¡äº†
        const totalCards = rIds.length + nIds.length;

        if (totalCards < 5) {
            feedback.innerText = "âš ï¸ é‚„æœ‰å¡ç‰‡æ²’åˆ†é¡å–”ï¼";
            feedback.className = "highlight";
        } else if (correctR && noWrongInR) {
            feedback.innerText = "ğŸ‰ å¤ªæ£’äº†ï¼åˆ†é¡å®Œå…¨æ­£ç¢ºï¼(JOIN, SELECT, PROJECT æ˜¯é—œè¯é‹ç®—)";
            feedback.className = "correct-bg";
            feedback.style.padding = "10px";
            feedback.style.borderRadius = "5px";
        } else {
            feedback.innerText = "âŒ æœ‰åˆ†éŒ¯å–”ï¼è¨˜å¾—å£è¨£ï¼šé¸åˆ—ã€é¸æ¬„ã€åˆä½µã€‚å…¶ä»–éƒ½æ˜¯å¹²æ“¾é …ã€‚";
            feedback.className = "wrong-bg";
            feedback.style.padding = "10px";
            feedback.style.borderRadius = "5px";
        }
    }

    /* --- è¤‡é¸é¡Œä½œç­”é‚è¼¯ --- */
    function submitQuiz() {
        const checkboxes = document.querySelectorAll('input[name="option"]:checked');
        const values = Array.from(checkboxes).map(cb => cb.value);
        const feedback = document.getElementById('quiz-feedback');
        
        feedback.style.display = 'block';

        // æ­£ç¢ºç­”æ¡ˆ B, C, D
        const isCorrect = values.includes('B') && values.includes('C') && values.includes('D') 
                          && !values.includes('A') && !values.includes('E') 
                          && values.length === 3;

        if (isCorrect) {
            feedback.innerHTML = "ğŸ‰ <strong>å®Œå…¨æ­£ç¢ºï¼</strong><br>é€™ä¸‰å€‹å°±æ˜¯é—œè¯å¼è³‡æ–™åº«çš„æ ¸å¿ƒé‹ç®—ï¼šJOIN(åˆä½µ)ã€SELECT(é¸åˆ—)ã€PROJECT(é¸æ¬„)ã€‚";
            feedback.className = "correct-bg";
        } else {
            // åˆ¤æ–·å¸¸è¦‹éŒ¯èª¤
            let msg = "âŒ <strong>ç­”æ¡ˆä¸å®Œæ•´æˆ–æœ‰èª¤ï¼š</strong><br>";
            if (values.includes('A') || values.includes('E')) {
                msg += "ğŸ‘‰ PROCEED å’Œ REACT ä¸æ˜¯é—œè¯é‹ç®—åè©ã€‚<br>";
            }
            if (!values.includes('B') || !values.includes('C') || !values.includes('D')) {
                msg += "ğŸ‘‰ æ‚¨æ¼é¸äº†æŸäº›é¸é …ï¼Œè¨˜å¾—æœ‰ã€Œä¸‰å¤§ã€é‹ç®—ã€‚<br>";
            }
            if (values.length === 0) {
                msg = "âš ï¸ è«‹å…ˆå‹¾é¸ç­”æ¡ˆå†é€å‡ºã€‚";
            }
            feedback.innerHTML = msg;
            feedback.className = "wrong-bg";
        }
    }

    /* --- è§£æå€é‚è¼¯ --- */
    function toggleAnalysis(option) {
        const el = document.getElementById('analysis-' + option);
        if (el.style.display === 'none') {
            el.style.display = 'block';
        } else {
            el.style.display = 'none';
        }
    }

    /* --- é‡ç½®å…¨é  --- */
    function resetAll() {
        // é‡ç½®ç¤ºç¯„å€
        resetDemo();
        
        // é‡ç½®æ‹–æ”¾å€
        const source = document.getElementById('source-zone');
        const cards = ['drag-proceed', 'drag-join', 'drag-select', 'drag-project', 'drag-react'];
        cards.forEach(id => {
            const card = document.getElementById(id);
            if(card) source.appendChild(card);
        });
        document.getElementById('drag-feedback').innerText = "";
        document.getElementById('drag-feedback').className = "";

        // é‡ç½®æ¸¬é©—å€
        const form = document.getElementById('quiz-form');
        form.reset();
        document.getElementById('quiz-feedback').style.display = 'none';

        // é‡ç½®è§£æå€
        document.querySelectorAll('[id^="analysis-"]').forEach(el => el.style.display = 'none');
        
        // é‡ç½®é™·é˜±å¡ (æ·¡å…¥)
        document.querySelectorAll('.trap-card').forEach(el => {
            el.style.display = 'block';
            setTimeout(() => el.style.opacity = '1', 10);
        });

        // é‡ç½®æç¤º
        document.querySelectorAll('.hint-box').forEach(el => el.style.display = 'none');

        window.scrollTo(0, 0);
    }
</script>

</body>
</html>