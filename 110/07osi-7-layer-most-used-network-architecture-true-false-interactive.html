<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»è…¦æ¦‚è«–äº’å‹•æ•™å­¸ï¼šç¶²è·¯æ¶æ§‹æ˜¯éé¡Œ ç¬¬ 7 é¡Œ</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --error-color: #c0392b;
            --bg-color: #f4f6f7;
            --card-bg: #ffffff;
            --border-radius: 8px;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: #333;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        h1 { text-align: center; }

        .highlight {
            color: var(--error-color);
            font-weight: bold;
            background-color: #fff3cd;
            padding: 2px 5px;
            border-radius: 4px;
        }

        /* --- é¡Œç›®å€å¡Š --- */
        .question-box {
            background-color: #eaf2f8;
            padding: 20px;
            border-left: 5px solid var(--accent-color);
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        .question-number {
            font-weight: bold;
            color: var(--accent-color);
            display: block;
            margin-bottom: 10px;
        }

        /* --- äº’å‹•æŒ‰éˆ• (O/X) --- */
        .interaction-area {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .btn-option {
            font-size: 2em;
            width: 120px;
            height: 120px;
            border: 2px solid #ddd;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .btn-option:hover {
            transform: scale(1.05);
            background-color: #f0f0f0;
        }

        .btn-o { color: var(--success-color); }
        .btn-x { color: var(--error-color); }

        .feedback {
            display: none;
            padding: 15px;
            margin-top: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: bold;
        }

        .feedback.correct {
            background-color: #d4efdf;
            color: var(--success-color);
            border: 1px solid var(--success-color);
        }

        .feedback.wrong {
            background-color: #fadbd8;
            color: var(--error-color);
            border: 1px solid var(--error-color);
        }

        /* --- è§€å¿µèªªæ˜å€ --- */
        .concept-section {
            margin-top: 40px;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
        }

        .key-point {
            background-color: #fef9e7;
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 10px 0;
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
            border: 2px dashed #f1c40f;
        }

        /* --- è¡¨æ ¼æ¨£å¼ --- */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th, .comparison-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }

        .comparison-table th {
            background-color: var(--primary-color);
            color: white;
        }

        .comparison-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        /* --- æ‹–æ›³äº’å‹•å€ (é€šç”¨) --- */
        .drag-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
            justify-content: center;
        }

        .draggable-item {
            background-color: var(--accent-color);
            color: white;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: move;
            user-select: none;
            margin: 5px;
            display: inline-block;
        }

        .drop-zone {
            border: 2px dashed #aaa;
            border-radius: 8px;
            padding: 15px;
            min-height: 100px;
            background-color: #fafafa;
            flex: 1;
            min-width: 200px;
        }

        .drop-zone h4 {
            margin-top: 0;
            text-align: center;
            color: #555;
        }

        .drop-zone.drag-over {
            background-color: #e8f6f3;
            border-color: var(--success-color);
        }

        /* --- é™·é˜±å¡äº’å‹• --- */
        .trap-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-left: 4px solid var(--error-color);
            padding: 15px;
            width: 200px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
            position: relative;
            cursor: pointer;
            transition: opacity 0.5s;
        }

        .card-close {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 12px;
            color: #999;
        }

        .card:hover {
            transform: translateY(-2px);
        }

        /* --- è‡ªæˆ‘æª¢æ¸¬ --- */
        .quiz-item {
            margin-bottom: 15px;
            border-bottom: 1px dashed #ccc;
            padding-bottom: 10px;
        }
        
        .hint-btn {
            background-color: #95a5a6;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .hint-text {
            display: none;
            margin-top: 5px;
            color: var(--success-color);
            font-weight: bold;
        }

        /* --- é å°¾ --- */
        .footer {
            text-align: center;
            margin-top: 50px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }

        .reset-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1em;
            border-radius: 4px;
            cursor: pointer;
        }

        .reset-btn:hover {
            background-color: #1a252f;
        }

        /* RWD å°èª¿æ•´ */
        @media (max-width: 600px) {
            .btn-option { width: 80px; height: 80px; font-size: 1.5em; }
            .drag-container { flex-direction: column; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>é›»è…¦æ¦‚è«–ï¼šç¶²è·¯æ¶æ§‹ç‰¹è¨“</h1>
        <p style="text-align: center;">æ¨™æº–æ¨¡å‹ vs å¯¦éš›æ‡‰ç”¨ï¼ˆOSI vs TCP/IPï¼‰</p>
    </header>

    <!-- 1. é¡Œç›®å€ -->
    <section class="question-box">
        <span class="question-number">ã€ç¬¬ 7 é¡Œã€‘æ˜¯éé¡Œ</span>
        <p>OSI ä¸ƒå±¤çš„ç¶²è·¯é€šè¨Šæ¨™æº–ï¼Œæ˜¯ç›®å‰æœ€ç‚ºå»£æ³›ä½¿ç”¨çš„é›»è…¦ç¶²è·¯æ¶æ§‹ã€‚</p>
        <p>(A) O <br> (B) X</p>
    </section>

    <!-- 2. O/X äº’å‹•å€ -->
    <section>
        <div class="interaction-area">
            <button class="btn-option btn-o" onclick="checkAnswer('O')">O</button>
            <button class="btn-option btn-x" onclick="checkAnswer('X')">X</button>
        </div>
        <div id="answerFeedback" class="feedback"></div>
    </section>

    <!-- 3. æ ¸å¿ƒè§€å¿µèªªæ˜å€ -->
    <section class="concept-section">
        <h2>ğŸ’¡ è§€å¿µè§£æ</h2>
        <p>é€™é¡Œçš„é—œéµåœ¨æ–¼å€åˆ†<b>ã€Œç†è«–æ¨™æº–ã€</b>èˆ‡<b>ã€Œå¯¦å‹™æ‡‰ç”¨ã€</b>ã€‚</p>
        
        <ul>
            <li><b>OSI ä¸ƒå±¤æ¨¡å‹</b>ï¼šç”±åœ‹éš›æ¨™æº–åŒ–çµ„ç¹”ï¼ˆISOï¼‰åˆ¶å®šã€‚å®ƒæ˜¯ä¸€å€‹å®Œç¾çš„<b>ç†è«–æ¨¡å‹</b>ï¼Œä¸»è¦ç”¨æ–¼æ•™å­¸ã€å®šç¾©é€šè¨Šè¦ç¯„ã€ä»¥åŠé‡æ¸…å•é¡Œï¼ˆDebugï¼‰ã€‚ä½†åœ¨å¯¦ä½œä¸Šéæ–¼è¤‡é›œã€‚</li>
            <li><b>TCP/IP æ¶æ§‹</b>ï¼šé€™æ˜¯ç¶²éš›ç¶²è·¯ï¼ˆInternetï¼‰å¯¦éš›é‹ä½œæ‰€æ¡ç”¨çš„<b>å¯¦å‹™æ¶æ§‹</b>ã€‚å› ç‚ºå®ƒç™¼å±•å¾—æ—©ï¼Œä¸”å¯¦ç”¨æ€§å¼·ï¼Œæˆç‚ºäº†å…¨çƒç¶²è·¯é€šè¨Šçš„äº‹å¯¦æ¨™æº–ï¼ˆDe facto standardï¼‰ã€‚</li>
        </ul>

        <div class="key-point">
            ğŸ‘‰ ä¸€å¥è©±è¨˜æ†¶ï¼šã€ŒOSI ç”¨ä¾†å­¸ï¼›TCP/IP ç”¨ä¾†è·‘ç¶²è·¯ã€
        </div>

        <h3>ğŸ“Š æ¶æ§‹å°ç…§è¡¨</h3>
        <p>ç¾ä»£ç¶²è·¯å·¥ç¨‹ä¸»è¦ä¾å¾ª TCP/IPï¼Œä½†æˆ‘å€‘æœƒç”¨ OSI çš„é‚è¼¯å»ç†è§£å®ƒã€‚</p>
        
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>OSI æ¨¡å‹ (7 å±¤)</th>
                    <th>TCP/IP æ¶æ§‹ (4 æˆ– 5 å±¤)</th>
                    <th>åŠŸèƒ½é—œéµå­—</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>æ‡‰ç”¨å±¤<br>å±•ç¤ºå±¤<br>æœƒè­°å±¤</td>
                    <td><b>æ‡‰ç”¨å±¤ (Application)</b></td>
                    <td>HTTP, Email, æª”æ¡ˆå‚³è¼¸</td>
                </tr>
                <tr>
                    <td>å‚³è¼¸å±¤</td>
                    <td><b>å‚³è¼¸å±¤ (Transport)</b></td>
                    <td>TCP (å¯é ), UDP (å¿«é€Ÿ)</td>
                </tr>
                <tr>
                    <td>ç¶²è·¯å±¤</td>
                    <td><b>ç¶²éš›ç¶²è·¯å±¤ (Internet)</b></td>
                    <td>IP ä½å€, è·¯ç”±é¸æ“‡</td>
                </tr>
                <tr>
                    <td>è³‡æ–™é€£çµå±¤<br>å¯¦é«”å±¤</td>
                    <td><b>ç¶²è·¯ä»‹é¢å±¤ (Network Interface)</b></td>
                    <td>ç¶²è·¯å¡, ç¶²è·¯ç·š, Wi-Fi</td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- 4. äº’å‹•ç·´ç¿’ Bï¼šOSI æ­¸é¡ -->
    <section class="concept-section">
        <h2>ğŸ› ï¸ äº’å‹•ç·´ç¿’ï¼šOSI ä¸ƒå±¤æ­¸ä½</h2>
        <p>è«‹å°‡ä¸‹æ–¹çš„ <b>OSI å±¤ç´š</b> æ‹–æ›³åˆ°å³å´å°æ‡‰çš„ <b>TCP/IP åˆ†é¡</b> ä¸­ï¼š</p>
        
        <div class="drag-container">
            <!-- ä¾†æºï¼šOSI å±¤ç´š -->
            <div id="osi-pool" class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                <h4>OSI å±¤ç´šæ±  (è«‹æ‹–æ›³)</h4>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="osi-app">æ‡‰ç”¨å±¤</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="osi-pres">å±•ç¤ºå±¤</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="osi-sess">æœƒè­°å±¤</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="osi-trans">å‚³è¼¸å±¤</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="osi-net">ç¶²è·¯å±¤</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="osi-data">è³‡æ–™é€£çµå±¤</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="osi-phy">å¯¦é«”å±¤</div>
            </div>

            <!-- ç›®æ¨™ï¼šTCP/IP å°æ‡‰ -->
            <div style="flex: 2; display:flex; flex-direction:column; gap:10px;">
                <div class="drop-zone" id="tcp-app" ondrop="drop(event)" ondragover="allowDrop(event)" data-target="application">
                    <h4>TCP/IP æ‡‰ç”¨å±¤ (åŒ…å« OSI ä¸Šä¸‰å±¤)</h4>
                </div>
                <div class="drop-zone" id="tcp-trans" ondrop="drop(event)" ondragover="allowDrop(event)" data-target="transport">
                    <h4>TCP/IP å‚³è¼¸å±¤</h4>
                </div>
                <div class="drop-zone" id="tcp-net" ondrop="drop(event)" ondragover="allowDrop(event)" data-target="internet">
                    <h4>TCP/IP ç¶²éš›ç¶²è·¯å±¤</h4>
                </div>
                <div class="drop-zone" id="tcp-link" ondrop="drop(event)" ondragover="allowDrop(event)" data-target="link">
                    <h4>TCP/IP ç¶²è·¯ä»‹é¢å±¤</h4>
                </div>
            </div>
        </div>
        <button onclick="checkMapping()" class="hint-btn" style="margin-top:10px; background-color:var(--accent-color);">æª¢æŸ¥é…å°ç­”æ¡ˆ</button>
        <p id="mapping-feedback" style="font-weight:bold; margin-top:5px;"></p>
    </section>

    <!-- 5. äº’å‹•ç·´ç¿’ Cï¼šå”å®šåˆ†é¡ -->
    <section class="concept-section">
        <h2>ğŸ”Œ äº’å‹•ç·´ç¿’ï¼šå”å®šæ˜¯å“ªä¸€å±¤ï¼Ÿ</h2>
        <p>è«‹å°‡ä¸‹åˆ— <b>é€šè¨Šå”å®š</b> æ‹–æ›³åˆ°æ­£ç¢ºçš„åŠŸèƒ½å±¤ç´šï¼š</p>
        
        <div class="drag-container">
            <div id="protocol-pool" class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                <h4>å¾…åˆ†é¡å”å®š</h4>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="proto-http" style="background:#e67e22;">HTTP (ç¶²é )</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="proto-tcp" style="background:#e67e22;">TCP (å¯é å‚³è¼¸)</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="proto-ip" style="background:#e67e22;">IP (å®šå€)</div>
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" id="proto-eth" style="background:#e67e22;">Ethernet (ä¹™å¤ªç¶²)</div>
            </div>

            <div style="flex: 2;">
                <div class="drop-zone" id="layer-app" ondrop="drop(event)" ondragover="allowDrop(event)" data-accept="proto-http">
                    <h4>æ‡‰ç”¨å±¤ (è³‡æ–™å…§å®¹)</h4>
                </div>
                <div class="drop-zone" id="layer-trans" ondrop="drop(event)" ondragover="allowDrop(event)" data-accept="proto-tcp">
                    <h4>å‚³è¼¸å±¤ (åŸ è™Ÿ Port)</h4>
                </div>
                <div class="drop-zone" id="layer-net" ondrop="drop(event)" ondragover="allowDrop(event)" data-accept="proto-ip">
                    <h4>ç¶²éš›ç¶²è·¯å±¤ (IP ä½å€)</h4>
                </div>
                <div class="drop-zone" id="layer-link" ondrop="drop(event)" ondragover="allowDrop(event)" data-accept="proto-eth">
                    <h4>ç¶²è·¯ä»‹é¢å±¤ (MAC/ç¡¬é«”)</h4>
                </div>
            </div>
        </div>
        <button onclick="checkProtocol()" class="hint-btn" style="margin-top:10px; background-color:#e67e22;">æª¢æŸ¥å”å®šç­”æ¡ˆ</button>
        <p id="protocol-feedback" style="font-weight:bold; margin-top:5px;"></p>
    </section>

    <!-- 6. é™·é˜±å¡å€ -->
    <section class="concept-section">
        <h2>âš ï¸ è€ƒè©¦å¸¸è¦‹é™·é˜±å¡ (é»æ“Šå¡ç‰‡ä»¥ç ´è§£)</h2>
        <div class="trap-cards">
            <div class="card" onclick="dismissCard(this)">
                <span class="card-close">é»æˆ‘ç ´è§£</span>
                <h3>é™·é˜± 1</h3>
                <p>ä»¥ç‚º OSI åˆ† 7 å±¤æ¯”è¼ƒè©³ç´°ï¼Œæ‰€ä»¥å¤§å®¶éƒ½åœ¨ç”¨ OSIï¼Ÿ</p>
                <p style="color:red; font-weight:bold;">éŒ¯ï¼å¤ªè¤‡é›œåè€Œæ²’äººç”¨ã€‚</p>
            </div>
            <div class="card" onclick="dismissCard(this)">
                <span class="card-close">é»æˆ‘ç ´è§£</span>
                <h3>é™·é˜± 2</h3>
                <p>çœ‹åˆ°ã€Œæ¨™æº–ã€äºŒå­—å°±é¸ OSIï¼Ÿ</p>
                <p style="color:red; font-weight:bold;">éŒ¯ï¼é¡Œç›®å•çš„æ˜¯ã€Œæœ€å»£æ³›ä½¿ç”¨ã€ã€‚</p>
            </div>
            <div class="card" onclick="dismissCard(this)">
                <span class="card-close">é»æˆ‘ç ´è§£</span>
                <h3>é™·é˜± 3</h3>
                <p>TCP/IP åªæœ‰ 4 å±¤ï¼ŒåŠŸèƒ½æ¯”è¼ƒå°‘ï¼Ÿ</p>
                <p style="color:red; font-weight:bold;">éŒ¯ï¼åŠŸèƒ½ä¸€æ¨£å¼·å¤§ï¼Œåªæ˜¯åˆ†å±¤æ¯”è¼ƒå¯¦å‹™ã€‚</p>
            </div>
        </div>
    </section>

    <!-- 7. è‡ªæˆ‘æª¢æ¸¬ -->
    <section class="concept-section">
        <h2>ğŸ“ è‡ªæˆ‘æª¢æ¸¬</h2>
        
        <div class="quiz-item">
            <p><b>å•é¡Œ 1ï¼š</b>å¦‚æœç¾åœ¨ç¶²è·¯éƒ½ç”¨ TCP/IPï¼Œé‚£ç‚ºä»€éº¼æˆ‘å€‘é‚„è¦å­¸ OSI ä¸ƒå±¤ï¼Ÿ</p>
            <button class="hint-btn" onclick="toggleHint('hint1')">é¡¯ç¤ºæç¤º</button>
            <p id="hint1" class="hint-text">æç¤ºï¼šOSI æ˜¯ä¸€å€‹å¾ˆå¥½çš„ã€Œåƒè€ƒæ¨¡å‹ã€èˆ‡ã€Œå…±åŒèªè¨€ã€ï¼Œæ–¹ä¾¿å·¥ç¨‹å¸«æºé€šèˆ‡é™¤éŒ¯ï¼ˆä¾‹å¦‚ï¼šé€™æ˜¯ Layer 2 çš„å•é¡Œé‚„æ˜¯ Layer 3 çš„å•é¡Œï¼Ÿï¼‰ã€‚</p>
        </div>

        <div class="quiz-item">
            <p><b>å•é¡Œ 2ï¼š</b>é¡Œç›®è‹¥å‡ºç¾ã€Œå¯¦å‹™ä¸Šã€ã€ã€Œç¶²éš›ç¶²è·¯åŸºçŸ³ã€ç­‰é—œéµå­—ï¼Œç­”æ¡ˆé€šå¸¸æ˜¯ï¼Ÿ</p>
            <button class="hint-btn" onclick="toggleHint('hint2')">é¡¯ç¤ºæç¤º</button>
            <p id="hint2" class="hint-text">æç¤ºï¼šTCP/IP æ¶æ§‹ã€‚</p>
        </div>
    </section>

    <footer class="footer">
        <button class="reset-btn" onclick="resetPage()">ğŸ”„ é‡ç½®æ‰€æœ‰ç·´ç¿’</button>
        <p style="font-size: 0.8em; color: #888;">é›»è…¦æ¦‚è«–äº’å‹•è¬›ç¾© Â© 2024</p>
    </footer>
</div>

<script>
    /* --- 1. æ˜¯éé¡Œåˆ¤æ–·é‚è¼¯ --- */
    function checkAnswer(userChoice) {
        const feedbackEl = document.getElementById('answerFeedback');
        feedbackEl.style.display = 'block';
        feedbackEl.className = 'feedback'; // é‡ç½® class

        if (userChoice === 'X') {
            feedbackEl.classList.add('correct');
            feedbackEl.innerHTML = `
                âœ… <b>ç­”å°äº†ï¼(B) X</b><br>
                OSI æ˜¯ã€Œç†è«–åƒè€ƒæ¨¡å‹ã€ï¼Œé›–ç„¶æ¨™æº–å¾ˆå®Œæ•´ï¼Œä½†éæ–¼è¤‡é›œã€‚<br>
                ç›®å‰ä¸–ç•Œä¸Šæœ€å»£æ³›ä½¿ç”¨çš„å¯¦å‹™æ¶æ§‹æ˜¯ <b>TCP/IP</b>ã€‚
            `;
        } else {
            feedbackEl.classList.add('wrong');
            feedbackEl.innerHTML = `
                âŒ <b>ç­”éŒ¯äº†ï¼</b><br>
                é¡Œç›®å•çš„æ˜¯ã€Œæœ€å»£æ³›ä½¿ç”¨ã€çš„æ¶æ§‹ã€‚<br>
                OSI æ˜¯æ•™å­¸ç”¨çš„ç†è«–æ¨¡å‹ï¼ŒçœŸæ­£é‹ä½œç¶²éš›ç¶²è·¯çš„æ˜¯ <b>TCP/IP</b> æ¶æ§‹ã€‚
            `;
        }
    }

    /* --- 2. æ‹–æ›³åŠŸèƒ½ (é€šç”¨) --- */
    function allowDrop(ev) {
        ev.preventDefault();
        ev.currentTarget.classList.add('drag-over');
    }

    // ç•¶é›¢é–‹æ‹–æ›³å€æ™‚ç§»é™¤æ¨£å¼
    document.addEventListener('dragenter', function(e) {
        if (e.target.classList.contains('drop-zone')) {
            e.target.classList.add('drag-over');
        }
    });

    document.addEventListener('dragleave', function(e) {
        if (e.target.classList.contains('drop-zone')) {
            e.target.classList.remove('drag-over');
        }
    });

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        ev.currentTarget.classList.remove('drag-over');
        var data = ev.dataTransfer.getData("text");
        
        // ç¢ºä¿ä¸æœƒæŠŠå®¹å™¨æ‹–é€²å®¹å™¨
        if(ev.target.classList.contains('drop-zone')) {
            ev.target.appendChild(document.getElementById(data));
        }
    }

    /* --- 3. æª¢æŸ¥ OSI é…å° --- */
    function checkMapping() {
        const answers = {
            'tcp-app': ['osi-app', 'osi-pres', 'osi-sess'], // æ‡‰ç”¨å±¤åŒ…å« OSI ä¸Šä¸‰å±¤
            'tcp-trans': ['osi-trans'],
            'tcp-net': ['osi-net'],
            'tcp-link': ['osi-data', 'osi-phy'] // ç¶²è·¯ä»‹é¢å±¤åŒ…å« OSI ä¸‹å…©å±¤
        };
        
        let score = 0;
        let total = 7;
        let message = "";

        for (let tcpId in answers) {
            const container = document.getElementById(tcpId);
            const children = container.querySelectorAll('.draggable-item');
            
            children.forEach(child => {
                if (answers[tcpId].includes(child.id)) {
                    score++;
                    child.style.backgroundColor = "#27ae60"; // æ­£ç¢ºè®Šç¶ 
                } else {
                    child.style.backgroundColor = "#c0392b"; // éŒ¯èª¤è®Šç´…
                }
            });
        }

        const feedback = document.getElementById('mapping-feedback');
        if (score === total) {
            feedback.innerHTML = "ğŸ‰ å…¨å°ï¼ä½ å·²ç¶“æŒæ¡äº† OSI èˆ‡ TCP/IP çš„å°æ‡‰é—œä¿‚ï¼";
            feedback.style.color = "green";
        } else {
            feedback.innerHTML = `âš ï¸ åªæœ‰ ${score} å€‹æ­£ç¢ºã€‚å†è©¦è©¦çœ‹ï¼æç¤ºï¼šOSI ä¸Šä¸‰å±¤åˆä½µï¼Œä¸‹å…©å±¤åˆä½µã€‚`;
            feedback.style.color = "red";
        }
    }

    /* --- 4. æª¢æŸ¥å”å®šåˆ†é¡ --- */
    function checkProtocol() {
        let correctCount = 0;
        const zones = ['layer-app', 'layer-trans', 'layer-net', 'layer-link'];
        
        zones.forEach(zoneId => {
            const zone = document.getElementById(zoneId);
            const correctId = zone.getAttribute('data-accept');
            const items = zone.querySelectorAll('.draggable-item');
            
            items.forEach(item => {
                if (item.id === correctId) {
                    item.style.backgroundColor = "#27ae60";
                    correctCount++;
                } else {
                    item.style.backgroundColor = "#c0392b";
                }
            });
        });

        const feedback = document.getElementById('protocol-feedback');
        if (correctCount === 4) {
            feedback.innerHTML = "ğŸ‰ å¤ªæ£’äº†ï¼å”å®šè§€å¿µå®Œå…¨æ­£ç¢ºï¼";
            feedback.style.color = "green";
        } else {
            feedback.innerHTML = "âš ï¸ é‚„æœ‰åˆ†éŒ¯çš„å”å®šå–”ï¼Œè«‹åƒè€ƒå‰é¢è¡¨æ ¼å†è©¦ä¸€æ¬¡ã€‚";
            feedback.style.color = "red";
        }
    }

    /* --- 5. é™·é˜±å¡é‚è¼¯ --- */
    function dismissCard(element) {
        element.style.opacity = '0';
        setTimeout(() => {
            element.style.display = 'none';
        }, 500);
    }

    /* --- 6. è‡ªæˆ‘æª¢æ¸¬æç¤º --- */
    function toggleHint(id) {
        const hint = document.getElementById(id);
        if (hint.style.display === 'block') {
            hint.style.display = 'none';
        } else {
            hint.style.display = 'block';
        }
    }

    /* --- 7. é‡ç½®åŠŸèƒ½ --- */
    function resetPage() {
        location.reload();
    }
</script>

</body>
</html>