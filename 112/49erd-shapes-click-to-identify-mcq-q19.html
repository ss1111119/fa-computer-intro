<!-- erd-shapes-click-to-identify-mcq-q19.html -->
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERD å½¢ç‹€èªè¨€å¤§è§£å¯† - é«˜ä¸­é›»è…¦æ¦‚è«–äº’å‹•æ•™å­¸</title>
    <style>
        :root {
            --primary-color: #4361ee; /* è£œç¿’ç­å°ˆæ¥­è— */
            --accent-color: #f72585; /* é‡é»å¼·èª¿ç²‰ */
            --success-color: #4cc9f0; /* æ­£ç¢ºç¶ /è— */
            --warning-color: #fca311; /* æç¤ºæ©˜ */
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-main: #2b2d42;
            --text-light: #6c757d;
        }

        * {
            box-sizing: border-box;
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--text-light);
            font-size: 1.1em;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* å¡ç‰‡é€šç”¨æ¨£å¼ */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-left: 5px solid var(--primary-color);
            transition: transform 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
        }

        .card h2 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            font-size: 1.4em;
        }

        /* é¡Œç›®å€å¡Š */
        .question-text {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .options label {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .options label:hover {
            background: #e9ecef;
        }

        input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn-group {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.2s;
        }

        .btn-primary { background: var(--primary-color); color: white; }
        .btn-primary:hover { background: #3046b5; }
        
        .btn-secondary { background: var(--text-light); color: white; }
        .btn-info { background: var(--success-color); color: white; }
        .btn-outline { background: transparent; border: 2px solid var(--primary-color); color: var(--primary-color); }
        .btn-danger { background: var(--accent-color); color: white; }

        /* å›é¥‹å€å¡Š */
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-weight: bold;
        }
        .feedback.correct { background: #d1e7dd; color: #0f5132; display: block; }
        .feedback.wrong { background: #f8d7da; color: #842029; display: block; }

        /* é‡é»å¼·èª¿å¡ */
        .highlight-text {
            color: var(--accent-color);
            font-weight: bold;
        }

        /* åè©é€ŸæŸ¥ */
        .glossary-item {
            border-bottom: 1px solid #eee;
        }
        .glossary-title {
            padding: 10px;
            cursor: pointer;
            background: #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .glossary-title:hover { background: #e2e6ea; }
        .glossary-content {
            padding: 10px;
            display: none;
            background: #fff;
            color: #555;
            font-size: 0.95em;
        }
        .glossary-content.show { display: block; }

        /* æ ¸å¿ƒäº’å‹• SVG å€ */
        .shapes-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .shape-wrapper {
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
        }

        .shape-wrapper:hover {
            transform: scale(1.1);
        }

        .shape-wrapper svg {
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.1));
            fill: white;
            stroke: #333;
            stroke-width: 2;
        }

        /* é¸ä¸­ç‹€æ…‹ */
        .shape-wrapper.active svg {
            stroke: var(--accent-color);
            stroke-width: 4;
            filter: drop-shadow(0 0 8px rgba(247, 37, 133, 0.5));
        }

        .interaction-panel {
            background: #eef2f7;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px dashed var(--primary-color);
        }

        .interaction-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        select {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 1em;
        }

        /* è§£æå¡æ¨£å¼ */
        .analysis-item {
            margin-bottom: 10px;
            padding-left: 10px;
            border-left: 3px solid #ddd;
        }
        .analysis-item.correct-opt { border-left-color: var(--success-color); }
        .analysis-item.wrong-opt { border-left-color: var(--text-light); opacity: 0.8; }

        /* å»¶ä¼¸ç·´ç¿’ */
        .quiz-item {
            background: #fff;
            padding: 10px;
            border-bottom: 1px solid #eee;
            margin-bottom: 10px;
        }
        .quiz-feedback {
            margin-top: 5px;
            font-size: 0.9em;
            font-style: italic;
        }

    </style>
</head>
<body>

    <header>
        <h1>è³‡æ–™åº«æ¦‚è«– (ERD) å½¢ç‹€ç‰¹è¨“ç­</h1>
        <div class="subtitle">é«˜ä¸­é›»è…¦æ¦‚è«– - ç¬¦è™Ÿèªè¨€ç¯‡ (Q19)</div>
    </header>

    <div class="container">

        <!-- 1. åè©é€ŸæŸ¥ (å¯å±•é–‹) -->
        <div class="card" style="border-left-color: var(--warning-color);">
            <h2 style="cursor: pointer;" onclick="toggleAllGlossary()">ğŸ“– ERD åè©é€ŸæŸ¥ (é»æˆ‘å±•é–‹)</h2>
            <div id="glossary-area">
                <div class="glossary-item">
                    <div class="glossary-title" onclick="toggleGlossary(this)">å¯¦é«” (Entity) <span>â–¼</span></div>
                    <div class="glossary-content">ç¾å¯¦ä¸–ç•Œä¸­å¯æ˜ç¢ºè¾¨è­˜çš„ç‰©ä»¶ï¼Œå¦‚ï¼šå­¸ç”Ÿã€è¨‚å–®ã€æ›¸æœ¬ã€‚</div>
                </div>
                <div class="glossary-item">
                    <div class="glossary-title" onclick="toggleGlossary(this)">é—œä¿‚ (Relationship) <span>â–¼</span></div>
                    <div class="glossary-content">å¯¦é«”èˆ‡å¯¦é«”ä¹‹é–“çš„äº’å‹•æˆ–é—œè¯ï¼Œå¦‚ï¼šå­¸ç”Ÿã€Œé¸ä¿®ã€èª²ç¨‹ã€‚</div>
                </div>
                <div class="glossary-item">
                    <div class="glossary-title" onclick="toggleGlossary(this)">å±¬æ€§ (Attribute) <span>â–¼</span></div>
                    <div class="glossary-content">æè¿°å¯¦é«”ç‰¹å¾µçš„è©³ç´°è³‡æ–™ï¼Œå¦‚ï¼šå­¸ç”Ÿçš„ã€Œå§“åã€ã€æ›¸æœ¬çš„ã€Œåƒ¹æ ¼ã€ã€‚</div>
                </div>
                <div class="glossary-item">
                    <div class="glossary-title" onclick="toggleGlossary(this)">å¯¦é«”é—œä¿‚åœ– (ERD) <span>â–¼</span></div>
                    <div class="glossary-content">Entity-Relationship Diagramï¼Œç”¨ä¾†è¦åŠƒè³‡æ–™åº«çµæ§‹çš„è—åœ–ã€‚</div>
                </div>
                <div class="glossary-item">
                    <div class="glossary-title" onclick="toggleGlossary(this)">è¡¨ç¤ºæ³• (Notation) <span>â–¼</span></div>
                    <div class="glossary-content">é€™æ˜¯ä¸€å¥—ã€Œç´„å®šã€ï¼Œå°±åƒç´…ç¶ ç‡ˆä¸€æ¨£ï¼Œå¤§å®¶è¬›å¥½ä»€éº¼å½¢ç‹€ä»£è¡¨ä»€éº¼æ„æ€ã€‚</div>
                </div>
            </div>
        </div>

        <!-- 2. é¡Œç›®å¡ -->
        <div class="card" id="q19-card">
            <h2>ğŸ“ èª²å ‚éš¨å ‚è€ƒ (Q19)</h2>
            <div class="question-text">
                19. æè¿°è³‡æ–™å¼çš„å¯¦é«”é—œä¿‚åœ– (Entity Relationship Diagram) ä¸­ï¼Œç”¨åˆ°ä¸‹åˆ—å“ªäº›åœ–å½¢? (è¤‡é¸)
            </div>
            <div class="options" id="q19-options">
                <label><input type="checkbox" name="q19" value="A"> (A) æ­£æ–¹å½¢ (Square)</label>
                <label><input type="checkbox" name="q19" value="B"> (B) è±å½¢ (Diamond)</label>
                <label><input type="checkbox" name="q19" value="C"> (æ©¢åœ“å½¢ (Oval)</label>
                <label><input type="checkbox" name="q19" value="D"> (D) æ¨¹ç‹€å½¢ (Tree)</label>
                <label><input type="checkbox" name="q19" value="E"> (E) é•·æ–¹å½¢ (Rectangle)</label>
            </div>
            
            <div id="q19-feedback" class="feedback"></div>

            <div class="btn-group">
                <button class="btn-primary" onclick="submitQ19()">é€å‡ºç­”æ¡ˆ</button>
                <button class="btn-secondary" onclick="resetQ19()">é‡ä½œä¸€æ¬¡</button>
                <button class="btn-info" onclick="showSolution()">é¡¯ç¤ºè©³ç´°è§£æ</button>
            </div>
        </div>

        <!-- 3. ç¬¦è™Ÿç‚ºä»€éº¼é•·é€™æ¨£å¡ (æ•™å­¸) -->
        <div class="card">
            <h2>ğŸ’¡ è€å¸«çš„ç›´è¦ºè¨˜æ†¶æ³•</h2>
            <p>åŒå­¸ä¸è¦æ­»èƒŒï¼ŒERD æ˜¯ä¸€ç¨®ã€Œåœ–å½¢èªè¨€ã€ï¼Œè¨­è¨ˆè€…ç•¶åˆæ˜¯æœ‰é‚è¼¯çš„ï¼š</p>
            <ul>
                <li><strong>é•·æ–¹å½¢ (Rectangle)</strong>ï¼šåƒä¸€å€‹ç®±å­ã€ç›’å­ã€‚æ˜¯ç”¨ä¾†<b>è£æ±è¥¿</b>çš„ï¼Œæ‰€ä»¥ä»£è¡¨ <span class="highlight-text">å¯¦é«” (Entity)</span>ã€‚</li>
                <li><strong>è±å½¢ (Diamond)</strong>ï¼šçœ‹èµ·ä¾†åƒä¸€å€‹é€£çµé»ã€è½‰é‹ç«™ã€‚æ˜¯ç”¨ä¾†<b>é€£æ¥</b>å…©å€‹ç®±å­çš„ï¼Œæ‰€ä»¥ä»£è¡¨ <span class="highlight-text">é—œä¿‚ (Relationship)</span>ã€‚</li>
                <li><strong>æ©¢åœ“å½¢ (Oval)</strong>ï¼šåƒæ˜¯ä¸€å¼µå°è²¼ç´™æˆ–æ¨™ç±¤ã€‚æ˜¯è²¼åœ¨ç®±å­æ—é‚Šåšèªªæ˜çš„ï¼Œæ‰€ä»¥ä»£è¡¨ <span class="highlight-text">å±¬æ€§ (Attribute)</span>ã€‚</li>
            </ul>
        </div>

        <!-- 4. å¯é»åœ–è¾¨è­˜å¡ (æ ¸å¿ƒäº’å‹•) -->
        <div class="card">
            <h2>ğŸ‘† é»é»çœ‹ï¼šé€™æ˜¯ä»€éº¼ç¬¦è™Ÿï¼Ÿ</h2>
            <p>è«‹é»æ“Šä¸‹æ–¹çš„åœ–å½¢ï¼Œå‘Šè¨´æˆ‘å®ƒåœ¨æ¨™æº– ERD ä¸­ä»£è¡¨ä»€éº¼ï¼Ÿ</p>
            
            <div class="btn-group" style="margin-bottom: 15px;">
                <button class="btn-outline" onclick="randomSelectShape()">ğŸ² éš¨æ©Ÿå‡ºä¸€é¡Œ</button>
                <span style="align-self: center; margin-left: auto; font-weight: bold;">å¾—åˆ†ï¼š<span id="score-val">0</span></span>
            </div>

            <!-- SVG ç¹ªåœ–å€ -->
            <div class="shapes-container">
                <!-- é•·æ–¹å½¢ -->
                <div class="shape-wrapper" id="shape-rect" onclick="selectShape('rect')">
                    <svg width="100" height="80" viewBox="0 0 120 80">
                        <rect x="10" y="20" width="100" height="40" rx="0" />
                    </svg>
                    <div style="font-size: 12px; margin-top: 5px;">åœ–å½¢ 1</div>
                </div>

                <!-- è±å½¢ -->
                <div class="shape-wrapper" id="shape-diamond" onclick="selectShape('diamond')">
                    <svg width="100" height="80" viewBox="0 0 120 80">
                        <polygon points="60,10 110,40 60,70 10,40" />
                    </svg>
                    <div style="font-size: 12px; margin-top: 5px;">åœ–å½¢ 2</div>
                </div>

                <!-- æ©¢åœ“å½¢ -->
                <div class="shape-wrapper" id="shape-oval" onclick="selectShape('oval')">
                    <svg width="100" height="80" viewBox="0 0 120 80">
                        <ellipse cx="60" cy="40" rx="50" ry="25" />
                    </svg>
                    <div style="font-size: 12px; margin-top: 5px;">åœ–å½¢ 3</div>
                </div>

                <!-- æ­£æ–¹å½¢ (å¹²æ“¾) -->
                <div class="shape-wrapper" id="shape-square" onclick="selectShape('square')">
                    <svg width="80" height="80" viewBox="0 0 100 100">
                        <rect x="20" y="20" width="60" height="60" />
                    </svg>
                    <div style="font-size: 12px; margin-top: 5px;">åœ–å½¢ 4</div>
                </div>

                <!-- æ¨¹ç‹€åœ– (å¹²æ“¾) -->
                <div class="shape-wrapper" id="shape-tree" onclick="selectShape('tree')">
                    <svg width="100" height="80" viewBox="0 0 120 80">
                        <!-- Root -->
                        <circle cx="60" cy="15" r="5" fill="black"/>
                        <!-- Lines -->
                        <line x1="60" y1="15" x2="40" y2="45" stroke="black" stroke-width="2"/>
                        <line x1="60" y1="15" x2="80" y2="45" stroke="black" stroke-width="2"/>
                        <!-- Children -->
                        <circle cx="40" cy="45" r="5" fill="black"/>
                        <circle cx="80" cy="45" r="5" fill="black"/>
                        <!-- More Lines -->
                        <line x1="40" y1="45" x2="30" y2="70" stroke="black" stroke-width="2"/>
                        <line x1="40" y1="45" x2="50" y2="70" stroke="black" stroke-width="2"/>
                    </svg>
                    <div style="font-size: 12px; margin-top: 5px;">åœ–å½¢ 5</div>
                </div>
            </div>

            <!-- äº’å‹•æ§åˆ¶é¢æ¿ -->
            <div class="interaction-panel" id="interaction-area" style="display:none;">
                <p id="selected-msg" style="margin: 0 0 10px 0; font-weight: bold; color: var(--primary-color);">è«‹é¸æ“‡ä¸€å€‹åœ–å½¢...</p>
                <div class="interaction-controls">
                    <label>é€™æ˜¯ä»€éº¼ï¼Ÿ</label>
                    <select id="shape-guess">
                        <option value="">-- è«‹é¸æ“‡ --</option>
                        <option value="entity">å¯¦é«” (Entity)</option>
                        <option value="relationship">é—œä¿‚ (Relationship)</option>
                        <option value="attribute">å±¬æ€§ (Attribute)</option>
                        <option value="distractor">ä¸æ˜¯ ERD æ ¸å¿ƒç¬¦è™Ÿ (å¹²æ“¾é …)</option>
                    </select>
                    <button class="btn-primary" onclick="checkShapeAnswer()">åˆ¤å®š</button>
                </div>
                <div id="shape-feedback" class="feedback"></div>
            </div>
        </div>

        <!-- 5. è§£æå¡ (é è¨­éš±è—ï¼Œé»æ“Šé¡¯ç¤ºå¾Œå±•é–‹) -->
        <div class="card" id="solution-card" style="display: none; border-left-color: var(--success-color);">
            <h2>ğŸ§ é¡Œç›®è©³ç´°è§£æ</h2>
            
            <div class="analysis-item wrong-opt">
                <strong>(A) æ­£æ–¹å½¢ï¼š</strong><span style="color:red">éŒ¯èª¤</span>ã€‚æ­£æ–¹å½¢ä¸æ˜¯æ¨™æº– ERD ç¬¦è™Ÿã€‚å®ƒå¸¸è¢«æ‹¿ä¾†è·Ÿã€Œé•·æ–¹å½¢ã€æ··æ·†ï¼Œæ˜¯ä¸€å€‹å…¸å‹çš„å¹²æ“¾é¸é …ã€‚
            </div>
            
            <div class="analysis-item correct-opt">
                <strong>(B) è±å½¢ï¼š</strong><span style="color:green">æ­£ç¢º</span>ã€‚é€™å°±æ˜¯ ERD çš„æ ¸å¿ƒï¼ç”¨ä¾†è¡¨ç¤ºå¯¦é«”èˆ‡å¯¦é«”ä¹‹é–“çš„äº’å‹•ã€Œé—œä¿‚ã€ã€‚
            </div>

            <div class="analysis-item correct-opt">
                <strong>(C) æ©¢åœ“å½¢ï¼š</strong><span style="color:green">æ­£ç¢º</span>ã€‚ç”¨ä¾†å­˜æ”¾è³‡æ–™çš„ç´°ç¯€ï¼Œä¹Ÿå°±æ˜¯ã€Œå±¬æ€§ã€ã€‚
            </div>

            <div class="analysis-item wrong-opt">
                <strong>(D) æ¨¹ç‹€å½¢ï¼š</strong><span style="color:red">éŒ¯èª¤</span>ã€‚æ¨¹ç‹€çµæ§‹å¸¸è¦‹æ–¼è³‡æ–™çµæ§‹ï¼ˆå¦‚äºŒå…ƒæ¨¹ï¼‰æˆ–éšå±¤å¼è³‡æ–™æ¨¡å‹ï¼Œä½†ä¸æ˜¯ ERD çš„æ§‹æˆå…ƒä»¶ã€‚
            </div>

            <div class="analysis-item correct-opt">
                <strong>(E) é•·æ–¹å½¢ï¼š</strong><span style="color:green">æ­£ç¢º</span>ã€‚é€™æ˜¯æœ€åŸºç¤çš„ç¬¦è™Ÿï¼Œä»£è¡¨è³‡æ–™åº«ä¸­çš„ä¸»è§’ã€Œå¯¦é«”ã€ã€‚
            </div>

            <div style="margin-top: 15px; padding: 10px; background: #fff3cd; border-radius: 5px; font-size: 0.9em;">
                ğŸ‘¨â€ğŸ« <strong>è€å¸«è£œå……ï¼š</strong> ä¸åŒæ•™æå¯èƒ½æœƒçœ‹åˆ°ã€Œçƒé´‰è…³ (Crow's Foot)ã€è¡¨ç¤ºæ³•ï¼Œä½†åœ¨é€™ä¸€é¡Œè€ƒçš„æ˜¯æœ€å‚³çµ±çš„ Chen's Notation (é™³æ°è¡¨ç¤ºæ³•) å–”ï¼
            </div>
        </div>

        <!-- 6. å»¶ä¼¸ç·´ç¿’å¡ -->
        <div class="card">
            <h2>ğŸš€ å»¶ä¼¸ç·´ç¿’ (æ˜¯éé¡Œ)</h2>
            <div class="quiz-item">
                <p>1. ERD çš„å½¢ç‹€æ˜¯é ˜åŸŸå…§ç´„å®šçš„ç¬¦è™Ÿèªè¨€ï¼Œä¸èƒ½éš¨ä¾¿äº‚ç•«ã€‚</p>
                <button class="btn-outline" onclick="checkQuiz(this, true, 'æ²’éŒ¯ï¼ç¬¦è™Ÿå°±æ˜¯ä¸€ç¨®å…±åŒèªè¨€ (Notation)ã€‚')">O</button>
                <button class="btn-outline" onclick="checkQuiz(this, false, 'ä¸å°å–”ï¼Œå¦‚æœå¤§å®¶éš¨ä¾¿ç•«ï¼Œå·¥ç¨‹å¸«å°±çœ‹ä¸æ‡‚è¨­è¨ˆåœ–äº†ã€‚')">X</button>
                <div class="quiz-feedback"></div>
            </div>
            <div class="quiz-item">
                <p>2. ã€Œè±å½¢ã€åœ¨ ERD ä¸­é€šå¸¸ä»£è¡¨å±¬æ€§ (Attribute)ã€‚</p>
                <button class="btn-outline" onclick="checkQuiz(this, false, 'ç­”éŒ¯äº†ï¼è±å½¢ä»£è¡¨ã€Œé—œä¿‚ã€ï¼Œæ©¢åœ“å½¢æ‰æ˜¯å±¬æ€§ã€‚')">O</button>
                <button class="btn-outline" onclick="checkQuiz(this, true, 'æ­£ç¢ºï¼è±å½¢æ˜¯ã€Œé—œä¿‚ã€ï¼Œä¸è¦è¢«é¨™äº†ã€‚')">X</button>
                <div class="quiz-feedback"></div>
            </div>
            <div class="quiz-item">
                <p>3. ã€Œé•·æ–¹å½¢ã€åœ¨ ERD ä¸­é€šå¸¸ä»£è¡¨å¯¦é«” (Entity)ã€‚</p>
                <button class="btn-outline" onclick="checkQuiz(this, true, 'BINGO! å¯¦é«”ç”¨é•·æ–¹å½¢è£èµ·ä¾†ï¼Œè¨˜ä½ç®±å­ç†è«–ã€‚')">O</button>
                <button class="btn-outline" onclick="checkQuiz(this, false, 'å“å‘€ï¼é•·æ–¹å½¢ç¢ºå¯¦æ˜¯ä»£è¡¨å¯¦é«”å–”ã€‚')">X</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

    </div>

    <script>
        // --- åè©é€ŸæŸ¥ ---
        function toggleGlossary(element) {
            const content = element.nextElementSibling;
            content.classList.toggle('show');
            const arrow = element.querySelector('span');
            arrow.textContent = content.classList.contains('show') ? 'â–²' : 'â–¼';
        }
        function toggleAllGlossary() {
            const contents = document.querySelectorAll('.glossary-content');
            contents.forEach(c => c.classList.toggle('show'));
        }

        // --- é¡Œç›® Q19 é‚è¼¯ ---
        function submitQ19() {
            const checkboxes = document.querySelectorAll('input[name="q19"]:checked');
            const selected = Array.from(checkboxes).map(cb => cb.value);
            const correct = ['B', 'C', 'E'];
            const feedbackEl = document.getElementById('q19-feedback');
            
            // æ’åºæ¯”å°
            selected.sort();
            correct.sort();
            const isCorrect = JSON.stringify(selected) === JSON.stringify(correct);

            feedbackEl.className = 'feedback ' + (isCorrect ? 'correct' : 'wrong');
            
            if (isCorrect) {
                feedbackEl.innerHTML = `âœ… å®Œå…¨æ­£ç¢ºï¼<br>å£è¨£è¨˜å¥½ï¼šå¯¦é«”(é•·æ–¹)ã€é—œä¿‚(è±å½¢)ã€å±¬æ€§(æ©¢åœ“)ã€‚`;
            } else {
                // åˆ†æéŒ¯èª¤
                const missed = correct.filter(x => !selected.includes(x));
                const extra = selected.filter(x => !correct.includes(x));
                let msg = 'âŒ é‚„æœ‰é€²æ­¥ç©ºé–“å–”ï¼<br>';
                if (missed.length > 0) msg += `ğŸ‘‰ ä½ æ¼é¸äº†ï¼š${missed.join(', ')}<br>`;
                if (extra.length > 0) msg += `ğŸ‘‰ ä½ å¤šé¸äº†ï¼š${extra.join(', ')} (é€™ä¸æ˜¯æ¨™æº–ç¬¦è™Ÿ)<br>`;
                msg += 'è«‹åƒè€ƒä¸‹æ–¹çš„å½¢ç‹€ç›´è¦ºæ•™å­¸ã€‚';
                feedbackEl.innerHTML = msg;
            }
        }

        function resetQ19() {
            document.querySelectorAll('input[name="q19"]').forEach(cb => cb.checked = false);
            const feedbackEl = document.getElementById('q19-feedback');
            feedbackEl.style.display = 'none';
            feedbackEl.innerHTML = '';
            document.getElementById('solution-card').style.display = 'none';
        }

        function showSolution() {
            const solutionCard = document.getElementById('solution-card');
            solutionCard.style.display = 'block';
            solutionCard.scrollIntoView({ behavior: 'smooth' });
        }

        // --- æ ¸å¿ƒäº’å‹•ï¼šå½¢ç‹€è¾¨è­˜ ---
        let currentShapeId = null;
        let score = 0;
        
        // å®šç¾©æ­£ç¢ºç­”æ¡ˆèˆ‡æç¤º
        const shapeData = {
            'rect': { 
                name: 'é•·æ–¹å½¢ (Rectangle)', 
                answer: 'entity', 
                hint: 'Correct! å°±åƒå€‹ç›’å­ç”¨ä¾†è£æ±è¥¿ (Entity)ã€‚' 
            },
            'diamond': { 
                name: 'è±å½¢ (Diamond)', 
                answer: 'relationship', 
                hint: 'Correct! å°±åƒé€£çµçµé»ï¼Œä»£è¡¨é—œä¿‚ (Relationship)ã€‚' 
            },
            'oval': { 
                name: 'æ©¢åœ“å½¢ (Oval)', 
                answer: 'attribute', 
                hint: 'Correct! å°±åƒé™„åŠ çš„å°æ¨™ç±¤ï¼Œä»£è¡¨å±¬æ€§ (Attribute)ã€‚' 
            },
            'square': { 
                name: 'æ­£æ–¹å½¢ (Square)', 
                answer: 'distractor', 
                hint: 'Correct! å®ƒé•·å¾—å¾ˆåƒé•·æ–¹å½¢ï¼Œä½†åœ¨ ERD ä¸­ä¸å¸¸ç”¨ï¼Œæ˜¯å¸¸è¦‹çš„å¹²æ“¾é …ã€‚' 
            },
            'tree': { 
                name: 'æ¨¹ç‹€å½¢ (Tree)', 
                answer: 'distractor', 
                hint: 'Correct! é€™æ˜¯éšå±¤çµæ§‹ï¼Œä¸æ˜¯ ERD çš„åŸºæœ¬å…ƒä»¶ã€‚' 
            }
        };

        function selectShape(id) {
            // æ¸…é™¤ä¹‹å‰çš„é¸å–
            document.querySelectorAll('.shape-wrapper').forEach(el => el.classList.remove('active'));
            
            // è¨­å®šç•¶å‰é¸å–
            const currentEl = document.getElementById('shape-' + id);
            currentEl.classList.add('active');
            currentShapeId = id;

            // é¡¯ç¤ºäº’å‹•é¢æ¿
            const panel = document.getElementById('interaction-area');
            panel.style.display = 'block';
            
            // é‡ç½®é¢æ¿ç‹€æ…‹
            document.getElementById('selected-msg').textContent = `ä½ é¸æ“‡äº†ï¼šåœ–å½¢ (é»æ“Šä¸Šæ–¹åœ–å½¢å¯åˆ‡æ›)`;
            document.getElementById('shape-guess').value = "";
            const feedback = document.getElementById('shape-feedback');
            feedback.style.display = 'none';
            feedback.className = 'feedback';

            // æ»¾å‹•åˆ°æ“ä½œå€ (æ‰‹æ©Ÿç‰ˆé«”é©—è¼ƒå¥½)
            // panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function checkShapeAnswer() {
            if (!currentShapeId) return;
            
            const userGuess = document.getElementById('shape-guess').value;
            const data = shapeData[currentShapeId];
            const feedback = document.getElementById('shape-feedback');
            
            if (userGuess === "") {
                alert("è«‹å…ˆé¸æ“‡ä¸€å€‹é¸é …ï¼");
                return;
            }

            if (userGuess === data.answer) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `âœ… ç­”å°äº†ï¼<br>${data.name}ï¼š${data.hint}`;
                score++;
                document.getElementById('score-val').textContent = score;
            } else {
                feedback.className = 'feedback wrong';
                let hintMsg = "";
                // çµ¦äºˆéŒ¯èª¤æç¤º
                switch(data.answer) {
                    case 'entity': hintMsg = "æç¤ºï¼šåƒå€‹ç›’å­è£æ±è¥¿..."; break;
                    case 'relationship': hintMsg = "æç¤ºï¼šç”¨ä¾†é€£æ¥å…©å€‹å¯¦é«”çš„..."; break;
                    case 'attribute': hintMsg = "æç¤ºï¼šåƒæ˜¯è²¼åœ¨æ—é‚Šçš„æ¨™ç±¤..."; break;
                    case 'distractor': hintMsg = "æç¤ºï¼šé€™ä¸æ˜¯ ERD çš„ä¸‰å¤§æ ¸å¿ƒç¬¦è™Ÿå–”..."; break;
                }
                feedback.innerHTML = `âŒ ç­”éŒ¯å›‰ï¼<br>${hintMsg}`;
            }
        }

        function randomSelectShape() {
            const keys = Object.keys(shapeData);
            const randomKey = keys[Math.floor(Math.random() * keys.length)];
            selectShape(randomKey);
        }

        // --- å»¶ä¼¸ç·´ç¿’ ---
        function checkQuiz(btn, isCorrectAnswer, explanation) {
            const feedbackDiv = btn.parentElement.querySelector('.quiz-feedback');
            const btns = btn.parentElement.querySelectorAll('button');
            
            // åœç”¨æŒ‰éˆ•
            btns.forEach(b => b.disabled = true);

            if (isCorrectAnswer) {
                btn.style.background = 'var(--success-color)';
                btn.style.color = 'white';
                feedbackDiv.style.color = 'green';
                feedbackDiv.innerHTML = `âœ… ${explanation}`;
            } else {
                btn.style.background = 'var(--accent-color)';
                btn.style.color = 'white';
                feedbackDiv.style.color = 'red';
                feedbackDiv.innerHTML = `âŒ ${explanation}`;
            }
        }

    </script>
</body>
</html>