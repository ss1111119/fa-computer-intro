<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»è…¦æ¦‚è«– - ç¶²è·¯åŸºç¤è§€å¿µæ•™å­¸ - ç¬¬ 1 é¡Œ</title>
    <style>
        /* --- å…¨åŸŸæ¨£å¼è¨­å®š (Reset & Base) --- */
        :root {
            --primary-color: #2c3e50; /* æ·±è—è‰² - å°ˆæ¥­æ„Ÿ */
            --accent-color: #3498db;  /* äº®è—è‰² - é‡é»æ¨™ç¤º */
            --success-color: #27ae60; /* ç¶ è‰² - æ­£ç¢º */
            --error-color: #c0392b;   /* ç´…è‰² - éŒ¯èª¤ */
            --bg-color: #f4f6f7;      /* æ·ºç°èƒŒæ™¯ - è­·çœ¼ */
            --card-bg: #ffffff;       /* å¡ç‰‡èƒŒæ™¯ */
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* --- é€šç”¨å…ƒä»¶æ¨£å¼ --- */
        h1, h2, h3 {
            margin-top: 0;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid var(--accent-color);
        }

        .highlight {
            color: var(--error-color);
            font-weight: bold;
            background-color: #fdebd0;
            padding: 2px 5px;
            border-radius: 4px;
        }

        .btn {
            cursor: pointer;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: 1rem;
            transition: all 0.2s;
            display: inline-block;
            margin: 5px;
        }

        .btn:active {
            transform: scale(0.98);
        }

        /* --- æ¨™é¡Œå€å¡Š --- */
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        header h1 {
            color: var(--primary-color);
            font-size: 1.8rem;
        }
        .tag {
            background: var(--primary-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            vertical-align: middle;
        }

        /* --- é¡Œç›®å€å¡Š --- */
        .question-box {
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
            padding: 20px;
            border: 2px dashed var(--accent-color);
            border-radius: 10px;
            background-color: #eaf2f8;
            margin-bottom: 20px;
        }

        /* --- äº’å‹•(A)ï¼šO/X æŒ‰éˆ• --- */
        .ox-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .btn-ox {
            width: 120px;
            height: 120px;
            font-size: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-o { background-color: #ecf0f1; color: var(--success-color); border: 4px solid var(--success-color); }
        .btn-x { background-color: #ecf0f1; color: var(--error-color); border: 4px solid var(--error-color); }

        .btn-o:hover { background-color: var(--success-color); color: white; }
        .btn-x:hover { background-color: var(--error-color); color: white; }

        #feedback-area {
            display: none; /* é è¨­éš±è— */
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }

        .feedback-correct {
            background-color: #d4efdf;
            color: #145a32;
            border: 1px solid #27ae60;
        }

        .feedback-wrong {
            background-color: #fadbd8;
            color: #78281f;
            border: 1px solid #c0392b;
        }

        /* --- å°ˆæœ‰åè©èˆ‡æ ¸å¿ƒè§€å¿µ --- */
        .term-box {
            background-color: #f8f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.95rem;
        }
        .term-title {
            font-weight: bold;
            color: var(--accent-color);
        }

        .core-concept {
            background-color: #fff8e1; /* æ·¡é»ƒè‰²èƒŒæ™¯å¼·èª¿ */
            border-left-color: #f1c40f;
        }

        /* --- äº’å‹•(B)ï¼šæ‹–æ‹‰é…å° --- */
        .match-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .drag-source, .drop-zones {
            flex: 1;
            min-width: 280px;
            background: #fdfefe;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .draggable-item {
            background: var(--accent-color);
            color: white;
            padding: 10px;
            margin: 5px;
            border-radius: 5px;
            cursor: grab;
            text-align: center;
            display: inline-block;
        }

        .drop-zone {
            height: 100px;
            border: 2px dashed #bdc3c7;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .drop-zone span {
            font-weight: bold;
            color: #7f8c8d;
            margin-bottom: 5px;
            pointer-events: none; /* è®“æ–‡å­—ä¸å½±éŸ¿æ‹–æ”¾ */
        }

        .drop-zone.hover {
            background-color: #ebf5fb;
            border-color: var(--accent-color);
        }

        /* --- äº’å‹•(C)ï¼šè¦†è“‹ç¯„åœç¤ºæ„ --- */
        .scenario-btns {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
        }
        .btn-scenario {
            background-color: var(--primary-color);
            color: white;
        }
        #scenario-result {
            min-height: 60px;
            padding: 10px;
            background: #f2f3f4;
            border-radius: 8px;
            text-align: center;
        }

        /* --- äº’å‹•(D)ï¼šé™·é˜±å¡ --- */
        .trap-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .trap-card {
            background: #fadbd8;
            border: 1px solid #e6b0aa;
            padding: 15px;
            border-radius: 8px;
            position: relative;
            transition: opacity 0.5s;
        }
        .trap-card h4 {
            margin: 0 0 10px 0;
            color: #c0392b;
        }
        .btn-dismiss {
            background: #c0392b;
            color: white;
            font-size: 0.8rem;
            padding: 5px 10px;
            width: 100%;
            margin-top: 10px;
        }

        /* --- äº’å‹•(E)ï¼šè‡ªæˆ‘æª¢æ¸¬ --- */
        .quiz-item {
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }
        .hint-box {
            display: none;
            background-color: #d6eaf8;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            color: #21618c;
            font-size: 0.9rem;
        }
        .btn-hint {
            background: #85c1e9;
            color: white;
            font-size: 0.9rem;
        }

        /* --- åº•éƒ¨é‡ç½®æŒ‰éˆ• --- */
        .footer-controls {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ccc;
        }
        .btn-reset {
            background-color: #7f8c8d;
            color: white;
            padding: 12px 30px;
            font-size: 1.1rem;
        }

        /* æ‰‹æ©Ÿç‰ˆé©é… */
        @media (max-width: 600px) {
            .btn-ox { width: 90px; height: 90px; font-size: 2rem; }
            .match-container { flex-direction: column; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <span class="tag">é›»è…¦æ¦‚è«–</span> <span class="tag">ç¶²è·¯åŸºç¤</span>
        <h1>æ˜¯éé¡Œäº’å‹•æ•™å­¸</h1>
        <p>è·Ÿè‘—è£œæ•™åå¸«ï¼Œä¸€é¡Œææ‡‚ã€Œç¶²è·¯ç¯„åœã€è§€å¿µï¼</p>
    </header>

    <!-- 1. é¡Œç›®å±•ç¤ºå€ -->
    <section class="card">
        <h3>é¡Œç›®å±•ç¤º</h3>
        <div class="question-box">
            ç¬¬ 1 é¡Œï¼š<br>
            WiFi å±¬æ–¼ä¸€ç¨®<span class="highlight">å»£åŸŸçš„ç¶²è·¯é€£æ¥æŠ€è¡“</span>ã€‚<br><br>
            (A) O &nbsp;&nbsp;&nbsp; (B) X
        </div>
        
        <!-- å°ˆæœ‰åè©è§£é‡‹ -->
        <div class="term-box">
            <div class="term-title">ğŸ§ è€å¸«å¹«ä½ ç¿»è­¯ï¼ˆå°ˆæœ‰åè©ç™½è©±æ–‡ï¼‰ï¼š</div>
            <ul>
                <li><strong>WiFi</strong>ï¼šä¸€ç¨®ç„¡ç·šå€åŸŸç¶²è·¯æŠ€è¡“ï¼Œç”¨ä¾†åœ¨å°ç¯„åœå…§ï¼ˆå¦‚æˆ¿é–“ï¼‰é€£æ¥è£ç½®ã€‚</li>
                <li><strong>LAN (Local Area Network)</strong>ï¼šå€åŸŸç¶²è·¯ï¼Œç¯„åœå°ï¼Œåƒå®¶åº­ã€å­¸æ ¡ã€ç¶²å’–ã€‚</li>
                <li><strong>WAN (Wide Area Network)</strong>ï¼šå»£åŸŸç¶²è·¯ï¼Œç¯„åœå¤§ï¼Œè·¨åŸå¸‚ã€è·¨åœ‹ï¼ˆåƒ Internetï¼‰ã€‚</li>
                <li><strong>ç¶²è·¯é€£æ¥æŠ€è¡“</strong>ï¼šå°±æ˜¯è®“é›»è…¦ã€æ‰‹æ©Ÿå¯ä»¥å½¼æ­¤å‚³é€è³‡æ–™çš„æ–¹æ³•ã€‚</li>
            </ul>
        </div>
    </section>

    <!-- 2. æ ¸å¿ƒè§€å¿µ (æ•™å­¸é‡é») -->
    <section class="card core-concept">
        <h3>ğŸ’¡ æ ¸å¿ƒè§€å¿µèªªæ˜</h3>
        <p>é€™é¡Œå…¶å¯¦æ˜¯åœ¨è€ƒä½ ã€ŒWiFi çš„æœ‰æ•ˆç¯„åœã€æœ‰å¤šå¤§ï¼š</p>
        <ul>
            <li>WiFi æ˜¯ã€Œç„¡ç·šã€çš„ï¼Œä½†ä¸ä»£è¡¨å®ƒèƒ½å‚³å¾ˆé ã€‚</li>
            <li>WiFi é€šå¸¸ç”¨åœ¨ï¼š<strong>å®¶è£¡ã€æ•™å®¤ã€è¾¦å…¬å®¤ã€å’–å•¡å»³</strong>ã€‚</li>
            <li>é€™äº›åœ°é»ç¯„åœéƒ½å¾ˆå°ï¼Œå±¬æ–¼ <strong>å€åŸŸç¶²è·¯ (LAN)</strong>ã€‚</li>
        </ul>
        <div style="text-align: center; font-size: 1.3rem; font-weight: bold; color: var(--error-color); margin: 15px 0;">
            ğŸ‘‰ ä¸€å¥è©±è¨˜æ†¶ï¼šã€ŒWiFi = ç„¡ç·š LANï¼Œä¸æ˜¯ WANã€
        </div>
    </section>

    <!-- 3. äº’å‹• (A)ï¼šO/X åˆ¤æ–· -->
    <section class="card">
        <h3>(1) è©¦è‘—å›ç­”çœ‹çœ‹</h3>
        <p>æ ¹æ“šä¸Šé¢çš„è§€å¿µï¼Œé€™é¡Œçš„ç­”æ¡ˆæ˜¯ï¼Ÿ</p>
        <div class="ox-buttons">
            <button class="btn btn-ox btn-o" onclick="checkAnswer('A')">O</button>
            <button class="btn btn-ox btn-x" onclick="checkAnswer('B')">X</button>
        </div>
        <div id="feedback-area"></div>
    </section>

    <!-- 4. äº’å‹• (B)ï¼šç¶²è·¯é¡å‹é…å° -->
    <section class="card">
        <h3>(2) è§€å¿µå¼·åŒ–ï¼šç¶²è·¯é¡å‹é…å°</h3>
        <p>è«‹å°‡ä¸‹æ–¹çš„æŠ€è¡“åç¨±ï¼Œç”¨æ»‘é¼ æ‹–æ›³åˆ°æ­£ç¢ºçš„ã€Œç¯„åœåˆ†é¡ã€æ¡†æ¡†ä¸­ã€‚ï¼ˆæ‰‹æ©Ÿè«‹ç”¨æ‰‹æŒ‡é•·æŒ‰æ‹–æ›³ï¼‰</p>
        
        <div class="match-container">
            <!-- ä¾†æºå€ -->
            <div class="drag-source" id="drag-source">
                <h4>å¾…åˆ†é¡é …ç›®ï¼š</h4>
                <div class="draggable-item" draggable="true" id="item-wifi" ondragstart="drag(event)">WiFi</div>
                <div class="draggable-item" draggable="true" id="item-4g" ondragstart="drag(event)">4G è¡Œå‹•ç¶²è·¯</div>
                <div class="draggable-item" draggable="true" id="item-5g" ondragstart="drag(event)">5G è¡Œå‹•ç¶²è·¯</div>
                <div class="draggable-item" draggable="true" id="item-ethernet" ondragstart="drag(event)">ä¹™å¤ªç¶²è·¯(æœ‰ç·š)</div>
            </div>

            <!-- ç›®æ¨™å€ -->
            <div class="drop-zones">
                <h4>åˆ†é¡å€ï¼š</h4>
                <!-- LAN å€å¡Š -->
                <div class="drop-zone" id="zone-lan" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <span>å€åŸŸç¶²è·¯ (LAN)</span>
                    <small>ç¯„åœå°ï¼šå®¶è£¡ã€å­¸æ ¡</small>
                </div>
                <!-- WAN å€å¡Š -->
                <div class="drop-zone" id="zone-wan" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <span>å»£åŸŸç¶²è·¯ (WAN)</span>
                    <small>ç¯„åœå¤§ï¼šè·¨ç¸£å¸‚ã€è·¨åœ‹</small>
                </div>
            </div>
        </div>
        <button class="btn btn-scenario" style="margin-top:10px; width:100%" onclick="checkMatching()">æª¢æŸ¥é…å°ç­”æ¡ˆ</button>
        <p id="match-result" style="text-align: center; font-weight: bold;"></p>
    </section>

    <!-- 5. äº’å‹• (C)ï¼šè¦†è“‹ç¯„åœæƒ…å¢ƒ -->
    <section class="card">
        <h3>(3) æƒ…å¢ƒæ¨¡æ“¬ï¼šWiFi é©åˆç”¨åœ¨å“ªï¼Ÿ</h3>
        <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œçœ‹çœ‹è©²åœ°é»æ˜¯å¦é©åˆä¸»è¦ä¾è³´å–®ä¸€ WiFi åŸºåœ°å°ï¼Ÿ</p>
        <div class="scenario-btns">
            <button class="btn btn-scenario" onclick="showScenario('home')">ğŸ  å®¶åº­å®¢å»³</button>
            <button class="btn btn-scenario" onclick="showScenario('school')">ğŸ« å­¸æ ¡æ•™å®¤</button>
            <button class="btn btn-scenario" onclick="showScenario('city')">ğŸ™ï¸ æ•´å€‹å°åŒ—å¸‚</button>
        </div>
        <div id="scenario-result">è«‹é»æ“Šä¸Šæ–¹æŒ‰éˆ•æŸ¥çœ‹çµæœ...</div>
    </section>

    <!-- 6. äº’å‹• (D)ï¼šé™·é˜±å¡ -->
    <section class="card">
        <h3>âš ï¸ è€ƒè©¦å¸¸è¦‹é™·é˜± (é»æ“Šå¡ç‰‡æ¶ˆé™¤)</h3>
        <p>é€™äº›æ˜¯å­¸é•·å§æœ€å¸¸ææ··çš„è§€å¿µï¼Œè®€æ‡‚äº†å°±æŒ‰ã€Œæˆ‘æ‡‚äº†ã€æŠŠå®ƒæ¶ˆæ‰ï¼</p>
        <div class="trap-grid">
            <div class="trap-card" id="trap1">
                <h4>é™·é˜± 1</h4>
                <p>ä»¥ç‚ºã€Œç„¡ç·šã€å°±æ˜¯ã€Œå»£åŸŸã€ã€‚<br><strong>(éŒ¯ï¼ç„¡ç·šåªæ˜¯æ²’ç·šï¼Œä¸ä»£è¡¨å‚³å¾—é )</strong></p>
                <button class="btn btn-dismiss" onclick="removeTrap('trap1')">æˆ‘æ‡‚äº† ğŸ—‘ï¸</button>
            </div>
            <div class="trap-card" id="trap2">
                <h4>é™·é˜± 2</h4>
                <p>æŠŠ WiFi è·Ÿ 4G/5G ææ··ã€‚<br><strong>(éŒ¯ï¼4G/5G é åŸºåœ°å°æ¶µè“‹å…¨å¸‚ï¼Œæ‰æ˜¯å»£åŸŸ)</strong></p>
                <button class="btn btn-dismiss" onclick="removeTrap('trap2')">æˆ‘æ‡‚äº† ğŸ—‘ï¸</button>
            </div>
            <div class="trap-card" id="trap3">
                <h4>é™·é˜± 3</h4>
                <p>çœ‹åˆ°è‹±æ–‡å°±æšˆé ­ã€‚<br><strong>(è¨˜ä½ï¼šWé–‹é ­çš„ WAN æ˜¯ Wide å¯¬å»£çš„æ„æ€)</strong></p>
                <button class="btn btn-dismiss" onclick="removeTrap('trap3')">æˆ‘æ‡‚äº† ğŸ—‘ï¸</button>
            </div>
        </div>
    </section>

    <!-- 7. äº’å‹• (E)ï¼šè‡ªæˆ‘æª¢æ¸¬ -->
    <section class="card">
        <h3>ğŸ“ è‡ªæˆ‘æª¢æ¸¬ (ä¸çµ¦ç­”æ¡ˆï¼Œè‡ªå·±æƒ³)</h3>
        
        <div class="quiz-item">
            <strong>Q1ï¼šç‚ºä»€éº¼ 4Gã€5G å±¬æ–¼ WAN (å»£åŸŸç¶²è·¯)ï¼Ÿ</strong>
            <br>
            <button class="btn btn-hint" onclick="toggleHint('hint1')">é¡¯ç¤ºæç¤º</button>
            <div id="hint1" class="hint-box">æç¤ºï¼šä½ å¾å°åŒ—æ­é«˜éµåˆ°é«˜é›„ï¼Œæ‰‹æ©Ÿæ˜¯ä¸æ˜¯å¤§æ¦‚éƒ½èƒ½ä¸Šç¶²ï¼Ÿç¯„åœå¾ˆå¤§å°å§ï¼</div>
        </div>

        <div class="quiz-item">
            <strong>Q2ï¼šWiFi è¨Šè™Ÿæœ€é å¤§æ¦‚å¯ä»¥ç”¨åˆ°å“ªï¼Ÿ</strong>
            <br>
            <button class="btn btn-hint" onclick="toggleHint('hint2')">é¡¯ç¤ºæç¤º</button>
            <div id="hint2" class="hint-box">æç¤ºï¼šé€šå¸¸éš”å¹¾é“ç‰†è¨Šè™Ÿå°±å¼±äº†ï¼Œèµ°å‡ºå®¶é–€å£å¯èƒ½å°±æ²’äº†ã€‚å¤§æ¦‚å¹¾åå…¬å°ºè€Œå·²ã€‚</div>
        </div>

        <div class="quiz-item">
            <strong>Q3ï¼šè€ƒè©¦çœ‹åˆ°ã€Œå»£åŸŸ / å€åŸŸã€åˆ†é¡é¡Œï¼Œç¬¬ä¸€æ­¥è¦æƒ³ä»€éº¼ï¼Ÿ</strong>
            <br>
            <button class="btn btn-hint" onclick="toggleHint('hint3')">é¡¯ç¤ºæç¤º</button>
            <div id="hint3" class="hint-box">æç¤ºï¼šå…ˆæƒ³ã€Œè·é›¢ã€ï¼è·é›¢çŸ­çš„æ˜¯ LANï¼Œè·é›¢é•·çš„æ˜¯ WANã€‚</div>
        </div>
    </section>

    <!-- å…¨é é‡ç½® -->
    <div class="footer-controls">
        <button class="btn btn-reset" onclick="resetAll()">ğŸ”„ é‡ç½®æ‰€æœ‰ç·´ç¿’ç‹€æ…‹</button>
    </div>

</div>

<script>
    /* --- äº’å‹• (A) é‚è¼¯ï¼šæ˜¯éé¡Œåˆ¤æ–· --- */
    function checkAnswer(answer) {
        const feedbackArea = document.getElementById('feedback-area');
        feedbackArea.style.display = 'block';
        
        if (answer === 'B') {
            // ç­”å°äº†
            feedbackArea.className = 'feedback-correct';
            feedbackArea.innerHTML = `
                <h2>âœ… ç­”å°äº†ï¼(B) æ˜¯æ­£ç¢ºç­”æ¡ˆ</h2>
                <p>ç†ç”±ï¼šWiFi æ˜¯è¨­è¨ˆçµ¦å°ç¯„åœï¼ˆå¦‚å®¶è£¡ã€è¾¦å…¬å®¤ï¼‰ä½¿ç”¨çš„ï¼Œå±¬æ–¼<strong>å€åŸŸç¶²è·¯ (LAN)</strong> çš„æŠ€è¡“ï¼Œä¸æ˜¯å»£åŸŸç¶²è·¯ã€‚</p>
            `;
        } else {
            // ç­”éŒ¯äº†
            feedbackArea.className = 'feedback-wrong';
            feedbackArea.innerHTML = `
                <h2>âŒ ç­”éŒ¯å›‰ï¼</h2>
                <p>åˆ¥è¢«é¨™äº†ï¼é›–ç„¶ WiFi æ˜¯ç„¡ç·šçš„ï¼Œä½†å®ƒçš„ç¯„åœå¾ˆå°ï¼ˆé›¢é–‹å®¶è£¡å°±æ”¶ä¸åˆ°äº†å°å§ï¼Ÿï¼‰ã€‚<br>
                <strong>ç¯„åœå°çš„ = å€åŸŸç¶²è·¯ (LAN)ã€‚</strong><br>
                è«‹å†çœ‹ä¸€æ¬¡ä¸Šæ–¹çš„æ ¸å¿ƒè§€å¿µå–”ï¼</p>
            `;
        }
    }

    /* --- äº’å‹• (B) é‚è¼¯ï¼šæ‹–æ‹‰é…å° --- */
    function allowDrop(ev) {
        ev.preventDefault();
        // å¢åŠ è¦–è¦ºæç¤ºæ•ˆæœ
        ev.currentTarget.classList.add('hover');
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }
    
    // è™•ç† drop å€åŸŸé›¢é–‹æ™‚ç§»é™¤ hover æ•ˆæœ
    document.addEventListener("dragleave", function(event) {
        if (event.target.classList && event.target.classList.contains("drop-zone")) {
            event.target.classList.remove("hover");
        }
    });

    function drop(ev) {
        ev.preventDefault();
        ev.currentTarget.classList.remove('hover'); // ç§»é™¤ hover æ•ˆæœ
        
        var data = ev.dataTransfer.getData("text");
        var draggedElement = document.getElementById(data);
        
        // ç¢ºä¿åªèƒ½æ”¾åœ¨ drop-zone å…§ï¼Œè€Œä¸æ˜¯æ”¾åœ¨è£¡é¢çš„ span æˆ– small æ¨™ç±¤ä¸Š
        if (ev.target.classList.contains('drop-zone')) {
            ev.target.appendChild(draggedElement);
        } else {
            // å¦‚æœä½¿ç”¨è€…æ”¾åˆ°äº† drop-zone è£¡çš„æ–‡å­—ä¸Šï¼Œæˆ‘å€‘è¦å¾€ä¸Šæ‰¾çˆ¶å±¤
            ev.target.closest('.drop-zone').appendChild(draggedElement);
        }
    }

    function checkMatching() {
        const zoneLan = document.getElementById('zone-lan');
        const zoneWan = document.getElementById('zone-wan');
        const resultText = document.getElementById('match-result');
        
        // å–å¾—å„å€å…§çš„é …ç›® ID
        const lanItems = Array.from(zoneLan.children).map(el => el.id).filter(id => id); // filter å»é™¤ç„¡ id çš„æ¨™é¡Œæ–‡å­—å…ƒç´ 
        const wanItems = Array.from(zoneWan.children).map(el => el.id).filter(id => id);

        // æ­£ç¢ºç­”æ¡ˆå®šç¾©
        // LAN: item-wifi, item-ethernet
        // WAN: item-4g, item-5g
        
        let isCorrect = true;
        let errorMsg = "";

        // æª¢æŸ¥ LAN å€
        if (!lanItems.includes('item-wifi')) { isCorrect = false; errorMsg += "WiFi æ‡‰è©²åœ¨å€åŸŸç¶²è·¯å–”ï¼<br>"; }
        if (!lanItems.includes('item-ethernet')) { isCorrect = false; errorMsg += "ä¹™å¤ªç¶²è·¯æ‡‰è©²åœ¨å€åŸŸç¶²è·¯å–”ï¼<br>"; }
        if (lanItems.includes('item-4g') || lanItems.includes('item-5g')) { isCorrect = false; errorMsg += "4G/5G è·‘å¤ªé äº†ï¼Œä¸å±¬æ–¼å€åŸŸç¶²è·¯ï¼<br>"; }

        // æª¢æŸ¥ WAN å€ (å…¶å¯¦ä¸Šé¢æª¢æŸ¥å®Œå¤§æ¦‚å°±çŸ¥é“äº†ï¼Œä½†åš´è¬¹ä¸€é»)
        if (!wanItems.includes('item-4g')) { isCorrect = false; }
        if (!wanItems.includes('item-5g')) { isCorrect = false; }
        if (wanItems.includes('item-wifi')) { isCorrect = false; errorMsg += "WiFi ç¯„åœå¤ªå°äº†ï¼Œä¸æ˜¯å»£åŸŸç¶²è·¯ï¼<br>"; }

        if (isCorrect) {
            resultText.style.color = "green";
            resultText.innerHTML = "ğŸ’¯ å®Œå…¨æ­£ç¢ºï¼ä½ å·²ç¶“æŒæ¡åˆ†é¡æŠ€å·§äº†ï¼";
        } else {
            resultText.style.color = "red";
            resultText.innerHTML = "âŒ é‚„æœ‰é»å°éŒ¯èª¤å–”ï¼š<br>" + errorMsg;
        }
    }

    /* --- äº’å‹• (C) é‚è¼¯ï¼šæƒ…å¢ƒæ¨¡æ“¬ --- */
    function showScenario(type) {
        const resultBox = document.getElementById('scenario-result');
        
        if (type === 'home') {
            resultBox.innerHTML = "<strong>âœ… é©åˆï¼</strong><br>å®¶è£¡ç©ºé–“ä¸å¤§ï¼Œä¸€å° WiFi åˆ†äº«å™¨é€šå¸¸å°±èƒ½è¦†è“‹å®¢å»³å’Œæˆ¿é–“ã€‚<br>(é€™å°±æ˜¯ LAN çš„å…¸å‹æ‡‰ç”¨)";
            resultBox.style.color = "#145a32";
        } else if (type === 'school') {
            resultBox.innerHTML = "<strong>âœ… é©åˆï¼</strong><br>æ•™å®¤æˆ–æ ¡åœ’ä¹Ÿæ˜¯å›ºå®šç¯„åœï¼Œé€éä½ˆå»ºå¤šå€‹ WiFi ç†±é»å¯ä»¥è¦†è“‹ã€‚<br>(é€™ä¹Ÿæ˜¯ LAN/WLAN çš„ç¯„åœ)";
            resultBox.style.color = "#145a32";
        } else if (type === 'city') {
            resultBox.innerHTML = "<strong>âŒ ä¸é©åˆï¼</strong><br>æ•´å€‹åŸå¸‚å¤ªå¤§äº†å§ï¼WiFi è¨Šè™Ÿå‚³ä¸äº†é‚£éº¼é ã€‚<br>åŸå¸‚ç¯„åœé€šå¸¸è¦é  4G/5G åŸºåœ°å°ï¼Œé€™å±¬æ–¼ <strong>WAN</strong>ã€‚";
            resultBox.style.color = "#c0392b";
        }
    }

    /* --- äº’å‹• (D) é‚è¼¯ï¼šé™·é˜±å¡æ¶ˆé™¤ --- */
    function removeTrap(id) {
        const card = document.getElementById(id);
        card.style.opacity = '0';
        setTimeout(() => {
            card.style.display = 'none';
        }, 500); // ç­‰å¾…æ·¡å‡ºå‹•ç•«çµæŸ
    }

    /* --- äº’å‹• (E) é‚è¼¯ï¼šé¡¯ç¤ºæç¤º --- */
    function toggleHint(id) {
        const hint = document.getElementById(id);
        if (hint.style.display === 'block') {
            hint.style.display = 'none';
        } else {
            hint.style.display = 'block';
        }
    }

    /* --- å…¨åŸŸé‡ç½® --- */
    function resetAll() {
        // 1. é‡ç½® O/X
        document.getElementById('feedback-area').style.display = 'none';
        
        // 2. é‡ç½®é…å° (æŠŠé …ç›®æ¬å›ä¾†æºå€)
        const source = document.getElementById('drag-source');
        ['item-wifi', 'item-4g', 'item-5g', 'item-ethernet'].forEach(id => {
            source.appendChild(document.getElementById(id));
        });
        document.getElementById('match-result').innerHTML = "";

        // 3. é‡ç½®æƒ…å¢ƒ
        document.getElementById('scenario-result').innerHTML = "è«‹é»æ“Šä¸Šæ–¹æŒ‰éˆ•æŸ¥çœ‹çµæœ...";
        document.getElementById('scenario-result').style.color = "black";

        // 4. é‡ç½®é™·é˜±å¡ (æ¢å¾©é¡¯ç¤º)
        ['trap1', 'trap2', 'trap3'].forEach(id => {
            const card = document.getElementById(id);
            card.style.display = 'block';
            setTimeout(() => { card.style.opacity = '1'; }, 50);
        });

        // 5. é‡ç½®æç¤º
        ['hint1', 'hint2', 'hint3'].forEach(id => {
            document.getElementById(id).style.display = 'none';
        });

        // æ»¾å‹•åˆ°é ‚éƒ¨
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        alert("å·²é‡ç½®æ‰€æœ‰ç·´ç¿’ç‹€æ…‹ï¼");
    }
</script>

</body>
</html>