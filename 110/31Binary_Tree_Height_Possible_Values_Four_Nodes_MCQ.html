<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>31. å››å€‹ç¯€é»äºŒå…ƒæ¨¹é«˜åº¦å¯èƒ½å€¼ - äº’å‹•è©³è§£</title>
    <style>
        :root {
            --primary-color: #2c3e50; /* æ·±è—ç° */
            --accent-color: #e74c3c; /* é‡é»ç´… */
            --highlight-bg: #fff3cd; /* è¢å…‰ç­†é»ƒ */
            --success-color: #27ae60;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-radius: 8px;
        }

        body {
            font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* å¡ç‰‡é€šç”¨æ¨£å¼ */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid var(--primary-color);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 0;
        }

        h1 { font-size: 1.5rem; text-align: center; margin-bottom: 20px; }
        h2 { font-size: 1.2rem; border-bottom: 1px solid #eee; padding-bottom: 10px; }

        /* é¡Œç›®å€ */
        .question-box {
            background-color: #eef2f3;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
        }
        .options-list { list-style: none; padding: 0; }
        .options-list li { margin: 5px 0; }
        
        /* è¢å…‰ç­†ç‰¹æ•ˆ */
        .highlight {
            background-color: var(--highlight-bg);
            padding: 2px 4px;
            border-radius: 3px;
            border-bottom: 2px solid #f1c40f;
            font-weight: bold;
        }

        /* äº’å‹•æ ¸å¿ƒå€ */
        .interactive-panel {
            background: #fff;
            border: 2px solid var(--primary-color);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .controls {
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        select {
            padding: 8px;
            font-size: 1rem;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        .tree-display {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .tree-case {
            flex: 1;
            min-width: 280px;
            text-align: center;
            margin: 10px;
            padding: 10px;
            border: 1px dashed #ccc;
            border-radius: 5px;
        }

        svg {
            max-width: 100%;
            height: 200px;
            background: #fafafa;
        }

        .node { fill: var(--primary-color); }
        .edge { stroke: #333; stroke-width: 2; }
        .node-text { fill: white; font-size: 12px; font-family: monospace; text-anchor: middle; dominant-baseline: middle; }
        
        .height-badge {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            margin-top: 10px;
            font-weight: bold;
        }

        .status-msg {
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f6f3;
            color: #0e6251;
            border-radius: 5px;
            font-weight: bold;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: background 0.3s;
        }
        .btn:hover { background-color: #34495e; }
        .btn-toggle { background-color: #95a5a6; }
        .btn-check { background-color: var(--success-color); }

        /* éš±è—/é¡¯ç¤º */
        .hidden-content { display: none; margin-top: 15px; border-top: 1px dashed #ccc; padding-top: 15px; }

        /* RWD */
        @media (max-width: 600px) {
            .tree-display { flex-direction: column; }
            .card { padding: 15px; }
        }

        .tag {
            display: inline-block;
            background: #eee;
            color: #555;
            font-size: 0.8rem;
            padding: 2px 6px;
            border-radius: 4px;
            margin-right: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <!-- A. æ¨™é¡Œå€ -->
    <header>
        <h1>é›»è…¦æ¦‚è«– / è³‡æ–™çµæ§‹ï¼šäºŒå…ƒæ¨¹é«˜åº¦äº’å‹•è©³è§£</h1>
    </header>

    <!-- B. é¡Œç›®å€ -->
    <section class="card">
        <h2>ã€é¡Œç›®ã€‘</h2>
        <div class="question-box">
            <p><strong>31. æœ‰å››å€‹ç¯€é»çš„äºŒå…ƒæ¨¹é€£æ¥åœ–(connected binary tree)çµæ§‹ä¸­ï¼Œæ¨¹çš„é«˜åº¦æœ‰å¯èƒ½ç‚ºï¼š</strong></p>
            <form id="quizForm">
                <ul class="options-list">
                    <li><label><input type="checkbox" name="opt" value="A"> (A) 1</label></li>
                    <li><label><input type="checkbox" name="opt" value="B"> (B) 2</label></li>
                    <li><label><input type="checkbox" name="opt" value="C"> (C) 3</label></li>
                    <li><label><input type="checkbox" name="opt" value="D"> (D) 4</label></li>
                    <li><label><input type="checkbox" name="opt" value="E"> (E) 5</label></li>
                </ul>
            </form>
            <button class="btn btn-check" onclick="checkAnswer()">æäº¤ç­”æ¡ˆ</button>
            <button class="btn btn-toggle" onclick="toggleAnswer()">å·çœ‹å®˜æ–¹ç­”æ¡ˆ</button>
            <div id="officialAnswer" class="hidden-content" style="color: var(--accent-color); font-weight: bold;">
                ç­”æ¡ˆï¼šB, C
                <br><span style="font-size: 0.9em; color: #666;">(é€™æš—ç¤ºé¡Œç›®æ¡ç”¨çš„æ˜¯ã€Œé‚Šæ•¸å®šç¾©ã€)</span>
            </div>
            <div id="userFeedback" style="margin-top: 10px; font-weight: bold;"></div>
        </div>
    </section>

    <!-- C & D. é—œéµå­—èˆ‡ç™½è©±ç¿»è­¯ -->
    <section class="card">
        <h2>ã€ç¬¬ä¸€æ­¥ï¼šæ‹†è§£é¡Œç›®ã€‘</h2>
        <p><strong>æ‰¾é—œéµå­—ï¼š</strong><span class="highlight">å››å€‹ç¯€é»</span>ã€<span class="highlight">äºŒå…ƒæ¨¹</span>ã€<span class="highlight">é«˜åº¦ (Height)</span></p>
        
        <h3>ç™½è©±ç¿»è­¯</h3>
        <p>ã€Œçµ¦æˆ‘ 4 é¡†ç å­ä¸²æˆä¸€ä¸²è‘¡è„ï¼ˆäºŒå…ƒæ¨¹ï¼‰ï¼Œé€™ä¸²è‘¡è„<strong>æœ€æ‰</strong>å¯ä»¥å¤šæ‰ï¼Ÿ<strong>æœ€é•·</strong>å¯ä»¥å¤šé•·ï¼Ÿç®—å‡ºé€™å…©å€‹æ¥µç«¯å€¼ï¼Œä¸­é–“çš„æ•¸å­—é€šå¸¸ä¹Ÿéƒ½æœ‰å¯èƒ½ã€‚ã€</p>
        <p>æœ€å¤§çš„é™·é˜±åœ¨æ–¼ï¼š<strong>ã€Œé«˜åº¦ã€åˆ°åº•æ˜¯å¾ 0 é–‹å§‹æ•¸ï¼Œé‚„æ˜¯å¾ 1 é–‹å§‹æ•¸ï¼Ÿ</strong></p>
    </section>

    <!-- F. äº’å‹•æ ¸å¿ƒï¼šå®šç¾©åˆ‡æ›èˆ‡è¦–è¦ºåŒ– -->
    <section class="card" style="border-left-color: var(--accent-color);">
        <h2>ã€æ ¸å¿ƒè§€å¿µå¯¦é©—å®¤ã€‘é«˜åº¦å®šç¾©åˆ‡æ›</h2>
        <p>é€™é¡Œæœƒé¸ B, Cï¼Œæ˜¯å› ç‚ºå‡ºé¡Œè€…ä½¿ç”¨äº†ç‰¹å®šçš„å®šç¾©ã€‚è«‹åˆ‡æ›ä¸‹æ–¹çš„å®šç¾©ï¼Œçœ‹çœ‹æ¨¹çš„é«˜åº¦æ•¸å­—å¦‚ä½•è®ŠåŒ–ï¼</p>

        <div class="interactive-panel">
            <div class="controls">
                <label for="heightDef"><strong>è«‹é¸æ“‡é«˜åº¦å®šç¾©ï¼š</strong></label>
                <select id="heightDef" onchange="updateTrees()">
                    <option value="edges">å®šç¾© 1 (é‚Šæ•¸)ï¼šæ ¹åˆ°æœ€æ·±è‘‰å­çš„ã€Œé‚Šæ•¸ã€ (Edge Count)</option>
                    <option value="levels">å®šç¾© 2 (å±¤æ•¸)ï¼šæ¨¹å…±æœ‰å¹¾ã€Œå±¤ã€ (Level Count)</option>
                </select>
                <div id="defDescription" style="margin-top: 5px; font-size: 0.9rem; color: #555;">
                    é è¨­ï¼šHeight = 0 (æ ¹ç¯€é») åˆ°æœ€æ·±è‘‰å­çš„è·é›¢ã€‚
                </div>
            </div>

            <div class="status-msg" id="matchStatus">
                <!-- Javascript will update this -->
            </div>

            <div class="tree-display">
                <!-- Case 1: Min Height -->
                <div class="tree-case">
                    <h3>æƒ…æ³ä¸€ï¼šæœ€çŸ® (æ¥è¿‘å¹³è¡¡)</h3>
                    <svg id="svgMin" viewBox="0 0 200 200">
                        <!-- Content drawn by JS -->
                    </svg>
                    <div id="labelMin" class="height-badge">é«˜åº¦ï¼š?</div>
                    <p style="font-size:0.85rem;">ç›¡é‡å¡«æ»¿ï¼Œä¸è¦é•·é«˜</p>
                </div>

                <!-- Case 2: Max Height -->
                <div class="tree-case">
                    <h3>æƒ…æ³äºŒï¼šæœ€é«˜ (é€€åŒ–æˆéˆ)</h3>
                    <svg id="svgMax" viewBox="0 0 200 200">
                        <!-- Content drawn by JS -->
                    </svg>
                    <div id="labelMax" class="height-badge">é«˜åº¦ï¼š?</div>
                    <p style="font-size:0.85rem;">è®Šæˆä¸€ç›´ç·š (Linked List)</p>
                </div>
            </div>
        </div>
    </section>

    <!-- E & G. è§£é¡Œæ€è·¯èˆ‡é¸é …åˆ†æ -->
    <section class="card">
        <h2>ã€è§£é¡Œæ€è·¯èˆ‡é¸é …åˆ†æã€‘</h2>
        <p>æˆ‘å€‘æœ‰ 4 å€‹ç¯€é» ($N=4$)ã€‚</p>
        
        <h3>1. æ‰¾æœ€å°é«˜åº¦ (Min Height)</h3>
        <p>è¦è®“æ¨¹æœ€çŸ®ï¼Œå°±æ˜¯è¦æŠŠç¯€é»å¡æ»¿æ¯ä¸€å±¤ï¼ˆComplete Binary Treeï¼‰ã€‚</p>
        <ul>
            <li>ç¬¬ 1 å±¤ï¼š1 å€‹ (æ ¹)</li>
            <li>ç¬¬ 2 å±¤ï¼š2 å€‹ (æ»¿äº†)</li>
            <li>ç¬¬ 3 å±¤ï¼šé‚„å‰© 1 å€‹ (4 - 1 - 2 = 1)</li>
        </ul>
        <p>æ‰€ä»¥æ¨¹ä¸€å®šæœƒé•·åˆ°<strong>ç¬¬ 3 å±¤</strong>ã€‚</p>
        <ul>
            <li>è‹¥é«˜åº¦å®šç¾©ç‚ºã€Œé‚Šæ•¸ã€ï¼šé«˜åº¦ = $3 - 1 = 2$ <span class="tag">å°æ‡‰é¸é … B</span></li>
            <li>è‹¥é«˜åº¦å®šç¾©ç‚ºã€Œå±¤æ•¸ã€ï¼šé«˜åº¦ = $3$ <span class="tag">å°æ‡‰é¸é … C</span></li>
        </ul>

        <h3>2. æ‰¾æœ€å¤§é«˜åº¦ (Max Height)</h3>
        <p>è¦è®“æ¨¹æœ€é«˜ï¼Œå°±æ˜¯æ¯å€‹ç¯€é»éƒ½åªæœ‰ä¸€å€‹å°å­©ï¼ˆé€€åŒ–æˆä¸€ç›´ç·š/éˆç‹€ï¼‰ã€‚</p>
        <ul>
            <li>4 å€‹ç¯€é»æ’æˆä¸€åˆ—ï¼Œæœƒæœ‰ 4 å±¤ã€‚</li>
        </ul>
        <ul>
            <li>è‹¥é«˜åº¦å®šç¾©ç‚ºã€Œé‚Šæ•¸ã€ï¼šé«˜åº¦ = $4 - 1 = 3$ <span class="tag">å°æ‡‰é¸é … C</span></li>
            <li>è‹¥é«˜åº¦å®šç¾©ç‚ºã€Œå±¤æ•¸ã€ï¼šé«˜åº¦ = $4$ <span class="tag">å°æ‡‰é¸é … D</span></li>
        </ul>

        <h3>3. çµè«–</h3>
        <table border="1" cellpadding="5" style="border-collapse: collapse; width: 100%; text-align: center;">
            <tr style="background: #eee;">
                <th>å®šç¾©</th>
                <th>æœ€å°é«˜åº¦ (Min)</th>
                <th>æœ€å¤§é«˜åº¦ (Max)</th>
                <th>å¯èƒ½å€é–“</th>
                <th>å°æ‡‰é¸é …</th>
            </tr>
            <tr>
                <td><strong>é‚Šæ•¸ (Edges)</strong></td>
                <td>2</td>
                <td>3</td>
                <td>2, 3</td>
                <td style="color: var(--accent-color); font-weight: bold;">(B), (C) âœ…</td>
            </tr>
            <tr>
                <td>å±¤æ•¸ (Levels)</td>
                <td>3</td>
                <td>4</td>
                <td>3, 4</td>
                <td>(C), (D)</td>
            </tr>
        </table>
        <p style="margin-top: 10px;">
            é¡Œç›®ç­”æ¡ˆçµ¦ <strong>B, C</strong>ï¼Œé€™è­‰æ˜äº†æœ¬é¡Œæ¡ç”¨çš„æ˜¯<strong>ã€Œé‚Šæ•¸ã€</strong>å®šç¾©ã€‚
            <br>
            <small>* æ³¨æ„ï¼šé¸é … (A) 1 åœ¨ 4 å€‹ç¯€é»çš„æƒ…æ³ä¸‹æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ç‚º $2^1 + 1$ æœ€å¤šåªèƒ½æ”¾ 3 å€‹ç¯€é» (è‹¥é«˜ç‚ºé‚Šæ•¸1) æˆ– 1å€‹ç¯€é» (è‹¥é«˜ç‚ºå±¤æ•¸1)ã€‚</small>
        </p>
    </section>

    <!-- I & J & K. è§€å¿µè£œå……èˆ‡é™·é˜± -->
    <section class="card">
        <h2>ã€è§€å¿µè£œå……èˆ‡é¿å‘æŒ‡å—ã€‘</h2>
        
        <h3>é‡è¦åè©</h3>
        <ul>
            <li><strong>Height (æ¨¹é«˜)ï¼š</strong> æœ‰å…©ç¨®å¸¸è¦‹å®šç¾©ã€‚
                <ul>
                    <li>å®šç¾© Aï¼š$\text{Height} = \text{max level}$ (å±¤æ•¸)ã€‚</li>
                    <li>å®šç¾© Bï¼š$\text{Height} = \text{depth of deepest node}$ (å¾æ ¹èµ°åˆ°æœ€æ·±è‘‰å­ç¶“éå¹¾æ¢é‚Š)ã€‚<br><strong>ğŸ‘‰ è€ƒè©¦æŠ€å·§ï¼šè‹¥ç®—å‡ºä¾†ç­”æ¡ˆé¸é …è£¡æ²’æœ‰ï¼Œå°±æ›å¦ä¸€å€‹å®šç¾©è©¦è©¦çœ‹ï¼</strong></li>
                </ul>
            </li>
            <li><strong>Degenerate Tree (é€€åŒ–æ¨¹)ï¼š</strong> æ¯å€‹ç¯€é»éƒ½åªæœ‰ä¸€å€‹å­ç¯€é»ï¼Œå½¢ç‹€åƒ Linked Listï¼Œé«˜åº¦æœ€å¤§ã€‚</li>
        </ul>

        <h3>è¨˜æ†¶å£è¨£</h3>
        <blockquote style="background: #f9f9f9; padding: 10px; border-left: 4px solid var(--accent-color);">
            ã€Œå››é»æˆæ¨¹ï¼Œæœ€çŸ®å…©æ¢ç·šï¼Œæœ€é«˜ä¸‰æ¢ç·šã€‚ã€(é‡å°é‚Šæ•¸å®šç¾©)
        </blockquote>

        <h3>è‡ªæˆ‘æª¢æ¸¬ (ä¸è¨˜åˆ†)</h3>
        <p>å¦‚æœæ˜¯ <strong>5 å€‹ç¯€é»</strong>ï¼Œé‚Šæ•¸å®šç¾©ä¸‹ï¼Œé«˜åº¦å¯èƒ½æ˜¯å¤šå°‘ï¼Ÿ</p>
        <button class="btn btn-toggle" onclick="document.getElementById('quiz2-ans').style.display='block'">é¡¯ç¤ºç­”æ¡ˆ</button>
        <div id="quiz2-ans" style="display:none; margin-top:10px;">
            <ul>
                <li>æœ€å°ï¼š$\lfloor \log_2 5 \rfloor = 2$ (å…¶å¯¦æ˜¯ $2.xxx \to 3$ å±¤ $\to 2$ é‚Š) ... ç­‰ç­‰ï¼Œç¬¬1å±¤1ï¼Œç¬¬2å±¤2ï¼Œç¬¬3å±¤2(å…±5å€‹)ï¼Œæ‰€ä»¥æ˜¯3å±¤(2é‚Š)ã€‚ç¢ºå¯¦æœ€çŸ®æ˜¯ 2ã€‚</li>
                <li>æœ€å¤§ï¼š$5 - 1 = 4$ (ä¸€æ¢ç·š)ã€‚</li>
                <li>å¯èƒ½å€¼ï¼š2, 3, 4ã€‚</li>
            </ul>
        </div>
    </section>

</div>

<script>
    // å®šç¾©ç•«å¸ƒèˆ‡åƒæ•¸
    const svgMin = document.getElementById('svgMin');
    const svgMax = document.getElementById('svgMax');
    const labelMin = document.getElementById('labelMin');
    const labelMax = document.getElementById('labelMax');
    const matchStatus = document.getElementById('matchStatus');
    const defDesc = document.getElementById('defDescription');

    // æ¨¹çš„çµæ§‹æ•¸æ“š (4 Nodes)
    // åº§æ¨™ç³»çµ±: 200x200
    
    // æœ€å°é«˜åº¦ (Balanced-ish): Root(100,40), L(60,90), R(140,90), LL(40,140)
    // é€™æ˜¯ä¸€å€‹ 3 å±¤çš„æ¨¹
    const treeMin = {
        nodes: [
            {x: 100, y: 40, id: 'Root'},
            {x: 60, y: 90, id: 'L'},
            {x: 140, y: 90, id: 'R'},
            {x: 40, y: 140, id: 'LL'}
        ],
        edges: [
            [0, 1], [0, 2], [1, 3]
        ]
    };

    // æœ€å¤§é«˜åº¦ (Skewed): Root(100,30), L(100,70), LL(100,110), LLL(100,150)
    // é€™æ˜¯ä¸€å€‹ 4 å±¤çš„æ¨¹
    const treeMax = {
        nodes: [
            {x: 100, y: 30, id: 'Root'},
            {x: 100, y: 75, id: 'A'},
            {x: 100, y: 120, id: 'B'},
            {x: 100, y: 165, id: 'C'}
        ],
        edges: [
            [0, 1], [1, 2], [2, 3]
        ]
    };

    function drawTree(svgElement, treeData) {
        let html = '';
        // ç•«ç·š
        treeData.edges.forEach(edge => {
            const n1 = treeData.nodes[edge[0]];
            const n2 = treeData.nodes[edge[1]];
            html += `<line x1="${n1.x}" y1="${n1.y}" x2="${n2.x}" y2="${n2.y}" class="edge" />`;
        });
        // ç•«é»
        treeData.nodes.forEach((node, index) => {
            html += `<circle cx="${node.x}" cy="${node.y}" r="12" class="node" />`;
            html += `<text x="${node.x}" y="${node.y + 1}" class="node-text">${index+1}</text>`;
        });
        svgElement.innerHTML = html;
    }

    function updateTrees() {
        const def = document.getElementById('heightDef').value;
        
        // ç¹ªè£½æ¨¹ (å½¢ç‹€ä¸è®Šï¼Œè®Šçš„æ˜¯è§£é‡‹)
        drawTree(svgMin, treeMin);
        drawTree(svgMax, treeMax);

        let minH, maxH, possibleValues, matchText;

        if (def === 'edges') {
            // å®šç¾©ï¼šé‚Šæ•¸
            // Min Tree: Root->L->LL (2 edges)
            minH = 2;
            // Max Tree: Root->A->B->C (3 edges)
            maxH = 3;
            possibleValues = "2, 3";
            matchText = "âœ… å»åˆï¼æ­¤å®šç¾©ä¸‹çš„å¯èƒ½å€¼ (2, 3) å°æ‡‰é¸é … (B), (C)ã€‚é€™æ˜¯æœ¬é¡Œçš„æ­£è§£é‚è¼¯ã€‚";
            defDesc.innerHTML = "å®šç¾©ï¼šå¾æ ¹ç¯€é»èµ°åˆ°æœ€æ·±è‘‰å­ç¶“éçš„ã€Œé‚Š(Edge)çš„æ•¸é‡ã€ã€‚(Root é«˜åº¦ç‚º 0)";
            
            // æ›´æ–°ç‹€æ…‹æ¨£å¼
            matchStatus.style.backgroundColor = "#d4efdf"; // Greenish
            matchStatus.style.color = "#145a32";
        } else {
            // å®šç¾©ï¼šå±¤æ•¸
            // Min Tree: 3 levels
            minH = 3;
            // Max Tree: 4 levels
            maxH = 4;
            possibleValues = "3, 4";
            matchText = "âš ï¸ ä¸å®Œå…¨å»åˆã€‚æ­¤å®šç¾©ä¸‹çš„å¯èƒ½å€¼ (3, 4) å°æ‡‰é¸é … (C), (D)ã€‚ä½†é¡Œç›®æ¨™æº–ç­”æ¡ˆæ²’é¸ Dã€‚";
            defDesc.innerHTML = "å®šç¾©ï¼šæ¨¹å…±æœ‰å¹¾å±¤ (Level)ã€‚(Root åœ¨ç¬¬ 1 å±¤)";
            
            // æ›´æ–°ç‹€æ…‹æ¨£å¼
            matchStatus.style.backgroundColor = "#fcf3cf"; // Yellowish
            matchStatus.style.color = "#7d6608";
        }

        labelMin.textContent = `é«˜åº¦ï¼š${minH}`;
        labelMax.textContent = `é«˜åº¦ï¼š${maxH}`;
        matchStatus.innerHTML = `<strong>${matchText}</strong><br>åœ¨æ­¤å®šç¾©ä¸‹ï¼Œ4 ç¯€é»é«˜åº¦ç¯„åœï¼š[${minH}, ${maxH}]`;
    }

    // é¡Œç›®æª¢æŸ¥é‚è¼¯
    function checkAnswer() {
        const checkboxes = document.querySelectorAll('input[name="opt"]:checked');
        const userAnswers = Array.from(checkboxes).map(cb => cb.value).sort();
        const feedback = document.getElementById('userFeedback');
        
        if (userAnswers.length === 0) {
            feedback.textContent = "è«‹å…ˆé¸æ“‡é¸é …ï¼";
            feedback.style.color = "red";
            return;
        }

        // æ­£è§£ B, C
        const isCorrect = JSON.stringify(userAnswers) === JSON.stringify(['B', 'C']);

        if (isCorrect) {
            feedback.innerHTML = "ğŸ‰ <strong>ç­”å°äº†ï¼</strong> 4 ç¯€é»äºŒå…ƒæ¨¹åœ¨ã€Œé‚Šæ•¸ã€å®šç¾©ä¸‹ï¼Œé«˜åº¦å¯èƒ½æ˜¯ 2 æˆ– 3ã€‚";
            feedback.style.color = "var(--success-color)";
        } else {
            feedback.innerHTML = `âŒ <strong>ç­”éŒ¯å›‰</strong>ã€‚ä½ é¸äº† ${userAnswers.join(', ')}ã€‚<br>æç¤ºï¼šæ€è€ƒä¸€ä¸‹æœ€çŸ®èˆ‡æœ€é«˜çš„æƒ…æ³ (Edge count)ã€‚`;
            feedback.style.color = "var(--accent-color)";
        }
    }

    function toggleAnswer() {
        const div = document.getElementById('officialAnswer');
        if (div.style.display === 'none' || div.style.display === '') {
            div.style.display = 'block';
        } else {
            div.style.display = 'none';
        }
    }

    // åˆå§‹åŒ–
    window.onload = function() {
        updateTrees();
    };
</script>

</body>
</html>