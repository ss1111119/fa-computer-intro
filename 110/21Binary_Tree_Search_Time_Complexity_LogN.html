<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»è…¦æ¦‚è«–ï¼šäºŒå…ƒæ¨¹æœå°‹èˆ‡æ™‚é–“è¤‡é›œåº¦</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #333; /* ä¸»è¦æ–‡å­—é»‘ */
            --secondary-color: #666; /* æ¬¡è¦æ–‡å­—ç° */
            --highlight-bg: #fff9c4; /* è¢å…‰ç­†é»ƒ */
            --accent-blue: #007bff; /* æŒ‰éˆ•è— */
            --bg-color: #f9f9f9; /* èƒŒæ™¯ç°ç™½ */
            --card-bg: #ffffff; /* å¡ç‰‡ç™½ */
            --correct-color: #d4edda; /* æ­£ç¢ºç¶ åº• */
            --correct-text: #155724; /* æ­£ç¢ºç¶ å­— */
            --wrong-color: #f8d7da; /* éŒ¯èª¤ç´…åº• */
            --wrong-text: #721c24; /* éŒ¯èª¤ç´…å­— */
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        /* --- å®¹å™¨èˆ‡ç‰ˆé¢ --- */
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        /* --- æ¨™é¡Œå€ --- */
        header {
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
            padding-bottom: 10px;
            text-align: center;
        }

        h1 {
            font-size: 1.5rem;
            margin: 0;
            color: #2c3e50;
        }

        h2 {
            font-size: 1.2rem;
            color: #555;
            margin-top: 10px;
            border-left: 5px solid var(--accent-blue);
            padding-left: 10px;
        }

        /* --- é¡Œç›®å€ --- */
        .question-box {
            background-color: #fff;
            border: 2px solid #333;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .options {
            list-style: none;
            padding: 0;
            margin-top: 10px;
        }

        .options li {
            margin: 5px 0;
        }

        .answer-reveal {
            margin-top: 10px;
            color: var(--secondary-color);
            cursor: pointer;
            font-weight: normal;
        }

        /* --- æ•™å­¸æ­¥é©Ÿå€å¡Š --- */
        .step-section {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
        }

        .highlight {
            background-color: var(--highlight-bg);
            padding: 0 4px;
            border-radius: 2px;
            font-weight: bold;
        }

        /* --- è¦–è¦ºåŒ–äº’å‹•å€ (é‡é») --- */
        .visualizer-container {
            background: #fafafa;
            border: 2px dashed #ccc;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .controls {
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            align-items: center;
        }

        .canvas-wrapper {
            width: 100%;
            height: 250px;
            border: 1px solid #ddd;
            background: #fff;
            position: relative;
            margin-top: 10px;
            border-radius: 4px;
        }

        canvas {
            width: 100%;
            height: 100%;
        }

        .data-display {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
            font-weight: bold;
            color: var(--accent-blue);
        }

        input[type=range] {
            width: 200px;
        }

        /* --- ä½œç­”äº’å‹•å€ --- */
        .quiz-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .quiz-btn {
            padding: 15px;
            background: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
            text-align: left;
        }

        .quiz-btn:hover {
            background: #e0e0e0;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }

        .feedback.correct {
            display: block;
            background: var(--correct-color);
            color: var(--correct-text);
            border: 1px solid #c3e6cb;
        }

        .feedback.wrong {
            display: block;
            background: var(--wrong-color);
            color: var(--wrong-text);
            border: 1px solid #f5c6cb;
        }

        /* --- è£œå……è³‡æ–™å€ --- */
        .info-card {
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            padding: 15px;
            margin-top: 20px;
        }

        .tips {
            color: #d63384;
            font-weight: bold;
        }

        /* RWD Mobile èª¿æ•´ */
        @media (max-width: 600px) {
            .quiz-area {
                grid-template-columns: 1fr;
            }
            .container {
                padding: 15px;
            }
            .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- A. æ¨™é¡Œå€ -->
    <header>
        <h1>é›»è…¦æ¦‚è«–é‡é»è¤‡ç¿’</h1>
        <p>å–®å…ƒï¼šè³‡æ–™çµæ§‹ - äºŒå…ƒæ¨¹æœå°‹</p>
    </header>

    <!-- B. é¡Œç›®å€ -->
    <section class="question-box">
        <div>21. åœ¨æœ‰ N å€‹ç¯€é»çš„äºŒå…ƒæ¨¹ä¸­ä½œæœå°‹çš„é‹ç®—ï¼Œå…¶åŸ·è¡Œæ™‚é–“è·Ÿä½•è€…æˆæ­£æ¯”?</div>
        <ul class="options">
            <li>(A) N</li>
            <li>(B) log N</li>
            <li>(C) N<sup>2</sup></li>
            <li>(D) N log N</li>
        </ul>
        
        <details>
            <summary class="answer-reveal">é»æ“ŠæŸ¥çœ‹ç­”æ¡ˆ</summary>
            <div style="margin-top: 10px; color: green; font-weight: bold;">ç­”æ¡ˆï¼šB</div>
        </details>
    </section>

    <!-- C. ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­— -->
    <section class="step-section">
        <h2>ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­—</h2>
        <p>è«‹æ‹¿å‡ºä½ çš„è¢å…‰ç­†ï¼Œå°‡ä»¥ä¸‹è©å½™ç•«èµ·ä¾†ï¼š</p>
        <p>
            ã€Œ<span class="highlight">N å€‹ç¯€é»</span>ã€
            ã€Œ<span class="highlight">äºŒå…ƒæ¨¹</span>ã€
            ã€Œ<span class="highlight">æœå°‹</span>ã€
            ã€Œ<span class="highlight">æˆæ­£æ¯”</span>ã€
        </p>
        <p style="font-size: 0.9em; color: #666;">
            ğŸ’¡ <strong>è€å¸«è§£æ</strong>ï¼šé¡Œç›®å•ã€Œæˆæ­£æ¯”ã€ï¼Œå…¶å¯¦å°±æ˜¯åœ¨è€ƒ <strong>Time Complexityï¼ˆæ™‚é–“è¤‡é›œåº¦ï¼šè³‡æ–™é‡è®Šå¤§æ™‚ï¼ŒèŠ±æ™‚é–“è®Šå¤šçš„é€Ÿåº¦ï¼‰</strong> çš„å¤§æ–¹å‘ï¼ˆBig Oï¼‰ã€‚
        </p>
    </section>

    <!-- D. ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯ -->
    <section class="step-section">
        <h2>ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯</h2>
        <p>é€™é¡Œå¦‚æœç”¨ç™½è©±æ–‡å•ï¼Œæ„æ€æ˜¯ï¼š</p>
        <div style="background: #eef; padding: 10px; border-radius: 5px;">
            ã€Œå¦‚æœä¸€æ£µæ¨¹æœ‰ N å€‹è³‡æ–™é»ï¼Œæˆ‘æƒ³æ‰¾åˆ°æŸä¸€å€‹ç‰¹å®šçš„æ•¸å­—ï¼Œå¤§æ¦‚éœ€è¦æª¢æŸ¥å¹¾æ¬¡ï¼Ÿé€™å€‹æ¬¡æ•¸è·Ÿ N çš„é—œä¿‚ï¼Œæ¯”è¼ƒåƒ N é‚„æ˜¯ log Nï¼Ÿã€
        </div>
    </section>

    <!-- E. ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯ -->
    <section class="step-section">
        <h2>ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯</h2>
        <ul>
            <li><strong>è§€å¿µé€£çµï¼š</strong> æ¨¹çš„æœå°‹æ¬¡æ•¸ï¼Œé€šå¸¸å–æ±ºæ–¼æ¨¹çš„ <strong>Heightï¼ˆé«˜åº¦ï¼šå¾æ¨¹æ ¹èµ°åˆ°æœ€åº•å±¤è‘‰å­çš„å±¤æ•¸ï¼‰</strong>ã€‚</li>
            <li><strong>äºŒå…ƒæ¨¹ç‰¹æ€§ï¼š</strong> 
                <br>æ¯å€‹ç¯€é»æœ€å¤šç”Ÿ 2 å€‹å­©å­ã€‚
                <br>ç¬¬ 1 å±¤ï¼š1 å€‹
                <br>ç¬¬ 2 å±¤ï¼š2 å€‹
                <br>ç¬¬ 3 å±¤ï¼š4 å€‹
                <br>...
                <br>æ¯æ¬¡å¾€ä¸‹æ‰¾ä¸€å±¤ï¼Œè³‡æ–™ç¯„åœå°±ç¸®å°ä¸€åŠï¼ˆé¡ä¼¼ã€Œçµ‚æ¥µå¯†ç¢¼ã€çŒœæ•¸å­—ï¼‰ã€‚
            </li>
            <li><strong>æ•¸å­¸é—œä¿‚ï¼š</strong> å¦‚æœæ¨¹æœ‰ $N$ å€‹ç¯€é»ä¸”é•·å¾—å¾ˆã€Œé£½æ»¿ã€ï¼Œé«˜åº¦å¤§ç´„æ˜¯ $\log_2 N$ã€‚</li>
            <li><strong>çµè«–ï¼š</strong> å› ç‚ºæœå°‹å°±æ˜¯æ²¿è‘—æ¨¹é«˜å¾€ä¸‹èµ°ï¼Œæ‰€ä»¥æ­¥æ•¸èˆ‡é«˜åº¦æˆæ­£æ¯”ï¼Œå³ $\log N$ã€‚</li>
        </ul>
    </section>

    <!-- F. äº’å‹•è¦–è¦ºåŒ–ï¼šæ¨¹é«˜åº¦èˆ‡æœå°‹æ­¥æ•¸ -->
    <section class="step-section visualizer-container">
        <h2 style="border:none; margin-top:0;">F. äº’å‹•å¯¦é©—å®¤ï¼šé«˜åº¦ vs æ­¥æ•¸</h2>
        
        <div class="controls">
            <div>
                <label for="nSlider">ç¯€é»æ•¸é‡ (N)ï¼š<span id="nValueDisplay">16</span></label>
                <br>
                <input type="range" id="nSlider" min="2" max="1024" value="16">
            </div>
            
            <div style="text-align: left;">
                <label><input type="radio" name="treeMode" value="balanced" checked> å¹³è¡¡æ¨¹ (Balanced)</label>
                <br>
                <label><input type="radio" name="treeMode" value="degenerate"> é€€åŒ–æ¨¹ (Degenerate)</label>
            </div>
        </div>

        <div class="canvas-wrapper">
            <canvas id="treeCanvas"></canvas>
        </div>

        <div class="data-display">
            <div>é ä¼°æ¨¹é«˜ (æ­¥æ•¸)ï¼š<span id="heightDisplay">4</span></div>
            <div>æ™‚é–“è¤‡é›œåº¦ï¼š<span id="complexityDisplay">O(log N)</span></div>
        </div>
        <p style="font-size: 0.8em; color: #888; margin-top: 5px;">*ç¤ºæ„åœ–åƒ…å‘ˆç¾æ¨¹çš„å½¢ç‹€è¶¨å‹¢ï¼ŒéçœŸå¯¦ 1024 å€‹é»</p>
    </section>

    <!-- G. é¸é …åˆ†æ -->
    <section class="step-section">
        <h2>ç¬¬å››æ­¥ï¼šé¸é …å¤§è§£å‰–</h2>
        <ul style="list-style-type: none; padding-left: 0;">
            <li style="margin-bottom: 10px;">
                âŒ <strong>(A) N</strong><br>
                é€™æ˜¯åœ¨ã€Œé€€åŒ–æˆä¸€æ¢ç·šã€æˆ–ã€Œé™£åˆ—ç·šæ€§æœå°‹ã€æ™‚çš„æœ€å·®æƒ…æ³ã€‚ä½†é¡Œç›®å•ã€ŒäºŒå…ƒæ¨¹æœå°‹ã€æ™‚ï¼Œé€šå¸¸é è¨­æŒ‡æœ‰æ•ˆç‡çš„ç‹€æ…‹ï¼ˆæˆ–æŒ‡ BSTï¼‰ï¼Œæˆ–æ˜¯å•å¹³å‡æƒ…æ³ã€‚
            </li>
            <li style="margin-bottom: 10px; background: #e8f5e9; padding: 5px; border-radius: 4px;">
                âœ… <strong>(B) log N</strong><br>
                é€™æ˜¯ <strong>Balanced Binary Treeï¼ˆå¹³è¡¡äºŒå…ƒæ¨¹ï¼šå·¦å³å­æ¨¹é«˜åº¦å·®å¾ˆå°ï¼‰</strong> çš„ç‰¹å¾µã€‚å› ç‚º $2^{\text{height}} \approx N$ï¼Œæ‰€ä»¥ $\text{height} \approx \log_2 N$ã€‚
            </li>
            <li style="margin-bottom: 10px;">
                âŒ <strong>(C) N<sup>2</sup></strong><br>
                é€™æ˜¯ã€Œé›™å±¤è¿´åœˆã€æˆ–ã€Œæ°£æ³¡æ’åºæ³•ã€çš„ç­‰ç´šï¼Œæœå°‹ä¸æœƒé€™éº¼æ…¢ã€‚
            </li>
            <li style="margin-bottom: 10px;">
                âŒ <strong>(D) N log N</strong><br>
                é€™æ˜¯ã€Œå¿«é€Ÿæ’åº Quick Sortã€æˆ–ã€Œåˆä½µæ’åº Merge Sortã€çš„å¹³å‡è¤‡é›œåº¦ï¼Œä¸æ˜¯å–®ç´”æœå°‹ä¸€å€‹å€¼ã€‚
            </li>
        </ul>
    </section>

    <!-- H, I, J è§€å¿µè£œå……å€ -->
    <section class="info-card">
        <h3>ğŸ“š è€ƒå‰é€Ÿè¨˜éŒ¦å›Š</h3>
        
        <h4>è§€å¿µå®šç¾©</h4>
        <ul>
            <li><strong>Balancedï¼ˆå¹³è¡¡ï¼‰ï¼š</strong> æ¨¹é•·å¾—èƒ–èƒ–çš„ï¼Œå±¤æ•¸æœ€å°‘ï¼Œæ•ˆç‡æœ€å¥½ã€‚</li>
            <li><strong>Degenerateï¼ˆé€€åŒ–ï¼‰ï¼š</strong> æ¨¹é•·å¾—åƒä¸€æ¢ç·šï¼ˆåªæœ‰å³è…³æˆ–å·¦è…³ï¼‰ï¼Œæ•ˆç‡æœ€å·®ï¼ˆè®Šå› O(N)ï¼‰ã€‚</li>
        </ul>

        <h4>è¨˜æ†¶å£è¨£</h4>
        <p class="tips">ã€ŒäºŒå…ƒæ¨¹åˆ‡ä¸€åŠï¼Œæ¬¡æ•¸å°±æ˜¯ Log (å°æ•¸) ç®—ï¼ã€</p>

        <h4>å¸¸è¦‹é™·é˜± âš ï¸</h4>
        <ul>
            <li>å¦‚æœé¡Œç›®å•ã€Œæœ€å·®æƒ…æ³ (Worst Case)ã€ï¼Œç­”æ¡ˆè¦é¸ (A) Nã€‚ä½†è‹¥æ²’ç‰¹åˆ¥è¬›ï¼Œä¸€èˆ¬äºŒå…ƒæœå°‹æ¨¹ç›¸é—œé¡Œç›®å¤šæŒ‡ O(log N) çš„å„ªå‹¢ã€‚</li>
            <li>ä¸è¦æŠŠã€Œæœå°‹ã€è·Ÿã€Œæ’åº (N log N)ã€ææ··ã€‚</li>
        </ul>
    </section>

    <!-- K. ä½œç­”äº’å‹•å€ -->
    <section class="step-section" style="border: 2px solid var(--accent-blue);">
        <h2>K. å¯¦æˆ°æ¼”ç·´</h2>
        <p>21. åœ¨æœ‰ N å€‹ç¯€é»çš„äºŒå…ƒæ¨¹ä¸­ä½œæœå°‹çš„é‹ç®—ï¼Œå…¶åŸ·è¡Œæ™‚é–“è·Ÿä½•è€…æˆæ­£æ¯”?</p>
        <div class="quiz-area">
            <button class="quiz-btn" onclick="checkAnswer('A')">(A) N</button>
            <button class="quiz-btn" onclick="checkAnswer('B')">(B) log N</button>
            <button class="quiz-btn" onclick="checkAnswer('C')">(C) N<sup>2</sup></button>
            <button class="quiz-btn" onclick="checkAnswer('D')">(D) N log N</button>
        </div>
        
        <div id="quizFeedback" class="feedback"></div>
    </section>

    <!-- M. è‡ªæˆ‘æª¢æ¸¬ -->
    <section class="step-section">
        <h2>M. è‡ªæˆ‘æª¢æ¸¬ (æƒ³ä¸€æƒ³ï¼Œä¸çœ‹ç­”æ¡ˆ)</h2>
        <ol>
            <li>å¦‚æœ N = 1024ï¼Œåœ¨å¹³è¡¡äºŒå…ƒæ¨¹ä¸­æœå°‹ï¼Œå¤§ç´„åªè¦æ‰¾å¹¾æ¬¡ï¼Ÿ(æç¤ºï¼š$2^{10}=1024$)</li>
            <li>ç‚ºä»€éº¼æˆ‘å€‘èªªã€Œéˆçµä¸²åˆ— (Linked List)ã€æœå°‹å¾ˆæ…¢ï¼Ÿå®ƒå°æ‡‰åˆ°äºŒå…ƒæ¨¹çš„å“ªç¨®å½¢ç‹€ï¼Ÿ</li>
        </ol>
    </section>

    <footer style="text-align: center; margin-top: 30px; font-size: 0.8em; color: #888;">
        &copy; 2023 äº’å‹•å¼é›»è…¦æ¦‚è«–æ•™å­¸ | Design by Frontend Teacher
    </footer>
</div>

<script>
    /* --- äº’å‹•è¦–è¦ºåŒ–é‚è¼¯ --- */
    const canvas = document.getElementById('treeCanvas');
    const ctx = canvas.getContext('2d');
    const slider = document.getElementById('nSlider');
    const nDisplay = document.getElementById('nValueDisplay');
    const heightDisplay = document.getElementById('heightDisplay');
    const complexityDisplay = document.getElementById('complexityDisplay');
    const radioButtons = document.querySelectorAll('input[name="treeMode"]');

    // åˆå§‹åŒ– Canvas å°ºå¯¸
    function resizeCanvas() {
        const wrapper = document.querySelector('.canvas-wrapper');
        canvas.width = wrapper.clientWidth;
        canvas.height = wrapper.clientHeight;
        updateVisual();
    }
    window.addEventListener('resize', resizeCanvas);

    // ç¹ªè£½æ¨¹çš„å‡½æ•¸
    function drawTree(n, mode) {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.strokeStyle = '#333';
        ctx.fillStyle = '#4CAF50'; // ç¯€é»é¡è‰²
        
        const startX = canvas.width / 2;
        const startY = 30;
        const nodeRadius = 4;
        
        if (mode === 'balanced') {
            // ç¹ªè£½å¹³è¡¡æ¨¹ (ç¤ºæ„åœ–ï¼šåªç•«å¹¾å±¤ä»£è¡¨)
            const levels = Math.min(Math.floor(Math.log2(n)), 6); // æœ€å¤šç•« 6 å±¤é¿å…å¤ªå¯†
            
            function drawBranch(x, y, level, maxLevel, spread) {
                if (level > maxLevel) return;

                // ç•«ç¯€é»
                ctx.beginPath();
                ctx.arc(x, y, nodeRadius, 0, Math.PI * 2);
                ctx.fill();

                if (level < maxLevel) {
                    const nextSpread = spread / 2;
                    const nextY = y + 35;
                    
                    // å·¦è…³
                    ctx.beginPath();
                    ctx.moveTo(x, y);
                    ctx.lineTo(x - spread, nextY);
                    ctx.stroke();
                    drawBranch(x - spread, nextY, level + 1, maxLevel, nextSpread);

                    // å³è…³
                    ctx.beginPath();
                    ctx.moveTo(x, y);
                    ctx.lineTo(x + spread, nextY);
                    ctx.stroke();
                    drawBranch(x + spread, nextY, level + 1, maxLevel, nextSpread);
                }
            }
            
            drawBranch(startX, startY, 0, levels, canvas.width / 4);
            
        } else {
            // ç¹ªè£½é€€åŒ–æ¨¹ (éˆç‹€)
            const maxNodesToDraw = Math.min(n, 10); // æœ€å¤šç•« 10 å€‹é»ç¤ºæ„
            let currentX = startX - 50; // ç¨å¾®åå·¦é–‹å§‹
            let currentY = startY;

            for (let i = 0; i < maxNodesToDraw; i++) {
                // ç•«ç¯€é»
                ctx.beginPath();
                ctx.arc(currentX, currentY, nodeRadius, 0, Math.PI * 2);
                ctx.fillStyle = '#dc3545'; // é€€åŒ–æ¨¹ç”¨ç´…è‰²è­¦ç¤º
                ctx.fill();

                if (i < maxNodesToDraw - 1) {
                    // ç•«ç·šåˆ°å³ä¸‹ (æ¨¡æ“¬åæ–œ)
                    ctx.beginPath();
                    ctx.moveTo(currentX, currentY);
                    ctx.lineTo(currentX + 15, currentY + 20);
                    ctx.stroke();
                    currentX += 15;
                    currentY += 20;
                }
            }
            // å¦‚æœ N å¾ˆå¤§ï¼Œç•«è™›ç·šç¤ºæ„
            if (n > 10) {
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(currentX, currentY);
                ctx.lineTo(currentX + 30, currentY + 40);
                ctx.stroke();
                ctx.setLineDash([]);
                ctx.font = "12px Arial";
                ctx.fillStyle = "#333";
                ctx.fillText(`... å…± ${n} å±¤`, currentX + 35, currentY + 50);
            }
        }
    }

    function updateVisual() {
        const n = parseInt(slider.value);
        nDisplay.textContent = n;
        
        // å–å¾—ç›®å‰æ¨¡å¼
        let mode = 'balanced';
        for(const rb of radioButtons) {
            if(rb.checked) mode = rb.value;
        }

        let estimatedSteps;
        let complexityText;

        if (mode === 'balanced') {
            // å¹³è¡¡ï¼šlog2(N)
            estimatedSteps = Math.floor(Math.log2(n));
            if (n === 1) estimatedSteps = 1;
            complexityText = "O(log N) - æ•ˆç‡é«˜";
            complexityDisplay.style.color = "#155724"; // ç¶ è‰²
        } else {
            // é€€åŒ–ï¼šN
            estimatedSteps = n;
            complexityText = "O(N) - æ•ˆç‡å·® (é€€åŒ–)";
            complexityDisplay.style.color = "#721c24"; // ç´…è‰²
        }

        heightDisplay.textContent = estimatedSteps;
        complexityDisplay.textContent = complexityText;

        drawTree(n, mode);
    }

    // äº‹ä»¶ç›£è½
    slider.addEventListener('input', updateVisual);
    radioButtons.forEach(btn => btn.addEventListener('change', updateVisual));

    // åˆå§‹åŒ–åŸ·è¡Œä¸€æ¬¡
    setTimeout(resizeCanvas, 100);

    /* --- è€ƒé¡Œäº’å‹•é‚è¼¯ --- */
    function checkAnswer(userChoice) {
        const feedbackEl = document.getElementById('quizFeedback');
        feedbackEl.className = 'feedback'; // é‡ç½® class
        
        if (userChoice === 'B') {
            feedbackEl.classList.add('correct');
            feedbackEl.innerHTML = `
                <h3>ğŸ‰ ç­”å°äº†ï¼</h3>
                <p><strong>æ­£ç¢ºæ€è·¯ï¼š</strong>äºŒå…ƒæ¨¹åœ¨ç†æƒ³ï¼ˆå¹³è¡¡ï¼‰ç‹€æ…‹ä¸‹ï¼Œæ¯æ¬¡æœå°‹éƒ½å¯ä»¥æ’é™¤ä¸€åŠçš„å¯èƒ½æ€§ï¼Œå°±åƒçŒœæ•¸å­—ä¸€æ¨£ï¼Œé«˜åº¦ç‚º log Nï¼Œæ‰€ä»¥æ™‚é–“è¤‡é›œåº¦èˆ‡ log N æˆæ­£æ¯”ã€‚</p>
            `;
        } else {
            feedbackEl.classList.add('wrong');
            let explanation = "";
            if(userChoice === 'A') explanation = "é€™æ˜¯ã€Œæœ€å·®æƒ…æ³ã€æˆ–ã€Œç·šæ€§æœå°‹ã€çš„è¤‡é›œåº¦ï¼Œä¸æ˜¯äºŒå…ƒæ¨¹æœå°‹çš„ä¸€èˆ¬ç‰¹å¾µã€‚";
            if(userChoice === 'C') explanation = "é€™é€šå¸¸æ˜¯å…©å±¤è¿´åœˆçš„è¤‡é›œåº¦ï¼Œæœå°‹æ²’é‚£éº¼æ…¢ã€‚";
            if(userChoice === 'D') explanation = "é€™æ˜¯é«˜æ•ˆæ’åºæ³•ï¼ˆå¦‚ Merge Sortï¼‰çš„è¤‡é›œåº¦ï¼Œä¸æ˜¯å–®ç´”æœå°‹ã€‚";

            feedbackEl.innerHTML = `
                <h3>âš ï¸ å†æƒ³ä¸€ä¸‹...</h3>
                <p>ä½ é¸äº† (${userChoice})ï¼Œä½†${explanation}</p>
                <p>æç¤ºï¼šæƒ³æƒ³çœ‹ã€Œåˆ‡ä¸€åŠã€åˆ‡ä¸€åŠã€çš„æ•¸å­¸å‡½æ•¸æ˜¯ä»€éº¼ï¼Ÿ</p>
            `;
        }
    }
</script>

</body>
</html>