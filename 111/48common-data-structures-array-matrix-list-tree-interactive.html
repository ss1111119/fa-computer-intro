<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»è…¦æ¦‚è«– - è¤‡é¸é¡Œ 48ï¼šå¸¸è¦‹è³‡æ–™çµæ§‹</title>
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --primary-color: #2563eb;    /* è£œç¿’ç­è— */
            --secondary-color: #10b981;  /* æ­£ç¢ºç¶  */
            --danger-color: #ef4444;     /* éŒ¯èª¤ç´… */
            --bg-color: #f3f4f6;         /* æ·ºç°åº• */
            --card-bg: #ffffff;
            --text-main: #1f2937;
            --text-sub: #6b7280;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 50px;
        }

        /* --- æ¨™é¡Œå€ --- */
        header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #1e40af, #3b82f6);
            color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        h1 { margin: 0; font-size: 1.8rem; }
        .subtitle { font-size: 1rem; opacity: 0.9; margin-top: 5px; }

        /* --- å€å¡Šé€šç”¨æ¨£å¼ --- */
        .section-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border: 1px solid #e5e7eb;
        }

        h2 {
            border-left: 5px solid var(--primary-color);
            padding-left: 10px;
            font-size: 1.4rem;
            margin-top: 0;
            color: var(--text-main);
        }

        h3 { color: #374151; margin-bottom: 10px; }

        /* --- é¡Œç›®å€ --- */
        .question-box {
            background-color: #eff6ff;
            border: 2px solid #bfdbfe;
            padding: 20px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .option-list {
            list-style: none;
            padding: 0;
            margin: 15px 0;
        }

        .option-list li {
            margin-bottom: 8px;
            padding: 8px;
            background: white;
            border-radius: 6px;
        }

        /* --- æ ¸å¿ƒè§€å¿µå¼·èª¿ --- */
        .core-concept {
            background-color: #fffbeb;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 15px 0;
        }

        .highlight-red { color: #dc2626; font-weight: bold; }
        .highlight-blue { color: #2563eb; font-weight: bold; }

        /* --- äº’å‹•åŠŸèƒ½ (A)ï¼šæ‹–æ‹‰åˆ†é¡ --- */
        .drag-area {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .draggable-item {
            background: white;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 10px 15px;
            border-radius: 20px;
            cursor: move;
            font-weight: bold;
            user-select: none;
            transition: transform 0.2s;
        }

        .draggable-item:hover {
            transform: scale(1.05);
            background: var(--primary-color);
            color: white;
        }

        .drop-zone {
            margin-top: 20px;
            border: 3px dashed #9ca3af;
            border-radius: 12px;
            min-height: 120px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background-color: #f9fafb;
            transition: background 0.3s;
            position: relative;
        }
        
        .drop-zone::after {
            content: "è«‹å°‡ä¸Šæ–¹å±¬æ–¼ã€Œè³‡æ–™çµæ§‹ã€çš„å¡ç‰‡æ‹–æ›³è‡³æ­¤";
            color: #9ca3af;
            position: absolute;
            z-index: 0;
        }

        .drop-zone.active {
            background-color: #d1fae5;
            border-color: var(--secondary-color);
        }
        
        .drop-zone .draggable-item {
            z-index: 1; /* ç¢ºä¿å¡ç‰‡è“‹éæ–‡å­— */
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        /* --- äº’å‹•åŠŸèƒ½ (B)ï¼šè¤‡é¸é¡Œä½œç­” --- */
        .quiz-interface {
            margin-top: 20px;
        }
        
        .checkbox-group label {
            display: block;
            padding: 12px;
            margin-bottom: 8px;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checkbox-group label:hover {
            background-color: #f3f4f6;
            border-color: var(--primary-color);
        }

        .checkbox-group input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .quiz-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 15px;
            width: 100%;
        }

        .quiz-btn:hover { background-color: #1d4ed8; }

        .result-message {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            display: none; /* é è¨­éš±è— */
            text-align: center;
        }
        .result-success { background-color: #d1fae5; color: #065f46; }
        .result-error { background-color: #fee2e2; color: #991b1b; }

        /* --- äº’å‹•åŠŸèƒ½ (C)ï¼šç”¨é€”èˆ‡åˆ†é¡ --- */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .info-card {
            background: white;
            border: 1px solid #e5e7eb;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: transform 0.2s;
        }

        .info-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-color: var(--primary-color);
        }

        .info-detail {
            display: none;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #4b5563;
            text-align: left;
            background: #f9fafb;
            padding: 10px;
            border-radius: 5px;
        }

        /* --- äº’å‹•åŠŸèƒ½ (E)ï¼šé™·é˜±å¡ --- */
        .trap-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .trap-card {
            flex: 1;
            min-width: 250px;
            background: #fff;
            border-left: 5px solid var(--danger-color);
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
        }

        .trap-btn {
            display: block;
            margin-top: 10px;
            background: #e5e7eb;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            width: 100%;
        }
        
        .trap-btn:hover { background: #d1d5db; }

        /* --- è‡ªæˆ‘æª¢æ¸¬ --- */
        .self-check-item {
            margin-bottom: 15px;
            border-bottom: 1px dashed #e5e7eb;
            padding-bottom: 15px;
        }
        
        .hint-btn {
            background: none;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            padding: 5px 10px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
        }
        
        .hint-text {
            display: none;
            margin-top: 8px;
            color: #059669;
            font-weight: bold;
        }

        /* --- åº•éƒ¨é‡ç½® --- */
        footer {
            text-align: center;
            margin-top: 40px;
            border-top: 1px solid #e5e7eb;
            padding-top: 20px;
        }

        .reset-btn {
            background-color: #6b7280;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
        }
        .reset-btn:hover { background-color: #4b5563; }

    </style>
</head>
<body>

<div class="container">
    
    <!-- æ¨™é¡Œ -->
    <header>
        <h1>é›»è…¦æ¦‚è«– - è¤‡é¸é¡Œ 48 æ¨¡æ“¬è©¦é¡Œ</h1>
        <div class="subtitle">é«˜ä¸­è³‡è¨Šç§‘æŠ€ / APCS å…ˆä¿®è§€å¿µ</div>
    </header>

    <!-- é¡Œç›®å±•ç¤ºå€ -->
    <div class="section-card">
        <h2>ğŸ“œ é¡Œç›® 48 (å¯è¤‡é¸)</h2>
        <div class="question-box">
            <p>ç¨‹å¼è¨­è¨ˆæ™‚ï¼Œä¸‹åˆ—ä½•è€…æ˜¯å¸¸è¢«ä½¿ç”¨åˆ°çš„è³‡æ–™çµæ§‹ï¼Ÿ</p>
            <ul class="option-list">
                <li>(A) åºåˆ—ï¼ˆarrayï¼‰</li>
                <li>(B) çŸ©é™£ï¼ˆmatrixï¼‰</li>
                <li>(C) ä¸²åˆ—ï¼ˆlinked listï¼‰</li>
                <li>(D) æ¨¹ï¼ˆtreeï¼‰</li>
                <li>(E) ä¸‰è§’å½¢çµæ§‹ï¼ˆtriangleï¼‰</li>
            </ul>
        </div>
    </div>

    <!-- è§€å¿µå°å…¥ -->
    <div class="section-card">
        <h2>ğŸ’¡ æ ¸å¿ƒè§€å¿µï¼šä»€éº¼æ˜¯è³‡æ–™çµæ§‹ï¼Ÿ</h2>
        <div class="core-concept">
            <p>ğŸ‘¨â€ğŸ« <strong>è€å¸«çš„è©±ï¼š</strong> ä¸è¦æ­»èƒŒèª²æœ¬ï¼<br>
            <strong>è³‡æ–™çµæ§‹ (Data Structure)</strong> çš„ç™½è©±å®šç¾©æ˜¯ï¼šã€Œè³‡æ–™åœ¨é›»è…¦ä¸­<span class="highlight-blue">å„²å­˜</span>èˆ‡<span class="highlight-blue">çµ„ç¹”</span>çš„æ–¹å¼ã€ã€‚</p>
            <p>åªè¦èƒ½è®“ç¨‹å¼æœ‰æ•ˆç‡åœ°è™•ç†è³‡æ–™çš„ã€Œæ’æ³•ã€ï¼Œéƒ½ç®—æ˜¯è³‡æ–™çµæ§‹ã€‚</p>
            <p>ğŸ‘‰ <strong>è€ƒè©¦é—œéµï¼š</strong> é¡Œç›®å•çš„æ˜¯ã€Œå¸¸è¢«ä½¿ç”¨åˆ°çš„ã€ï¼ŒåŒ…å«<span class="highlight-red">æ‡‰ç”¨å‹çµæ§‹</span> (å¦‚ Matrix, Triangle)ï¼Œä¸åªä¾·é™æ–¼<span class="highlight-red">åŸºæœ¬å®šç¾©å‹</span> (å¦‚ Array, List)ã€‚</p>
        </div>
    </div>

    <!-- äº’å‹• Aï¼šæ‹–æ‹‰åˆ†é¡ -->
    <div class="section-card">
        <h2>ğŸ® äº’å‹•ç·´ç¿’ï¼šèª°æ˜¯è³‡æ–™çµæ§‹ï¼Ÿ</h2>
        <p>è«‹å°‡ä¸‹æ–¹ä½ èªç‚ºå±¬æ–¼ã€Œè³‡æ–™çµæ§‹ã€çš„å¡ç‰‡ï¼Œæ‹–æ›³ï¼ˆæˆ–é»æ“Šï¼‰åˆ°ä¸‹æ–¹çš„è™›ç·šæ¡†ä¸­ã€‚</p>
        
        <div class="drag-area" id="dragSource">
            <div class="draggable-item" draggable="true" id="item-A" onclick="moveItem(this)">(A) Array åºåˆ—</div>
            <div class="draggable-item" draggable="true" id="item-B" onclick="moveItem(this)">(B) Matrix çŸ©é™£</div>
            <div class="draggable-item" draggable="true" id="item-C" onclick="moveItem(this)">(C) Linked List ä¸²åˆ—</div>
            <div class="draggable-item" draggable="true" id="item-D" onclick="moveItem(this)">(D) Tree æ¨¹</div>
            <div class="draggable-item" draggable="true" id="item-E" onclick="moveItem(this)">(E) Triangle ä¸‰è§’å½¢</div>
        </div>

        <div class="drop-zone" id="dropTarget">
            <!-- æ”¾ç½®å€ -->
        </div>
        <div id="drag-feedback" class="result-message"></div>
    </div>

    <!-- è³‡æ–™çµæ§‹è©³è§£ -->
    <div class="section-card">
        <h2>ğŸ“š é¸é …æ·±åº¦è§£æ (é»æ“ŠæŸ¥çœ‹ç”¨é€”)</h2>
        <p>é»æ“Šä¸‹æ–¹å¡ç‰‡ï¼Œäº†è§£ç‚ºä»€éº¼å®ƒå€‘éƒ½æ˜¯è³‡æ–™çµæ§‹ï¼š</p>
        <div class="info-grid">
            <div class="info-card" onclick="toggleDetail('detail-a')">
                <h3>(A) Array åºåˆ—</h3>
                <div class="info-detail" id="detail-a">
                    <strong>ç™½è©±ï¼š</strong>é€£çºŒè¨˜æ†¶é«”ç©ºé–“ã€ç”¨ç´¢å¼•å­˜å–çš„æ ¼å­ã€‚<br>
                    <strong>ç”¨é€”ï¼š</strong>å„²å­˜å­¸ç”Ÿæˆç¸¾ã€ä¸€é€±ä¸ƒå¤©çš„æº«åº¦ã€‚<br>
                    <strong>åˆ¤å®šï¼š</strong>æœ€åŸºæœ¬çš„è³‡æ–™çµæ§‹ âœ…
                </div>
            </div>
            <div class="info-card" onclick="toggleDetail('detail-b')">
                <h3>(B) Matrix çŸ©é™£</h3>
                <div class="info-detail" id="detail-b">
                    <strong>ç™½è©±ï¼š</strong>äºŒç¶­ä»¥ä¸Šçš„é™£åˆ— (Row x Column)ã€‚<br>
                    <strong>ç”¨é€”ï¼š</strong>å½±åƒè™•ç†(åƒç´ )ã€AI æ¬Šé‡è¨ˆç®—ã€åœ°åœ–åº§æ¨™ã€‚<br>
                    <strong>åˆ¤å®šï¼š</strong>å¤šç¶­è³‡æ–™çµæ§‹ âœ…
                </div>
            </div>
            <div class="info-card" onclick="toggleDetail('detail-c')">
                <h3>(C) Linked List ä¸²åˆ—</h3>
                <div class="info-detail" id="detail-c">
                    <strong>ç™½è©±ï¼š</strong>åƒç«è»Šè»Šå»‚ï¼Œç”¨æŒ‡æ¨™(Pointer)ä¸²æ¥ç¯€é»ã€‚<br>
                    <strong>ç”¨é€”ï¼š</strong>è¨˜æ†¶é«”ç®¡ç†ã€éŸ³æ¨‚æ’­æ”¾æ¸…å–®(ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–)ã€‚<br>
                    <strong>åˆ¤å®šï¼š</strong>ç·šæ€§å‹•æ…‹çµæ§‹ âœ…
                </div>
            </div>
            <div class="info-card" onclick="toggleDetail('detail-d')">
                <h3>(D) Tree æ¨¹</h3>
                <div class="info-detail" id="detail-d">
                    <strong>ç™½è©±ï¼š</strong>åƒå€’éä¾†çš„æ¨¹ï¼Œæœ‰æ ¹èˆ‡åˆ†æ”¯çš„éšå±¤é—œä¿‚ã€‚<br>
                    <strong>ç”¨é€”ï¼š</strong>é›»è…¦æª”æ¡ˆç¸½ç®¡ã€ç¶²é  HTML çµæ§‹(DOM)ã€‚<br>
                    <strong>åˆ¤å®šï¼š</strong>éç·šæ€§éšå±¤çµæ§‹ âœ…
                </div>
            </div>
            <div class="info-card" onclick="toggleDetail('detail-e')">
                <h3>(E) Triangle ä¸‰è§’å½¢</h3>
                <div class="info-detail" id="detail-e">
                    <strong>ç™½è©±ï¼š</strong>ç‰¹æ®Šçš„è³‡æ–™æ’åˆ—ï¼Œå¦‚ä¸‹ä¸‰è§’çŸ©é™£æˆ–å·´æ–¯å¡ä¸‰è§’å½¢ã€‚<br>
                    <strong>ç”¨é€”ï¼š</strong>æ¼”ç®—æ³•å„ªåŒ–(çœç©ºé–“)ã€æ•¸å€¼åˆ†æã€‚<br>
                    <strong>åˆ¤å®šï¼š</strong>ç‰¹æ®Šæ‡‰ç”¨çµæ§‹ âœ…
                </div>
            </div>
        </div>
    </div>

    <!-- äº’å‹• Bï¼šè¤‡é¸é¡Œä½œç­” -->
    <div class="section-card" style="border: 2px solid var(--primary-color);">
        <h2>âœï¸ ç«‹å³æ¸¬é©—ï¼šè¤‡é¸é¡Œ 48</h2>
        <p style="color: var(--danger-color); font-weight: bold;">âš ï¸ è«‹æ³¨æ„ï¼šæœ¬é¡Œç‚ºè¤‡é¸é¡Œ (å¯èƒ½å…¨é¸)</p>
        
        <div class="quiz-interface">
            <div class="checkbox-group">
                <label><input type="checkbox" id="check-A"> (A) åºåˆ—ï¼ˆarrayï¼‰</label>
                <label><input type="checkbox" id="check-B"> (B) çŸ©é™£ï¼ˆmatrixï¼‰</label>
                <label><input type="checkbox" id="check-C"> (C) ä¸²åˆ—ï¼ˆlinked listï¼‰</label>
                <label><input type="checkbox" id="check-D"> (D) æ¨¹ï¼ˆtreeï¼‰</label>
                <label><input type="checkbox" id="check-E"> (E) ä¸‰è§’å½¢çµæ§‹ï¼ˆtriangleï¼‰</label>
            </div>
            <button class="quiz-btn" onclick="checkAnswer()">é€å‡ºç­”æ¡ˆ</button>
            <div id="quiz-result" class="result-message"></div>
        </div>
    </div>

    <!-- è€ƒè©¦é™·é˜±å€ -->
    <div class="section-card">
        <h2>ğŸ’£ å¸¸è¦‹è€ƒè©¦é™·é˜± (é»æ“Šã€Œæˆ‘æ‡‚äº†ã€æ¶ˆé™¤)</h2>
        <div class="trap-container">
            <div class="trap-card" id="trap1">
                <h3>é™·é˜± 1ï¼šåˆªå»æ³•å¿ƒæ…‹</h3>
                <p>ä»¥ç‚ºè€ƒè©¦ä¸€å®šæœƒæœ‰ä¸€å€‹éŒ¯èª¤é¸é …ï¼Œç¡¬æ˜¯è¦æ‰¾å‡ºä¸€å€‹ä¸é¸ã€‚</p>
                <button class="trap-btn" onclick="removeTrap('trap1')">æˆ‘æ‡‚äº†ï¼Œé€™é¡Œå…¨é¸ï¼</button>
            </div>
            <div class="trap-card" id="trap2">
                <h3>é™·é˜± 2ï¼šåªèƒŒèª²æœ¬ç›®éŒ„</h3>
                <p>åªé¸èª²æœ¬ç« ç¯€æ¨™é¡Œæœ‰å‡ºç¾çš„ (Array/List/Tree)ï¼Œå¿½ç•¥äº†æ‡‰ç”¨å‹çµæ§‹ã€‚</p>
                <button class="trap-btn" onclick="removeTrap('trap2')">æˆ‘æ‡‚äº†ï¼Œæ‡‰ç”¨ä¹Ÿæ˜¯çµæ§‹ï¼</button>
            </div>
            <div class="trap-card" id="trap3">
                <h3>é™·é˜± 3ï¼šçœ‹åˆ° Triangle å°±æ€•</h3>
                <p>ä»¥ç‚º Triangle åªæ˜¯å¹¾ä½•åœ–å½¢ã€‚å…¶å¯¦åœ¨ç¨‹å¼ä¸­ï¼Œå®ƒæ˜¯ä¸€ç¨®çœç©ºé–“çš„å„²å­˜æ³•ã€‚</p>
                <button class="trap-btn" onclick="removeTrap('trap3')">æˆ‘æ‡‚äº†ï¼Œå®ƒæ˜¯çµæ§‹ï¼</button>
            </div>
        </div>
    </div>

    <!-- è‡ªæˆ‘æª¢æ¸¬ -->
    <div class="section-card">
        <h2>ğŸ¤” è‡ªæˆ‘æª¢æ¸¬ (ä¸çµ¦ç­”æ¡ˆï¼Œè«‹æ€è€ƒ)</h2>
        
        <div class="self-check-item">
            <p><strong>Q1ï¼š</strong> ä»€éº¼æƒ…æ³ä¸‹ã€Œæ‰€æœ‰é¸é …éƒ½å¯èƒ½æ˜¯ç­”æ¡ˆã€ï¼Ÿ</p>
            <button class="hint-btn" onclick="showHint('hint1')">é¡¯ç¤ºæç¤º</button>
            <div id="hint1" class="hint-text">ğŸ’¡ ç•¶é¡Œç›®å•çš„æ˜¯ã€Œå»£æ³›çš„å®šç¾©ã€æˆ–ã€Œæ‡‰ç”¨å¯¦ä¾‹ã€æ™‚ï¼Œä¸è¦ä¾·é™æ–¼ç‹¹ç¾©å®šç¾©ã€‚</div>
        </div>

        <div class="self-check-item">
            <p><strong>Q2ï¼š</strong> è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•çš„é—œä¿‚æ˜¯ä»€éº¼ï¼Ÿ</p>
            <button class="hint-btn" onclick="showHint('hint2')">é¡¯ç¤ºæç¤º</button>
            <div id="hint2" class="hint-text">ğŸ’¡ è³‡æ–™çµæ§‹æ˜¯ã€Œé£Ÿæçš„æ“ºæ”¾æ–¹å¼ã€ï¼Œæ¼”ç®—æ³•æ˜¯ã€Œæ–™ç†çš„æ­¥é©Ÿã€ã€‚å…©è€…å¯†ä¸å¯åˆ†ã€‚</div>
        </div>

        <div class="self-check-item">
            <p><strong>Q3ï¼š</strong> è€ƒè©¦ä¸­å¦‚ä½•åˆ¤æ–·é¡Œç›®æ˜¯ã€Œå®šç¾©å‹ã€é‚„æ˜¯ã€Œæ‡‰ç”¨å‹ã€ï¼Ÿ</p>
            <button class="hint-btn" onclick="showHint('hint3')">é¡¯ç¤ºæç¤º</button>
            <div id="hint3" class="hint-text">ğŸ’¡ çœ‹åˆ°é—œéµå­—ã€Œå¸¸è¢«ä½¿ç”¨ã€ã€ã€Œæ‡‰ç”¨ã€ã€ã€Œå¯¦ä½œã€æ™‚ï¼Œé€šå¸¸å±¬æ–¼å»£ç¾©çš„æ‡‰ç”¨å‹é¡Œç›®ã€‚</div>
        </div>
    </div>

    <footer>
        <button class="reset-btn" onclick="resetAll()">ğŸ”„ é‡ç½®æ‰€æœ‰äº’å‹•èˆ‡ç·´ç¿’</button>
        <p style="font-size: 0.8rem; margin-top: 10px; color: #9ca3af;">Designed by é›»è…¦æ¦‚è«–åå¸«åœ˜éšŠ | HTML5 Only</p>
    </footer>

</div>

<script>
    // --- äº’å‹•åŠŸèƒ½ (A)ï¼šæ‹–æ‹‰èˆ‡é»æ“Šåˆ†é¡ ---
    const draggables = document.querySelectorAll('.draggable-item');
    const dropZone = document.getElementById('dropTarget');
    const sourceZone = document.getElementById('dragSource');
    const dragFeedback = document.getElementById('drag-feedback');
    let droppedCount = 0;

    // æ‹–æ›³äº‹ä»¶ç¶å®š
    draggables.forEach(draggable => {
        draggable.addEventListener('dragstart', () => {
            draggable.classList.add('dragging');
        });

        draggable.addEventListener('dragend', () => {
            draggable.classList.remove('dragging');
            checkDragCompletion();
        });
    });

    dropZone.addEventListener('dragover', e => {
        e.preventDefault(); // å…è¨±æ”¾ç½®
        dropZone.classList.add('active');
    });

    dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('active');
    });

    dropZone.addEventListener('drop', e => {
        e.preventDefault();
        const draggable = document.querySelector('.dragging');
        if (draggable) {
            dropZone.appendChild(draggable);
            dropZone.classList.remove('active');
            checkDragCompletion();
        }
    });

    // é»æ“Šç§»å‹• (ç‚ºäº†æ‰‹æ©Ÿç‰ˆæˆ–ä¸ç¿’æ…£æ‹–æ›³çš„å­¸ç”Ÿ)
    function moveItem(element) {
        if (element.parentElement === sourceZone) {
            dropZone.appendChild(element);
        } else {
            sourceZone.appendChild(element);
        }
        checkDragCompletion();
    }

    function checkDragCompletion() {
        const itemsInZone = dropZone.querySelectorAll('.draggable-item').length;
        droppedCount = itemsInZone;

        if (droppedCount === 5) {
            dragFeedback.style.display = 'block';
            dragFeedback.className = 'result-message result-success';
            dragFeedback.innerHTML = 'ğŸ‰ <strong>å¤ªæ£’äº†ï¼</strong> ä½ ç™¼ç¾äº†å—ï¼Ÿé€™äº”å€‹å…¨éƒ¨éƒ½æ˜¯è³‡æ–™çµæ§‹ï¼<br>æœ¬é¡Œå°±æ˜¯ã€Œå…¨é¸ã€é¡Œï¼';
        } else if (droppedCount > 0 && droppedCount < 5) {
            dragFeedback.style.display = 'none'; // æœªå®Œæˆå‰ä¸å¹²æ“¾
        } else {
            dragFeedback.style.display = 'none';
        }
    }

    // --- äº’å‹•åŠŸèƒ½ (B)ï¼šæ¸¬é©—æª¢æŸ¥ ---
    function checkAnswer() {
        const answers = {
            A: document.getElementById('check-A').checked,
            B: document.getElementById('check-B').checked,
            C: document.getElementById('check-C').checked,
            D: document.getElementById('check-D').checked,
            E: document.getElementById('check-E').checked
        };

        const resultDiv = document.getElementById('quiz-result');
        resultDiv.style.display = 'block';

        // æª¢æŸ¥æ˜¯å¦å…¨é¸
        if (answers.A && answers.B && answers.C && answers.D && answers.E) {
            resultDiv.className = 'result-message result-success';
            resultDiv.innerHTML = 'ğŸ’¯ <strong>å®Œå…¨æ­£ç¢ºï¼</strong><br>æ‰€æœ‰é¸é … (A)(B)(C)(D)(E) çš†ç‚ºå¸¸è¢«ä½¿ç”¨çš„è³‡æ–™çµæ§‹ã€‚<br>æ­å–œä½ æŒæ¡äº†ã€Œå»£ç¾©è³‡æ–™çµæ§‹ã€çš„è§€å¿µï¼';
        } else {
            resultDiv.className = 'result-message result-error';
            
            let missing = [];
            if (!answers.A) missing.push('Array');
            if (!answers.B) missing.push('Matrix');
            if (!answers.C) missing.push('Linked List');
            if (!answers.D) missing.push('Tree');
            if (!answers.E) missing.push('Triangle');

            resultDiv.innerHTML = `âŒ <strong>é‚„å·®ä¸€é»é»ï¼</strong><br>é¡Œç›®å•çš„æ˜¯ã€Œå¸¸è¢«ä½¿ç”¨ã€ï¼Œä¸è¦æ¼é¸å–”ï¼<br>ä½ æ¼æ‰äº†ï¼š${missing.join(', ')}ã€‚<br>å†è©¦è©¦çœ‹å…¨é¸ï¼`;
        }
    }

    // --- äº’å‹•åŠŸèƒ½ (C)ï¼šåˆ‡æ›è©³è§£é¡¯ç¤º ---
    function toggleDetail(id) {
        const detail = document.getElementById(id);
        if (detail.style.display === 'block') {
            detail.style.display = 'none';
        } else {
            // å…ˆé—œé–‰å…¶ä»–çš„ (Accordion æ•ˆæœ)
            document.querySelectorAll('.info-detail').forEach(el => el.style.display = 'none');
            detail.style.display = 'block';
        }
    }

    // --- äº’å‹•åŠŸèƒ½ (E)ï¼šç§»é™¤é™·é˜±å¡ ---
    function removeTrap(id) {
        const card = document.getElementById(id);
        card.style.opacity = '0';
        setTimeout(() => {
            card.style.display = 'none';
        }, 300); // ç­‰å¾…æ·¡å‡ºå‹•ç•«
    }

    // --- è‡ªæˆ‘æª¢æ¸¬æç¤º ---
    function showHint(id) {
        const hint = document.getElementById(id);
        hint.style.display = 'block';
    }

    // --- å…¨åŸŸé‡ç½® ---
    function resetAll() {
        // é‡ç½®æ‹–æ›³å€
        const draggables = document.querySelectorAll('.draggable-item');
        draggables.forEach(item => sourceZone.appendChild(item));
        document.getElementById('drag-feedback').style.display = 'none';

        // é‡ç½® Checkbox
        document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
        document.getElementById('quiz-result').style.display = 'none';

        // é‡ç½®è©³è§£
        document.querySelectorAll('.info-detail').forEach(el => el.style.display = 'none');

        // é‡ç½®é™·é˜±å¡
        const traps = document.querySelectorAll('.trap-card');
        traps.forEach(trap => {
            trap.style.display = 'block';
            trap.style.opacity = '1';
        });

        // é‡ç½®æç¤º
        document.querySelectorAll('.hint-text').forEach(hint => hint.style.display = 'none');

        // æ»¾å‹•å›é ‚éƒ¨
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>

</body>
</html>