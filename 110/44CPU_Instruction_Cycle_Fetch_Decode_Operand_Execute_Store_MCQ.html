<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»è…¦æ¦‚è«– - é¡Œè™Ÿ44 - CPU æŒ‡ä»¤é€±æœŸ</title>
    <style>
        /* * å…¨åŸŸè¨­å®š
         * ä½¿ç”¨ä¹¾æ·¨çš„ç„¡è¥¯ç·šå­—é«”ï¼Œä¸¦è¨­å®šè®Šæ•¸ä»¥ä¾¿çµ±ä¸€ç®¡ç†é¡è‰²
         */
        :root {
            --primary-color: #333;
            --accent-color: #0056b3;
            --highlight-bg: #fff9c4; /* è¢å…‰ç­†æ·¡é»ƒ */
            --bg-color: #f4f4f4;
            --card-bg: #ffffff;
            --border-color: #ddd;
            --success-color: #28a745;
            --error-color: #dc3545;
            --step-active: #e3f2fd;
            --step-active-border: #2196f3;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            line-height: 1.6;
            color: var(--primary-color);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* å¡ç‰‡å¼è¨­è¨ˆ */
        .section-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border: 1px solid var(--border-color);
        }

        h1, h2, h3 {
            margin-top: 0;
            color: #2c3e50;
        }

        h1 {
            font-size: 1.5rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
        }

        h2 {
            font-size: 1.2rem;
            background-color: #eee;
            padding: 8px;
            border-left: 5px solid var(--accent-color);
            margin-bottom: 15px;
        }

        h3 {
            font-size: 1.1rem;
            color: #555;
            margin-top: 15px;
        }

        /* å¼·èª¿æ–‡å­—èˆ‡è¢å…‰ç­†æ•ˆæœ */
        .highlight {
            background-color: var(--highlight-bg);
            padding: 0 4px;
            border-radius: 3px;
            font-weight: bold;
        }

        .important {
            color: #d32f2f;
            font-weight: bold;
        }

        /* é¡Œç›®å€åŸŸ */
        .question-box {
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        .options-list {
            list-style-type: none;
            padding-left: 0;
            margin-top: 10px;
        }

        .options-list li {
            margin-bottom: 5px;
            padding: 5px 10px;
            background-color: #fafafa;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn {
            display: inline-block;
            padding: 8px 16px;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background 0.3s;
            color: white;
            background-color: var(--accent-color);
        }

        .btn:hover {
            opacity: 0.9;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
        }

        .btn-outline:hover {
            background-color: var(--accent-color);
            color: white;
        }

        .btn-reset {
            background-color: #757575;
        }

        /* å‹•ç•«æµç¨‹åœ–å€åŸŸ */
        .cycle-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .cycle-step {
            flex: 1;
            min-width: 120px;
            padding: 15px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
            position: relative;
            transition: all 0.3s ease;
        }

        /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ï¼šè®Šæˆå‚ç›´æ’åˆ— */
        @media (max-width: 600px) {
            .cycle-container {
                flex-direction: column;
            }
            .cycle-step {
                width: 100%;
            }
            .arrow-down {
                display: block !important;
                margin: 5px auto;
            }
            .arrow-right {
                display: none !important;
            }
        }

        .cycle-step.active {
            border-color: var(--step-active-border);
            background-color: var(--step-active);
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(33, 150, 243, 0.2);
        }

        .step-number {
            display: block;
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
        }

        .step-title {
            font-weight: bold;
            display: block;
        }

        .arrow-right {
            font-size: 1.5rem;
            color: #999;
        }

        .arrow-down {
            display: none; /* é›»è…¦ç‰ˆéš±è— */
            font-size: 1.5rem;
            color: #999;
        }

        .animation-controls {
            text-align: center;
            margin-top: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .animation-status {
            margin-top: 15px;
            padding: 10px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 5px;
            color: #856404;
            font-weight: bold;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* äº’å‹•å°å•ç­”å€ */
        .interactive-qa {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .qa-box {
            flex: 1;
            border: 1px dashed #999;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 5px;
        }
        
        .qa-box:hover {
            background-color: #f0f0f0;
        }

        .qa-answer {
            margin-top: 5px;
            font-size: 0.9rem;
            color: var(--accent-color);
            display: none;
        }

        /* é¸é …åˆ†æå€ */
        .analysis-item {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #eee;
        }

        .analysis-item:last-child {
            border-bottom: none;
        }

        /* ä½œç­”å€ */
        .quiz-area {
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
        }

        .checkbox-group label {
            display: block;
            margin: 8px 0;
            cursor: pointer;
        }

        .feedback-msg {
            margin-top: 10px;
            font-weight: bold;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }

        .feedback-correct {
            background-color: #d4edda;
            color: #155724;
        }

        .feedback-error {
            background-color: #f8d7da;
            color: #721c24;
        }

        /* éš±è—/å±•é–‹å…§å®¹ */
        .toggle-content {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #ccc;
        }

        /* å£è¨£å€ */
        .mnemonic-box {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            color: #0d47a1;
        }

    </style>
</head>
<body>

    <div class="container">
        <!-- A. æ¨™é¡Œå€ -->
        <div class="section-card">
            <h1>é›»è…¦æ¦‚è«– é¡Œè™Ÿ 44ï¼šCPU æŒ‡ä»¤é€±æœŸ</h1>
            <p>ä¸»é¡Œï¼šInstruction Cycleï¼ˆFetch / Decode / Operand / Execute / Storeï¼‰</p>
        </div>

        <!-- B. é¡Œç›®å€ -->
        <div class="section-card">
            <h2>ã€é¡Œç›®ã€‘</h2>
            <div class="question-box">
                44. ä¸‹åˆ—ä½•è€…å±¬æ–¼ CPU æŒ‡ä»¤çš„åŸ·è¡Œéç¨‹?<br>
                <ul class="options-list">
                    <li>(A) æ“·å–</li>
                    <li>(B) è§£ç¢¼</li>
                    <li>(C) æå–é‹ç®—å…ƒå…§å®¹</li>
                    <li>(D) åŸ·è¡Œ</li>
                    <li>(E) å„²å­˜</li>
                </ul>
            </div>
            <!-- ç­”æ¡ˆé è¨­éš±è—ï¼Œæœ€å¾Œæ‰æ­æ›‰ -->
        </div>

        <!-- C. ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­— -->
        <div class="section-card">
            <h2>ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­—</h2>
            <p>è«‹ç”¨è¢å…‰ç­†åœˆå‡ºé¡Œç›®é‡é»ï¼š</p>
            <p style="font-size: 1.1rem;">
                ä¸‹åˆ—ä½•è€…å±¬æ–¼ <span class="highlight">CPU æŒ‡ä»¤</span> çš„ <span class="highlight">åŸ·è¡Œéç¨‹</span> ?
            </p>
            <p><strong>ğŸ’¡ è€å¸«è§£èªªï¼š</strong><br>
                é¡Œç›®å•çš„æ˜¯ã€ŒåŸ·è¡Œéç¨‹ã€ï¼Œä¹Ÿå°±æ˜¯å®Œæ•´çš„ã€ŒæŒ‡ä»¤é€±æœŸï¼ˆInstruction Cycleï¼‰ã€ã€‚åªè¦æ˜¯ CPU è™•ç†ä¸€æ¢æŒ‡ä»¤å¿…ç¶“çš„æ­¥é©Ÿï¼Œéƒ½ç®—åœ¨å…§ã€‚
            </p>
        </div>

        <!-- D. ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯ -->
        <div class="section-card">
            <h2>ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯</h2>
            <p>æƒ³åƒ CPU æ˜¯ä¸€å€‹å‹¤å‹çš„å·¥äººï¼Œè€é—†ï¼ˆç¨‹å¼ï¼‰çµ¦ä»–ä¸€å¼µå–®å­ï¼ˆæŒ‡ä»¤ï¼‰ï¼Œä»–æœƒåšä»€éº¼ï¼Ÿ</p>
            <ol>
                <li>å»ä¿¡ç®±æ‹¿å–®å­å›ä¾†ï¼ˆæ“·å–æŒ‡ä»¤ï¼‰ã€‚</li>
                <li>è®€æ‡‚å–®å­ä¸Šå¯«ä»€éº¼ï¼ˆè§£ç¢¼ï¼‰ã€‚</li>
                <li>å»å€‰åº«æ‹¿éœ€è¦çš„ææ–™ï¼ˆæå–é‹ç®—å…ƒï¼‰ã€‚</li>
                <li>é–‹å§‹å‹•æ‰‹åšï¼ˆåŸ·è¡Œï¼‰ã€‚</li>
                <li>æŠŠåšå¥½çš„æˆå“æ”¾å›æ¶å­ä¸Šï¼ˆå„²å­˜ï¼‰ã€‚</li>
            </ol>
            <p>é¡Œç›®å•çš„å°±æ˜¯ï¼š<strong>ã€Œä¸Šé¢é€™äº”å€‹å‹•ä½œï¼Œå“ªäº›å±¬æ–¼ä»–çš„å·¥ä½œæµç¨‹ï¼Ÿã€</strong></p>
        </div>

        <!-- F. äº’å‹•æ ¸å¿ƒï¼šæŒ‡ä»¤é€±æœŸæµç¨‹å‹•ç•« (å°‡é‡é»æåˆ°å‰é¢) -->
        <div class="section-card">
            <h2>ã€æ ¸å¿ƒè§€å¿µã€‘æŒ‡ä»¤é€±æœŸæµç¨‹å‹•ç•«</h2>
            <p>è®“æˆ‘å€‘ä»¥åŸ·è¡Œé€™æ¢æŒ‡ä»¤ç‚ºä¾‹ï¼š<span class="highlight">ADD R1, R2</span> (å°‡ R2 çš„æ•¸å€¼åŠ åˆ° R1)</p>
            
            <div class="cycle-container">
                <!-- æ­¥é©Ÿ 1 -->
                <div class="cycle-step" id="step-1">
                    <span class="step-number">Step 1</span>
                    <span class="step-title">Fetch<br>æ“·å–æŒ‡ä»¤</span>
                </div>
                <div class="arrow-right">â†’</div>
                <div class="arrow-down">â†“</div>

                <!-- æ­¥é©Ÿ 2 -->
                <div class="cycle-step" id="step-2">
                    <span class="step-number">Step 2</span>
                    <span class="step-title">Decode<br>è§£ç¢¼</span>
                </div>
                <div class="arrow-right">â†’</div>
                <div class="arrow-down">â†“</div>

                <!-- æ­¥é©Ÿ 3 -->
                <div class="cycle-step" id="step-3">
                    <span class="step-number">Step 3</span>
                    <span class="step-title">Operand Fetch<br>æå–é‹ç®—å…ƒ</span>
                </div>
                <div class="arrow-right">â†’</div>
                <div class="arrow-down">â†“</div>

                <!-- æ­¥é©Ÿ 4 -->
                <div class="cycle-step" id="step-4">
                    <span class="step-number">Step 4</span>
                    <span class="step-title">Execute<br>åŸ·è¡Œ</span>
                </div>
                <div class="arrow-right">â†’</div>
                <div class="arrow-down">â†“</div>

                <!-- æ­¥é©Ÿ 5 -->
                <div class="cycle-step" id="step-5">
                    <span class="step-number">Step 5</span>
                    <span class="step-title">Store<br>å„²å­˜/å¯«å›</span>
                </div>
            </div>

            <div class="animation-status" id="anim-status">
                é»æ“Šä¸‹æ–¹æŒ‰éˆ•é–‹å§‹æ¼”ç¤º CPU å¦‚ä½•å·¥ä½œ...
            </div>

            <div class="animation-controls">
                <button class="btn" onclick="playNextStep()">â–¶ ä¸‹ä¸€æ­¥</button>
                <button class="btn btn-reset" onclick="resetAnimation()">â†º é‡æ’­</button>
            </div>
        </div>

        <!-- E. ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯ -->
        <div class="section-card">
            <h2>ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯</h2>
            
            <h3>1. é£Ÿè­œæ¯”å–»æ³•</h3>
            <p>è¨˜ä½é€™å€‹æµç¨‹ï¼Œå°±åƒç…§é£Ÿè­œåšèœä¸€æ¨£è‡ªç„¶ï¼š</p>
            <ul>
                <li><strong>Fetch (æ“·å–)</strong>ï¼šå…ˆæ‹¿é£Ÿè­œã€‚</li>
                <li><strong>Decode (è§£ç¢¼)</strong>ï¼šè®€æ‡‚é£Ÿè­œèªªè¦ã€Œç‚’è›‹ã€ã€‚</li>
                <li><strong>Operand Fetch (æå–é‹ç®—å…ƒ)</strong>ï¼šå»å†°ç®±æ‹¿é›è›‹ï¼ˆé£Ÿæï¼‰ã€‚</li>
                <li><strong>Execute (åŸ·è¡Œ)</strong>ï¼šé–‹ç«ç‚’è›‹ï¼ˆå‹•ä½œï¼‰ã€‚</li>
                <li><strong>Store (å„²å­˜)</strong>ï¼šæŠŠç‚’å¥½çš„è›‹ç››ç›¤ï¼ˆçµæœæ”¾å›å»ï¼‰ã€‚</li>
            </ul>

            <h3>2. å°ç…§é¸é …</h3>
            <p>å›é ­çœ‹é¡Œç›®çš„é¸é … A, B, C, D, Eï¼Œä½ æœƒç™¼ç¾æ¯ä¸€å€‹æ­¥é©Ÿéƒ½åœ¨æˆ‘å€‘å‰›å‰›æ¼”ç¤ºçš„æµç¨‹åœ–ä¸­ã€‚å› æ­¤ï¼Œé€™é¡Œæ˜¯å…¨é¸ã€‚</p>
        </div>

        <!-- G. äº’å‹•è£œå¼·ï¼šå€åˆ†ã€æŒ‡ä»¤ã€èˆ‡ã€é‹ç®—å…ƒã€ -->
        <div class="section-card">
            <h2>è§€å¿µé‡æ¸…ï¼šæŒ‡ä»¤ vs é‹ç®—å…ƒ</h2>
            <p>å¾ˆå¤šåŒå­¸åˆ†ä¸æ¸…æ¥šã€ŒæŒ‡ä»¤æ“·å–ã€è·Ÿã€Œé‹ç®—å…ƒæå–ã€æœ‰ä»€éº¼ä¸ä¸€æ¨£ã€‚é»æ“Šä¸‹æ–¹å¡ç‰‡æŸ¥çœ‹èªªæ˜ï¼š</p>

            <div class="interactive-qa">
                <div class="qa-box" onclick="toggleQA('qa1')">
                    <strong>æŒ‡ä»¤ (Instruction)</strong><br>
                    <small>é»æ“Šçœ‹è§£é‡‹</small>
                    <div id="qa1" class="qa-answer">
                        æ˜¯æ•´å¥è©±ï¼Œå‘Šè¨´ CPU <strong>ã€Œè¦åšä»€éº¼å‹•ä½œã€</strong>ã€‚<br>
                        ä¾‹å¦‚ï¼š<code>ADD</code> (åŠ æ³•)ã€<code>MOV</code> (æ¬ç§»)ã€‚
                        <br>ğŸ‘‰ ç¬¬ä¸€æ­¥ Fetch å°±æ˜¯åœ¨æŠ“é€™å€‹ã€‚
                    </div>
                </div>
                <div class="qa-box" onclick="toggleQA('qa2')">
                    <strong>é‹ç®—å…ƒ (Operand)</strong><br>
                    <small>é»æ“Šçœ‹è§£é‡‹</small>
                    <div id="qa2" class="qa-answer">
                        æ˜¯è¢«æ‹¿ä¾†é‹ç®—çš„ <strong>ã€Œè³‡æ–™æˆ–åƒæ•¸ã€</strong>ã€‚<br>
                        ä¾‹å¦‚ï¼š<code>ADD R1, R2</code> ä¸­çš„ <strong>R1</strong> å’Œ <strong>R2</strong>ã€‚
                        <br>ğŸ‘‰ ç¬¬ä¸‰æ­¥ Operand Fetch æ˜¯å»æ‹¿ R2 è£¡é¢çš„æ•¸å€¼ã€‚
                    </div>
                </div>
            </div>
            <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">
                * ç°¡å–®ä¾†èªªï¼šå…ˆæ‹¿ã€Œè¦åšä»€éº¼ã€(æŒ‡ä»¤)ï¼Œå†å»æ‹¿ã€Œè¦å°èª°åšã€(é‹ç®—å…ƒ)ã€‚
            </p>
        </div>

        <!-- H. ç¬¬å››æ­¥ï¼šé¸é …åˆ†æ -->
        <div class="section-card">
            <h2>ç¬¬å››æ­¥ï¼šé¸é …é€ä¸€åˆ†æ</h2>
            
            <div class="analysis-item">
                <strong>(A) æ“·å– (Fetch) âœ…</strong>
                <p>æ­£ç¢ºã€‚é€™æ˜¯é€±æœŸçš„ç¬¬ä¸€æ­¥ï¼Œç¨‹å¼è¨ˆæ•¸å™¨ (PC) æŒ‡å‘è¨˜æ†¶é«”ä½ç½®ï¼ŒæŠŠæŒ‡ä»¤è®€å…¥ CPU çš„æŒ‡ä»¤æš«å­˜å™¨ (IR)ã€‚</p>
            </div>

            <div class="analysis-item">
                <strong>(B) è§£ç¢¼ (Decode) âœ…</strong>
                <p>æ­£ç¢ºã€‚æ§åˆ¶å–®å…ƒ (CU) åˆ†æå‰›å‰›æ‹¿åˆ°çš„æŒ‡ä»¤ï¼Œåˆ¤æ–·æ˜¯åŠ æ³•ã€æ¸›æ³•é‚„æ˜¯å­˜å–è³‡æ–™ã€‚</p>
            </div>

            <div class="analysis-item">
                <strong>(C) æå–é‹ç®—å…ƒå…§å®¹ (Operand Fetch) âœ…</strong>
                <p>æ­£ç¢ºã€‚å¦‚æœæŒ‡ä»¤éœ€è¦è³‡æ–™ï¼ˆä¾‹å¦‚æŠŠ R1 åŠ  R2ï¼‰ï¼ŒCPU å¿…é ˆå…ˆå»æŠŠ R1 å’Œ R2 çš„æ•¸å€¼è®€å‡ºä¾†æ”¾åˆ°æš«å­˜å™¨æˆ– ALU è¼¸å…¥ç«¯ã€‚</p>
            </div>

            <div class="analysis-item">
                <strong>(D) åŸ·è¡Œ (Execute) âœ…</strong>
                <p>æ­£ç¢ºã€‚ç®—è¡“é‚è¼¯å–®å…ƒ (ALU) å¯¦éš›é€²è¡ŒåŠ æ¸›ä¹˜é™¤æˆ–é‚è¼¯é‹ç®—ã€‚</p>
            </div>

            <div class="analysis-item">
                <strong>(E) å„²å­˜ (Store / Write Back) âœ…</strong>
                <p>æ­£ç¢ºã€‚é‹ç®—å®Œçš„çµæœä¸èƒ½ä¸Ÿæ‰ï¼Œå¿…é ˆå¯«å›æš«å­˜å™¨æˆ–è¨˜æ†¶é«”ä¸­ï¼Œé€™æ¢æŒ‡ä»¤æ‰ç®—çœŸæ­£å®Œæˆã€‚</p>
            </div>
        </div>

        <!-- I, J, K. è£œå……èˆ‡å£è¨£ -->
        <div class="section-card">
            <h2>è¡åˆºç­†è¨˜å€</h2>
            
            <h3>ğŸ§  è¨˜æ†¶å£è¨£</h3>
            <div class="mnemonic-box">
                ã€Œæ“·å–ã€è§£ç¢¼ã€æ‹¿è³‡æ–™ï¼Œ<br>åŸ·è¡Œã€å¯«å›ã€å°±çµæŸï¼ã€
            </div>

            <h3>âš ï¸ å¸¸è¦‹é™·é˜± (é¿å‘æŒ‡å—)</h3>
            <ul style="list-style-type: none; padding-left: 0;">
                <li>âŒ <strong>èª¤å€ 1ï¼š</strong>ä»¥ç‚ºã€Œæ“·å–ã€åªæœ‰ä¸€æ¬¡ã€‚<br>â†’ å…¶å¯¦æœ‰åˆ†ã€ŒæŒ‡ä»¤æ“·å–ã€å’Œã€Œé‹ç®—å…ƒæ“·å–ã€å…©éšæ®µã€‚</li>
                <li>âŒ <strong>èª¤å€ 2ï¼š</strong>ä»¥ç‚ºç®—å®Œ (Execute) å°±æ²’äº‹äº†ã€‚<br>â†’ æ²’å¯«å›å» (Store) ç­‰æ–¼ç™½ç®—ã€‚</li>
                <li>âŒ <strong>èª¤å€ 3ï¼š</strong>æ··æ·† I/Oã€‚<br>â†’ å¦‚æœé¸é …å‡ºç¾ã€Œåˆ—å°ã€ã€ã€Œæƒæã€ï¼Œé‚£æ˜¯å¤–éƒ¨è¨­å‚™å‹•ä½œï¼Œé€šå¸¸ä¸å±¬æ–¼ CPU å…§éƒ¨çš„åŸºæœ¬æŒ‡ä»¤é€±æœŸå®šç¾©ã€‚</li>
            </ul>
        </div>

        <!-- L. ä½œç­”å€ -->
        <div class="section-card quiz-area">
            <h2>ã€è‡ªæˆ‘æ¸¬è©¦ã€‘ç¾åœ¨æ›ä½ ä¾†ç­”é¡Œ</h2>
            <p>44. ä¸‹åˆ—ä½•è€…å±¬æ–¼ CPU æŒ‡ä»¤çš„åŸ·è¡Œéç¨‹? (è¤‡é¸)</p>
            
            <div class="checkbox-group">
                <label><input type="checkbox" name="quiz" value="A"> (A) æ“·å–</label>
                <label><input type="checkbox" name="quiz" value="B"> (B) è§£ç¢¼</label>
                <label><input type="checkbox" name="quiz" value="C"> (C) æå–é‹ç®—å…ƒå…§å®¹</label>
                <label><input type="checkbox" name="quiz" value="D"> (D) åŸ·è¡Œ</label>
                <label><input type="checkbox" name="quiz" value="E"> (E) å„²å­˜</label>
            </div>

            <button class="btn" onclick="checkAnswer()">é€å‡ºä½œç­”</button>
            <button class="btn btn-outline" onclick="toggleAnswer()">é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ</button>

            <div id="feedback" class="feedback-msg"></div>

            <!-- M. æ­£ç¢ºç­”æ¡ˆå€ -->
            <div id="real-answer" class="toggle-content">
                <h3 style="color: var(--success-color);">æ­£ç¢ºç­”æ¡ˆï¼šA, B, C, D, E</h3>
                <p>æ­å–œä½ ï¼é€™äº”å€‹æ­¥é©Ÿå®Œæ•´æ§‹æˆäº†ä¸€å€‹æ©Ÿå™¨çš„æŒ‡ä»¤é€±æœŸ (Machine Cycle)ã€‚</p>
            </div>
        </div>

        <!-- N. è‡ªæˆ‘æª¢æ¸¬ -->
        <div class="section-card">
            <h2>ã€è‡ªæˆ‘æª¢æ¸¬ã€‘å»¶ä¼¸æ€è€ƒ</h2>
            <p>æƒ³ä¸€æƒ³ï¼Œç¢ºèªä½ çœŸçš„æ‡‚äº†ï¼š</p>
            <ol>
                <li>å¦‚æœé€™æ¢æŒ‡ä»¤åªæ˜¯ã€Œè®“ CPU ä¼‘æ¯ (NOP)ã€ï¼Œä¸éœ€è¦ä»»ä½•è³‡æ–™ï¼Œé‚£é‚„æœƒæœ‰ Step 3 (æå–é‹ç®—å…ƒ) å—ï¼Ÿ(æç¤ºï¼šå¯èƒ½è·³é)</li>
                <li>ç‚ºä»€éº¼ CPU ä¸ä¸€æ‹¿åˆ°æŒ‡ä»¤å°±ç›´æ¥ã€ŒåŸ·è¡Œã€ï¼Œä¸€å®šè¦å…ˆã€Œè§£ç¢¼ã€ï¼Ÿ(æç¤ºï¼šä¸è§£ç¢¼æ€éº¼çŸ¥é“è¦åŠ é‚„æ˜¯è¦æ¸›ï¼Ÿ)</li>
            </ol>
        </div>

    </div>

    <!-- JavaScript é‚è¼¯ -->
    <script>
        // --- å‹•ç•«é‚è¼¯ ---
        let currentStep = 0;
        const totalSteps = 5;
        const statusText = document.getElementById('anim-status');
        
        // å®šç¾©æ¯ä¸€æ­¥é©Ÿçš„ç‹€æ…‹æè¿°
        const stepDescriptions = [
            "æº–å‚™é–‹å§‹ï¼šCPU æº–å‚™è™•ç†ä¸‹ä¸€æ¢æŒ‡ä»¤...",
            "Step 1 æ“·å– (Fetch)ï¼šCPU å¾è¨˜æ†¶é«”ä¸­æŠŠã€ŒADD R1, R2ã€é€™è¡ŒæŒ‡ä»¤æŠ“é€²æŒ‡ä»¤æš«å­˜å™¨ (IR)ã€‚",
            "Step 2 è§£ç¢¼ (Decode)ï¼šæ§åˆ¶å–®å…ƒ (CU) ç¿»è­¯æŒ‡ä»¤ï¼Œç™¼ç¾é€™æ˜¯ã€ŒåŠ æ³•é‹ç®—ã€ã€‚",
            "Step 3 æå–é‹ç®—å…ƒ (Operand Fetch)ï¼šCPU å»è®€å– R1 å’Œ R2 è£¡é¢çš„æ•¸å€¼ï¼ˆä¾‹å¦‚ 10 å’Œ 20ï¼‰ã€‚",
            "Step 4 åŸ·è¡Œ (Execute)ï¼šALU é€²è¡ŒåŠ æ³•é‹ç®—ï¼Œè¨ˆç®— 10 + 20 = 30ã€‚",
            "Step 5 å„²å­˜ (Store)ï¼šå°‡çµæœ 30 å¯«å› R1 æš«å­˜å™¨ä¸­ã€‚é€±æœŸçµæŸï¼"
        ];

        function playNextStep() {
            // å¦‚æœå·²ç¶“çµæŸï¼Œå…ˆé‡ç½®
            if (currentStep >= totalSteps) {
                resetAnimation();
                // ç‚ºäº†æµæš¢é«”é©—ï¼Œé‡ç½®å¾Œç¨å¾®å»¶é²æˆ–ç›´æ¥é–‹å§‹ç¬¬ä¸€æ­¥ï¼Œé€™è£¡é¸æ“‡ç›´æ¥é‡ç½®ç­‰å¾…å†æ¬¡é»æ“Š
                return; 
            }

            currentStep++;
            updateAnimationUI();
        }

        function resetAnimation() {
            currentStep = 0;
            // ç§»é™¤æ‰€æœ‰ active class
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById(`step-${i}`).classList.remove('active');
            }
            statusText.innerText = stepDescriptions[0];
            statusText.style.backgroundColor = "#fff3cd"; // æ¢å¾©é»ƒè‰²èƒŒæ™¯
            statusText.style.color = "#856404";
        }

        function updateAnimationUI() {
            // 1. æ›´æ–°æ–‡å­—æè¿°
            statusText.innerText = stepDescriptions[currentStep];
            statusText.style.backgroundColor = "#d4edda"; // é€²è¡Œä¸­è®Šç¶ è‰²èƒŒæ™¯
            statusText.style.color = "#155724";

            // 2. é«˜äº®ç•¶å‰æ­¥é©Ÿ
            // å…ˆç§»é™¤æ‰€æœ‰ highlight (å¦‚æœæƒ³è¦ä¿ç•™ä¹‹å‰çš„ highlight å¯ä»¥ä¸ç§»é™¤ï¼Œä½†é€™é‚Šæ˜¯ä¸€æ­¥æ­¥èµ°)
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById(`step-${i}`).classList.remove('active');
            }
            // åŠ ä¸Šç›®å‰çš„ highlight
            const activeEl = document.getElementById(`step-${currentStep}`);
            if (activeEl) {
                activeEl.classList.add('active');
            }

            // å¦‚æœåˆ°äº†æœ€å¾Œä¸€æ­¥
            if (currentStep === totalSteps) {
                statusText.innerHTML += " <br><strong>ğŸ‰ æŒ‡ä»¤å®Œæˆï¼æº–å‚™ä¸‹ä¸€æ¢...</strong>";
            }
        }

        // --- äº’å‹•å•ç­”é–‹é—œ ---
        function toggleQA(id) {
            const el = document.getElementById(id);
            if (el.style.display === 'block') {
                el.style.display = 'none';
            } else {
                el.style.display = 'block';
            }
        }

        // --- ä½œç­”æª¢æŸ¥é‚è¼¯ ---
        function checkAnswer() {
            const checkboxes = document.querySelectorAll('input[name="quiz"]:checked');
            const feedback = document.getElementById('feedback');
            
            // å°‡é¸ä¸­çš„å€¼è½‰ç‚ºé™£åˆ—
            let values = [];
            checkboxes.forEach((checkbox) => {
                values.push(checkbox.value);
            });
            values.sort(); // æ’åºä»¥ä¾¿æ¯”å°

            // æ­£ç¢ºç­”æ¡ˆ
            const correct = ['A', 'B', 'C', 'D', 'E'];

            // æ¯”å°
            if (JSON.stringify(values) === JSON.stringify(correct)) {
                feedback.className = "feedback-msg feedback-correct";
                feedback.innerHTML = "âœ… ç­”å°äº†ï¼å¤ªæ£’äº†ï¼<br>ä½ ä¹Ÿç™¼ç¾äº†å—ï¼Ÿé€™äº”å€‹æ­¥é©Ÿç¼ºä¸€ä¸å¯ã€‚";
                feedback.style.display = "block";
            } else {
                feedback.className = "feedback-msg feedback-error";
                feedback.innerHTML = "âŒ å·®ä¸€é»é»å–”ï¼<br>æç¤ºï¼šå†å›é ­çœ‹çœ‹ä¸Šé¢çš„å‹•ç•«æµç¨‹ï¼Œæ¯ä¸€å€‹æ­¥é©Ÿéƒ½æœ‰ç”¨åˆ°å–”ï¼";
                feedback.style.display = "block";
            }
        }

        function toggleAnswer() {
            const answerDiv = document.getElementById('real-answer');
            if (answerDiv.style.display === 'block') {
                answerDiv.style.display = 'none';
            } else {
                answerDiv.style.display = 'block';
            }
        }
    </script>
</body>
</html>