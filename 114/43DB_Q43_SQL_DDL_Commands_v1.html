<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DB_Q43_SQL_DDL_Commands_v1</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --highlight-color: #f1c40f;
            --light-bg: #ecf0f1;
            --correct-color: #27ae60;
            --wrong-color: #c0392b;
            --text-color: #333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f9f9f9;
            padding-bottom: 50px;
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        /* A. Header */
        header {
            background-color: var(--primary-color);
            color: #fff;
            padding: 20px;
            text-align: center;
        }

        header h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        header .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: normal;
        }

        header .q-badge {
            display: inline-block;
            background-color: var(--accent-color);
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
            margin-top: 10px;
        }

        /* Section Styling */
        .section {
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .section-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            border-left: 5px solid var(--accent-color);
            padding-left: 10px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        /* B. Question Card */
        .question-card {
            background-color: #fff;
            padding: 15px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            font-size: 1.1rem;
        }

        .question-text {
            margin-bottom: 15px;
            font-weight: bold;
        }

        .options-list {
            list-style: none;
        }

        .options-list li {
            margin-bottom: 8px;
            padding-left: 10px;
        }

        /* C. Highlight Interaction */
        .keyword-btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .keyword-btn {
            background-color: #fff;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 5px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .keyword-btn:hover, .keyword-btn.active {
            background-color: var(--accent-color);
            color: #fff;
        }

        .highlighted-text {
            background-color: var(--highlight-color);
            padding: 0 2px;
            border-radius: 2px;
            font-weight: bold;
        }

        .explanation-box {
            background-color: var(--light-bg);
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            min-height: 60px;
            border-left: 4px solid var(--accent-color);
        }

        .explanation-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
            display: block;
        }

        /* D. Accordion */
        details {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        summary {
            padding: 12px;
            background-color: var(--light-bg);
            cursor: pointer;
            font-weight: bold;
            list-style: none; /* Hide default triangle */
        }
        
        summary::-webkit-details-marker {
            display: none;
        }

        summary::after {
            content: "+"; 
            float: right;
            font-weight: bold;
        }
        
        details[open] summary::after {
            content: "-";
        }

        .accordion-content {
            padding: 15px;
            border-top: 1px solid #ddd;
        }

        /* E. SQL Comparison */
        .comparison-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .comparison-col {
            flex: 1;
            min-width: 280px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }

        .col-header {
            background-color: var(--primary-color);
            color: #fff;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
        
        .col-header.dml-header {
            background-color: #7f8c8d;
        }

        .cmd-list {
            list-style: none;
        }

        .cmd-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
            text-align: center;
        }

        .cmd-item:hover {
            background-color: #e8f6f3;
        }
        
        .cmd-item.active {
            background-color: var(--highlight-color);
            font-weight: bold;
        }

        #comparison-feedback {
            margin-top: 15px;
            padding: 10px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
            display: none;
        }

        /* F. Analysis */
        .analysis-item {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #ccc;
        }
        .analysis-item:last-child {
            border-bottom: none;
        }
        .correct-tag {
            color: var(--correct-color);
            font-weight: bold;
            border: 1px solid var(--correct-color);
            padding: 2px 6px;
            font-size: 0.8rem;
            border-radius: 4px;
            margin-right: 5px;
        }
        .wrong-tag {
            color: var(--wrong-color);
            font-weight: bold;
            border: 1px solid var(--wrong-color);
            padding: 2px 6px;
            font-size: 0.8rem;
            border-radius: 4px;
            margin-right: 5px;
        }

        /* G. Quiz Check */
        .quiz-container {
            background-color: #fdfdfd;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
        }

        .checkbox-group label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .checkbox-group label:hover {
            background-color: #f0f0f0;
        }

        .checkbox-group input {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .check-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 25px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            width: 100%;
        }

        .check-btn:hover {
            background-color: #34495e;
        }

        #quiz-result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            display: none;
        }

        .result-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .result-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* H. Mnemonic */
        .mnemonic-box {
            background-color: #e8f8f5;
            padding: 15px;
            border-left: 5px solid var(--correct-color);
            margin-bottom: 20px;
        }

        .pitfall-box {
            background-color: #fdedec;
            padding: 15px;
            border-left: 5px solid var(--wrong-color);
        }

        /* I. Answer Reveal */
        .answer-reveal {
            text-align: center;
            background-color: var(--primary-color);
            color: #fff;
            padding: 20px;
            border-radius: 8px;
        }
        .big-answer {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
            color: var(--highlight-color);
            letter-spacing: 2px;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .comparison-container {
                flex-direction: column;
            }
            .section {
                padding: 15px;
            }
        }
    </style>
</head>
<body>

<div class="container">

    <!-- A. 頁首區 -->
    <header>
        <h1>哪些 SQL 指令是在「定義資料結構」？</h1>
        <div class="subtitle">DDL vs DML 必考觀念</div>
        <div class="q-badge">題號：43（複選題）</div>
    </header>

    <!-- B. 題目區 -->
    <div class="section">
        <h2 class="section-title">題目</h2>
        <div class="question-card" id="question-area">
            <div class="question-text">
                43. 下列哪些屬於 SQL 的 DDL（Data Definition Language）語法？（複選）
            </div>
            <ul class="options-list">
                <li>(A) CREATE</li>
                <li>(B) DROP</li>
                <li>(C) UPDATE</li>
                <li>(D) ALTER</li>
                <li>(E) TRUNCATE</li>
            </ul>
        </div>
    </div>

    <!-- C. 關鍵字互動 -->
    <div class="section">
        <h2 class="section-title">點擊關鍵字看解釋</h2>
        <div class="keyword-btn-group">
            <button class="keyword-btn" onclick="highlightKeyword('SQL')">SQL</button>
            <button class="keyword-btn" onclick="highlightKeyword('DDL')">DDL</button>
            <button class="keyword-btn" onclick="highlightKeyword('DML')">DML</button>
            <button class="keyword-btn" onclick="highlightKeyword('CREATE')">CREATE</button>
            <button class="keyword-btn" onclick="highlightKeyword('DROP')">DROP</button>
            <button class="keyword-btn" onclick="highlightKeyword('UPDATE')">UPDATE</button>
            <button class="keyword-btn" onclick="highlightKeyword('ALTER')">ALTER</button>
            <button class="keyword-btn" onclick="highlightKeyword('TRUNCATE')">TRUNCATE</button>
        </div>
        
        <div class="explanation-box">
            <span id="exp-title" class="explanation-title">請點擊上方關鍵字</span>
            <span id="exp-content">點擊後，題目中的關鍵字會亮起，並在此顯示白話說明。</span>
        </div>
    </div>

    <!-- D. 白話翻譯 -->
    <div class="section">
        <h2 class="section-title">這題在問什麼？</h2>
        
        <details open>
            <summary>白話翻譯</summary>
            <div class="accordion-content">
                「哪些 SQL 指令是在動<strong>『資料表本身長怎樣』</strong>（例如：加欄位、刪整張表、建新表），而不是在改資料表裡面的內容？」
            </div>
        </details>

        <details>
            <summary>這題在考什麼</summary>
            <div class="accordion-content">
                你是否能分清楚<strong>「資料結構」</strong>（骨架）與<strong>「資料內容」</strong>（血肉）的差別。
            </div>
        </details>
    </div>

    <!-- E. SQL 指令分類互動對照 -->
    <div class="section">
        <h2 class="section-title">觀念對照：DDL vs DML</h2>
        <p style="margin-bottom: 10px; color: #666; font-size: 0.9rem;">點擊下方指令，看看它的作用：</p>
        
        <div class="comparison-container">
            <!-- DDL Column -->
            <div class="comparison-col">
                <div class="col-header">DDL（動結構）</div>
                <ul class="cmd-list">
                    <li class="cmd-item" onclick="showCmdInfo('DDL', 'CREATE', '建立資料表或資料庫')">CREATE</li>
                    <li class="cmd-item" onclick="showCmdInfo('DDL', 'DROP', '直接把整張表刪掉（連結構都沒了）')">DROP</li>
                    <li class="cmd-item" onclick="showCmdInfo('DDL', 'ALTER', '修改表的欄位設定（例如新增一欄）')">ALTER</li>
                    <li class="cmd-item" onclick="showCmdInfo('DDL', 'TRUNCATE', '清空整張表內容（重置結構），比逐筆刪除快')">TRUNCATE</li>
                </ul>
            </div>

            <!-- DML Column -->
            <div class="comparison-col">
                <div class="col-header dml-header">DML（動資料）</div>
                <ul class="cmd-list">
                    <li class="cmd-item" onclick="showCmdInfo('DML', 'INSERT', '新增一筆資料')">INSERT</li>
                    <li class="cmd-item" onclick="showCmdInfo('DML', 'UPDATE', '修改資料內容（不改結構）')">UPDATE</li>
                    <li class="cmd-item" onclick="showCmdInfo('DML', 'DELETE', '刪除資料內容（表還在）')">DELETE</li>
                </ul>
            </div>
        </div>

        <div id="comparison-feedback"></div>
    </div>

    <!-- F. 複選題選項解析 -->
    <div class="section">
        <h2 class="section-title">選項逐一解析</h2>
        
        <div class="analysis-item">
            <div><span class="correct-tag">正確</span> <strong>(A) CREATE</strong></div>
            <p>用來建立資料表或資料庫，屬於 DDL。</p>
        </div>

        <div class="analysis-item">
            <div><span class="correct-tag">正確</span> <strong>(B) DROP</strong></div>
            <p>用來刪除整個資料表或資料庫，屬於 DDL。</p>
        </div>

        <div class="analysis-item">
            <div><span class="wrong-tag">錯誤</span> <strong>(C) UPDATE</strong></div>
            <p>這是修改欄位內的「值」（資料內容），屬於 DML。</p>
        </div>

        <div class="analysis-item">
            <div><span class="correct-tag">正確</span> <strong>(D) ALTER</strong></div>
            <p>用來修改資料表的結構（如：新增欄位、修改型別），屬於 DDL。</p>
        </div>

        <div class="analysis-item">
            <div><span class="correct-tag">正確</span> <strong>(E) TRUNCATE</strong></div>
            <p>清空資料表，屬於結構層級的操作（重置），屬於 DDL。（這是考試重點！）</p>
        </div>
    </div>

    <!-- G. 複選題互動檢核 -->
    <div class="section">
        <h2 class="section-title">牛刀小試</h2>
        <div class="quiz-container">
            <p style="margin-bottom:10px; font-weight:bold;">請勾選所有屬於 DDL 的指令：</p>
            <div class="checkbox-group">
                <label><input type="checkbox" id="optA" value="A"> (A) CREATE</label>
                <label><input type="checkbox" id="optB" value="B"> (B) DROP</label>
                <label><input type="checkbox" id="optC" value="C"> (C) UPDATE</label>
                <label><input type="checkbox" id="optD" value="D"> (D) ALTER</label>
                <label><input type="checkbox" id="optE" value="E"> (E) TRUNCATE</label>
            </div>
            <button class="check-btn" onclick="checkAnswer()">檢查答案</button>
            <div id="quiz-result"></div>
        </div>
    </div>

    <!-- H. 記憶口訣 -->
    <div class="section">
        <h2 class="section-title">記憶與陷阱</h2>
        
        <div class="mnemonic-box">
            <h3>【記憶口訣】</h3>
            <p>「<strong>建刪改清</strong>是 DDL」</p>
            <p>（CREATE、DROP、ALTER、TRUNCATE）</p>
        </div>

        <div class="pitfall-box">
            <h3>【常見陷阱】</h3>
            <ol style="padding-left: 20px;">
                <li>把 <strong>UPDATE</strong> 誤當成 DDL（它只改內容，不改結構）。</li>
                <li>以為 <strong>TRUNCATE</strong> 是 DELETE（TRUNCATE 是重置結構，DDL 指令）。</li>
                <li>沒分清楚「表的結構」和「表的資料」。</li>
            </ol>
        </div>
    </div>

    <!-- I. 正確答案 -->
    <div class="section">
        <div class="answer-reveal">
            <h3>本題正確答案</h3>
            <div class="big-answer">A、B、D、E</div>
            <p>總結：DDL 是用來定義資料結構，CREATE、DROP、ALTER、TRUNCATE 都屬於 DDL。</p>
        </div>
    </div>

</div>

<script>
    // 1. 關鍵字解釋資料庫
    const dictionary = {
        'SQL': 'SQL（結構化查詢語言，用來操作資料庫）',
        'DDL': 'DDL（資料定義語言：用來建立、修改、刪除「資料表結構」）',
        'DML': 'DML（資料操作語言：用來新增、修改、刪除「資料內容」）',
        'CREATE': 'CREATE（建立資料表或資料庫）- 屬於 DDL',
        'DROP': 'DROP（刪除整個資料表或資料庫）- 屬於 DDL',
        'UPDATE': 'UPDATE（修改資料內容，不是結構）- 屬於 DML',
        'ALTER': 'ALTER（修改資料表結構，例如加欄位）- 屬於 DDL',
        'TRUNCATE': 'TRUNCATE（清空資料表內容，屬於結構層級操作）- 屬於 DDL'
    };

    // 原始題目文字，用於重置
    const originalQuestionHTML = `
        <div class="question-text">
            43. 下列哪些屬於 SQL 的 DDL（Data Definition Language）語法？（複選）
        </div>
        <ul class="options-list">
            <li>(A) CREATE</li>
            <li>(B) DROP</li>
            <li>(C) UPDATE</li>
            <li>(D) ALTER</li>
            <li>(E) TRUNCATE</li>
        </ul>
    `;

    // 2. 關鍵字高亮功能
    function highlightKeyword(keyword) {
        const questionArea = document.getElementById('question-area');
        const expTitle = document.getElementById('exp-title');
        const expContent = document.getElementById('exp-content');
        
        // 重置 HTML 以清除舊的高亮
        questionArea.innerHTML = originalQuestionHTML;

        // 取得內容字串
        let html = questionArea.innerHTML;

        // 使用正則表達式進行全域替換，忽略大小寫
        // 注意：這裡簡單替換，避免破壞 HTML 標籤
        const regex = new RegExp(`(${keyword})`, 'gi');
        html = html.replace(regex, '<span class="highlighted-text">$1</span>');

        questionArea.innerHTML = html;

        // 更新解釋區域
        expTitle.innerText = `關鍵字：${keyword}`;
        expContent.innerText = dictionary[keyword] || "暫無詳細解釋";

        // 按鈕樣式更新
        document.querySelectorAll('.keyword-btn').forEach(btn => {
            btn.classList.remove('active');
            if(btn.innerText === keyword) btn.classList.add('active');
        });
    }

    // 3. DDL vs DML 對照互動
    function showCmdInfo(type, cmd, desc) {
        const feedback = document.getElementById('comparison-feedback');
        feedback.style.display = 'block';
        feedback.innerHTML = `<span style="color:var(--primary-color)">${cmd}</span> 屬於 <span style="color:${type === 'DDL' ? 'var(--accent-color)' : '#7f8c8d'}">${type}</span>：${desc}`;
        
        // 移除其他項目的 active class
        document.querySelectorAll('.cmd-item').forEach(item => item.classList.remove('active'));
        // 由於是用 inline onclick，這裡較難直接抓到 this，但功能已足夠
        event.target.classList.add('active');
    }

    // 4. 檢查答案功能
    function checkAnswer() {
        // 正確答案集合
        const correctAnswers = ['A', 'B', 'D', 'E'];
        
        // 取得使用者選取的選項
        const checkboxes = document.querySelectorAll('.checkbox-group input[type="checkbox"]');
        let selected = [];
        checkboxes.forEach(cb => {
            if (cb.checked) selected.push(cb.value);
        });

        const resultDiv = document.getElementById('quiz-result');
        resultDiv.style.display = 'block';

        // 邏輯判斷
        // 1. 是否選了 C (UPDATE) -> 這是最大的陷阱
        if (selected.includes('C')) {
            resultDiv.className = 'result-error';
            resultDiv.innerHTML = '❌ 答錯囉！<br>UPDATE 是用來改「資料內容」的，屬於 DML，不是 DDL 喔！';
            return;
        }

        // 2. 檢查是否漏選或完全正確
        // 簡單比較陣列 (排序後轉字串比較)
        const isCorrect = JSON.stringify(selected.sort()) === JSON.stringify(correctAnswers.sort());

        if (isCorrect) {
            resultDiv.className = 'result-success';
            resultDiv.innerHTML = '✅ 完全正確！<br>太棒了，你已經掌握 DDL 的核心觀念！';
        } else {
            resultDiv.className = 'result-error';
            if (selected.length === 0) {
                resultDiv.innerHTML = '⚠️ 請先勾選選項再按檢查。';
            } else {
                resultDiv.innerHTML = '❌ 還差一點點！<br>請記得口訣：「建刪改清」都是 DDL。<br>（提示：本題有 4 個正確選項）';
            }
        }
    }
</script>

</body>
</html>