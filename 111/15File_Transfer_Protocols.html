<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q15 é€šè¨Šå”å®šèˆ‡æª”æ¡ˆå‚³è¼¸æ•™å­¸</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #c0392b;
            --light-bg: #f8f9fa;
            --card-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        * {
            box-sizing: border-box;
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #ecf0f1;
            color: #333;
            line-height: 1.6;
        }

        /* ç‰ˆé¢çµæ§‹ */
        header {
            background: linear-gradient(135deg, var(--primary-color), #34495e);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        header h1 {
            margin: 0;
            font-size: 1.2rem;
            text-align: center;
        }

        header .subtitle {
            font-size: 0.9rem;
            text-align: center;
            opacity: 0.9;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
        }

        /* é€²åº¦æ¢ */
        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            padding: 0;
            list-style: none;
            font-size: 0.8rem;
            color: #7f8c8d;
            overflow-x: auto;
        }

        .progress-bar li {
            position: relative;
            flex: 1;
            text-align: center;
            min-width: 60px;
        }

        .progress-bar li.active {
            color: var(--accent-color);
            font-weight: bold;
        }

        /* å¡ç‰‡è¨­è¨ˆ */
        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            transition: transform 0.2s;
            border-left: 5px solid var(--accent-color);
        }

        .card h2 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: background 0.3s;
            width: 100%;
            text-align: left;
        }

        .btn:hover {
            filter: brightness(1.1);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
        }

        .btn-outline:hover {
            background-color: var(--accent-color);
            color: white;
        }

        /* äº’å‹•å€åŸŸ 1: æƒ…å¢ƒ */
        .scenario-box {
            background-color: #e8f6f3;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .file-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }

        /* äº’å‹•å€åŸŸ 2: å”å®šå¡ç‰‡ */
        .protocol-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .proto-card {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .proto-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
            background: #eaf2f8;
        }

        .proto-card strong {
            display: block;
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .proto-detail {
            display: none;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #555;
            text-align: left;
        }

        /* äº’å‹•å€åŸŸ 3: é¡Œç›®é¸é … */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-btn {
            background: white;
            border: 2px solid #ddd;
            color: #333;
            text-align: left;
            position: relative;
        }
        
        .option-btn.selected {
            border-color: var(--warning-color);
            background-color: #fef9e7;
        }

        .option-btn.correct {
            border-color: var(--success-color);
            background-color: #d5f5e3;
        }
        
        .option-btn.wrong {
            border-color: var(--danger-color);
            background-color: #fadbd8;
        }

        /* äº’å‹•å€åŸŸ 4: æ‹–æ›³é…å° (é»æ“Šé…å°ç‰ˆ) */
        .match-game {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .match-col {
            flex: 1;
            min-width: 150px;
        }

        .match-item {
            background: white;
            border: 2px solid #bdc3c7;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 6px;
            cursor: pointer;
            text-align: center;
        }

        .match-item.selected {
            border-color: var(--accent-color);
            background-color: #d6eaf8;
        }

        .match-item.matched {
            border-color: var(--success-color);
            background-color: #abebc6;
            cursor: default;
            opacity: 0.7;
        }

        /* æ¯”å–»åœ–ç¤º */
        .analogy-icon {
            font-size: 2rem;
            margin-right: 10px;
            vertical-align: middle;
        }

        /* é™·é˜±æç¤º */
        .trap-box {
            background-color: #fce4ec;
            border-left: 5px solid #e91e63;
            padding: 15px;
            margin-top: 20px;
        }

        /* æ¨¡æ…‹æ¡† (Modal) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 10px;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* è¿·æ€ç ´è§£ */
        .quiz-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed #ccc;
        }
        .quiz-row:last-child { border-bottom: none; }
        
        .ox-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 1px solid #ccc;
            background: white;
            cursor: pointer;
            margin-left: 5px;
        }
        .ox-btn.active-o { background: var(--success-color); color: white; border-color: var(--success-color); }
        .ox-btn.active-x { background: var(--danger-color); color: white; border-color: var(--danger-color); }

        /* æ•™å¸«å‚™è¨» */
        .teacher-note {
            background-color: #34495e;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 30px;
            cursor: pointer;
        }
        
        .teacher-content {
            display: none;
            margin-top: 10px;
            color: #bdc3c7;
            font-size: 0.9rem;
        }

        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 600px) {
            .btn { width: 100%; margin: 5px 0; }
            .match-game { flex-direction: column; }
        }
        
        .hidden { display: none !important; }
        .reveal-box { margin-top: 15px; padding: 10px; background: #e8f8f5; border-radius: 5px; }
        .tag { background: #eee; padding: 2px 6px; border-radius: 4px; font-size: 0.8em; margin-right: 5px; }
    </style>
</head>
<body>

<header>
    <h1>Q15. é€šè¨Šå”å®šï¼šå“ªå€‹å¯ä»¥å‚³é€æª”æ¡ˆï¼Ÿ</h1>
    <div class="subtitle">é›»è…¦æ¦‚è«– / ç¶²è·¯èˆ‡é€šè¨Š</div>
</header>

<div class="container">
    
    <!-- å­¸ç¿’æµç¨‹ -->
    <ul class="progress-bar">
        <li class="active">â‘  æƒ…å¢ƒæ€è€ƒ</li>
        <li>â‘¡ èªè­˜ç”¨é€”</li>
        <li>â‘¢ æŒ‘æˆ°è§£é¡Œ</li>
        <li>â‘£ è§€å¿µç¸½çµ</li>
    </ul>

    <!-- éšæ®µ 1: æƒ…å¢ƒå°å…¥ -->
    <div class="card" id="step1">
        <h2>ğŸ“‚ æƒ…å¢ƒå°å…¥</h2>
        <div class="scenario-box">
            <span class="file-icon">ğŸ“„</span>
            <p><strong>ç‹€æ³åŠ‡ï¼š</strong></p>
            <p>ä½ æ­£åœ¨ä½¿ç”¨é›»è…¦ï¼Œæƒ³è¦æŠŠä¸€ä»½é‡è¦çš„ PDF å ±å‘Šæª”å‚³é€çµ¦éš”å£çš„åŒäº‹ã€‚</p>
            <p>è«‹å•ï¼šä¸‹åˆ—å“ªä¸€ç¨®é€šè¨Šå”å®šæ˜¯<b>ã€Œå°ˆé–€ç‚ºäº†å‚³è¼¸æª”æ¡ˆã€</b>è€Œè¨­è¨ˆçš„ï¼Ÿ</p>
        </div>
        <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <button class="btn btn-outline" onclick="showHint('TCP/IP')">TCP/IP</button>
            <button class="btn btn-outline" onclick="showHint('HTTPS')">HTTPS</button>
            <button class="btn btn-outline" onclick="showHint('SMTP')">SMTP</button>
            <button class="btn btn-outline" onclick="showHint('FTP')">FTP</button>
        </div>
        <div id="intro-hint" class="reveal-box hidden" style="text-align: center; color: var(--accent-color);">
            ğŸ’¡ æç¤ºï¼šå…ˆåˆ¥æ€¥è‘—é¸ç­”æ¡ˆï¼<br>æƒ³ä¸€æƒ³ï¼Œè‹±æ–‡å–®å­—è£¡å“ªä¸€å€‹åŒ…å«äº† <b>"File" (æª”æ¡ˆ)</b>ï¼Ÿ
        </div>
    </div>

    <!-- éšæ®µ 2: å”å®šç”¨é€”å°ç…§ -->
    <div class="card" id="step2">
        <h2>ğŸ” å”å®šç”¨é€”å°ç…§ï¼ˆé»æ“Šå¡ç‰‡å±•é–‹ï¼‰</h2>
        <p>åœ¨ç¶²è·¯ä¸–ç•Œï¼Œä¸åŒçš„å·¥ä½œæœ‰å°ˆå±¬çš„è² è²¬äººï¼ˆå”å®šï¼‰ã€‚è«‹é»æ“Šä¸‹æ–¹å¡ç‰‡æŸ¥çœ‹å®ƒå€‘çš„ã€Œæœ¬æ¥­ã€æ˜¯ä»€éº¼ã€‚</p>
        
        <div class="protocol-grid">
            <div class="proto-card" onclick="toggleProto(this)">
                <strong>TCP/IP</strong>
                <div class="proto-detail">
                    <span class="tag">åŸºç¤</span><br>
                    <b>å‚³è¼¸æ§åˆ¶/ç¶²éš›ç¶²è·¯å”å®š</b><br>
                    é€™æ˜¯ç¶²è·¯é€šè¨Šçš„<b>åŸºç¤è¦å‰‡</b>ï¼Œå°±åƒã€Œäº¤é€šè¦å‰‡èˆ‡é“è·¯ã€ã€‚æ‰€æœ‰è³‡æ–™å‚³è¼¸éƒ½é å®ƒï¼Œä½†å®ƒä¸æ˜¯å°ˆé–€çš„æ‡‰ç”¨å·¥å…·ã€‚
                </div>
            </div>
            
            <div class="proto-card" onclick="toggleProto(this)">
                <strong>HTTPS</strong>
                <div class="proto-detail">
                    <span class="tag">ç¶²é </span><br>
                    <b>è¶…æ–‡å­—å‚³è¼¸å®‰å…¨å”å®š</b><br>
                    ç”¨ä¾†<b>ç€è¦½ç¶²é </b>ï¼ˆå¦‚ Facebook, Googleï¼‰ã€‚é›–ç„¶ç¶²é ä¹Ÿèƒ½ä¸‹è¼‰æª”æ¡ˆï¼Œä½†å®ƒä¸»è¦æ˜¯ç‚ºäº†é¡¯ç¤ºç¶²é å…§å®¹è¨­è¨ˆçš„ã€‚
                </div>
            </div>
            
            <div class="proto-card" onclick="toggleProto(this)">
                <strong>SMTP</strong>
                <div class="proto-detail">
                    <span class="tag">éƒµä»¶</span><br>
                    <b>ç°¡å–®éƒµä»¶å‚³è¼¸å”å®š</b><br>
                    å°ˆé–€ç”¨ä¾†<b>å¯„é€é›»å­éƒµä»¶</b>ã€‚å°±åƒéƒµå·®ï¼Œåªè² è²¬é€ä¿¡ã€‚
                </div>
            </div>
            
            <div class="proto-card" onclick="toggleProto(this)">
                <strong>FTP</strong>
                <div class="proto-detail">
                    <span class="tag">æª”æ¡ˆ</span><br>
                    <b>æª”æ¡ˆå‚³è¼¸å”å®š</b><br>
                    è‹±æ–‡å…¨å <b>File Transfer Protocol</b>ã€‚å®ƒæ˜¯å°ˆé–€ç‚ºäº†<b>ä¸Šå‚³èˆ‡ä¸‹è¼‰æª”æ¡ˆ</b>è€Œè¨­è¨ˆçš„æ¬é‹å·¥ã€‚
                </div>
            </div>
        </div>
        <div class="trap-box">
            <strong>âš ï¸ è§€å¿µæ¾„æ¸…ï¼š</strong>
            <p>é›–ç„¶ç”¨ Line æˆ– Email ä¹Ÿå¯ä»¥å‚³æª”ï¼Œä½†åœ¨é›»è…¦ç§‘å­¸çš„å®šç¾©ä¸­ï¼Œèª°æ˜¯ã€Œå°ˆé–€ã€åšé€™ä»¶äº‹çš„å”å®šï¼Ÿé€™æ‰æ˜¯è€ƒé¡Œçš„é‡é»ï¼</p>
        </div>
    </div>

    <!-- éšæ®µ 3: æ­£å¼é¡Œç›® -->
    <div class="card" id="step3">
        <h2>ğŸ“ é¡Œç›®æŒ‘æˆ°</h2>
        <p>15. ä¸‹åˆ—å“ªå€‹é€šè¨Šå”å®šå¯ä»¥ç”¨ä¾†å‚³é€æª”æ¡ˆï¼Ÿ</p>
        
        <div class="options-container">
            <button class="btn option-btn" onclick="selectAnswer('A', this)">(A) TCP/IP</button>
            <button class="btn option-btn" onclick="selectAnswer('B', this)">(B) HTTPS</button>
            <button class="btn option-btn" onclick="selectAnswer('C', this)">(C) SMTP</button>
            <button class="btn option-btn" onclick="selectAnswer('D', this)">(D) FTP</button>
        </div>

        <!-- è§£æå€å¡Š (ç­”é¡Œå¾Œé¡¯ç¤º) -->
        <div id="analysis-section" class="hidden">
            <div style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 8px;">
                <h3 id="result-title" style="margin-top:0;"></h3>
                <p id="result-msg"></p>
                <hr>
                <h4>ç”Ÿæ´»åŒ–æ¯”å–»èˆ‡è§£æï¼š</h4>
                <ul style="list-style: none; padding: 0;">
                    <li>ğŸš¦ <b>TCP/IP (é“è·¯)ï¼š</b> å®ƒæ˜¯åŸºç¤å»ºè¨­ã€‚å°±åƒä½ ä¸èƒ½èªªã€Œæˆ‘è¦ç”¨æŸæ²¹è·¯å‚³æª”æ¡ˆã€ï¼Œä½ è¦ç”¨è»Šå­ã€‚</li>
                    <li>ğŸ”’ <b>HTTPS (å®‰å…¨çš„ç¶²é )ï¼š</b> ä¸»è¦æ˜¯ç‚ºäº†çœ‹ç¶²é ã€‚é›–ç„¶ç¶²é å¯ä»¥ä¸‹è¼‰æ±è¥¿ï¼Œä½†å®ƒæ˜¯ã€Œç€è¦½å™¨ã€çš„ä¸–ç•Œã€‚</li>
                    <li>ğŸ“® <b>SMTP (éƒµå·®)ï¼š</b> å°ˆé–€å¯„ä¿¡ã€‚ä½ å¯ä»¥å¤¾å¸¶æª”æ¡ˆåœ¨ä¿¡è£¡ï¼Œä½†å®ƒçš„æœ¬æ¥­æ˜¯é€ä¿¡ã€‚</li>
                    <li>ğŸš› <b>FTP (æ¬å®¶å…¬å¸)ï¼š</b> <b>F</b>ile <b>T</b>ransfer <b>P</b>rotocolã€‚åå­—å°±å¯«è‘—ã€Œæª”æ¡ˆã€ï¼Œå°ˆé–€è² è²¬å¤§é‡æª”æ¡ˆçš„æ¬é‹ã€‚</li>
                </ul>
                <div style="background:#e8f8f5; padding:10px; border-radius:5px; text-align:center;">
                    <b>ğŸ”‘ è¨˜æ†¶å£è¨£ï¼š<br>ã€Œè¦å‚³ File (æª”æ¡ˆ)ï¼Œå°±æ‰¾ F é–‹é ­çš„ FTPã€</b>
                </div>
            </div>
        </div>
    </div>

    <!-- éšæ®µ 4: éå›ºç·´ç¿’ -->
    <div class="card" id="step4">
        <h2>ğŸ® äº’å‹•å°éŠæˆ²ï¼šé…å°èˆ‡æ˜¯éé¡Œ</h2>
        
        <h3>1. è·å‹™é…å° (é»é¸å·¦é‚Šï¼Œå†é»é¸å³é‚Šå°æ‡‰çš„é …ç›®)</h3>
        <div class="match-game" id="matchGame">
            <div class="match-col" id="col-left">
                <!-- Javascript æœƒç”¢ç”Ÿå…§å®¹ -->
            </div>
            <div class="match-col" id="col-right">
                <!-- Javascript æœƒç”¢ç”Ÿå…§å®¹ -->
            </div>
        </div>
        <p id="match-feedback" style="text-align: center; font-weight: bold; min-height: 24px;"></p>

        <hr style="margin: 20px 0;">

        <h3>2. è¿·æ€ç ´è§£ O / X</h3>
        <div class="quiz-row">
            <span>HTTPS å¯ä»¥ç”¨ä¾†ä¸Šå‚³ä¸‹è¼‰æª”æ¡ˆï¼ˆä½†åœ¨æœ¬é¡Œä¸­ä¸æ˜¯æœ€ä½³è§£ï¼‰</span>
            <div>
                <button class="ox-btn" onclick="checkOX(this, true, 'correct')">O</button>
                <button class="ox-btn" onclick="checkOX(this, false, 'correct')">X</button>
            </div>
        </div>
        <div style="font-size:0.8rem; color:#666; margin-bottom:10px;">è§£æï¼šHTTPS ç¢ºå¯¦å¯ä»¥å‚³æª”ï¼Œä½†é¡Œç›®å•å”å®šç¨®é¡æ™‚ï¼ŒFTP æ‰æ˜¯ã€Œå°ˆé–€ã€çš„æ¨™æº–ç­”æ¡ˆã€‚</div>

        <div class="quiz-row">
            <span>SMTP æ˜¯ç”¨ä¾†æ¥æ”¶é›»å­éƒµä»¶çš„</span>
            <div>
                <button class="ox-btn" onclick="checkOX(this, false, 'wrong')">O</button>
                <button class="ox-btn" onclick="checkOX(this, true, 'wrong')">X</button>
            </div>
        </div>
        <div style="font-size:0.8rem; color:#666; margin-bottom:10px;">è§£æï¼šSMTP æ˜¯ã€Œå¯„ä¿¡ã€(Send)ï¼Œæ”¶ä¿¡é€šå¸¸æ˜¯ POP3 æˆ– IMAPã€‚</div>

        <div class="quiz-row">
            <span>FTP çš„ F ä»£è¡¨ Fast (å¿«é€Ÿ)</span>
            <div>
                <button class="ox-btn" onclick="checkOX(this, false, 'wrong')">O</button>
                <button class="ox-btn" onclick="checkOX(this, true, 'wrong')">X</button>
            </div>
        </div>
        <div style="font-size:0.8rem; color:#666;">è§£æï¼šF ä»£è¡¨ <b>File (æª”æ¡ˆ)</b>ã€‚</div>
    </div>

    <!-- æ€è€ƒå»¶ä¼¸ -->
    <div class="card">
        <h2>ğŸ¤” è‡ªæˆ‘æª¢æ¸¬</h2>
        <ul>
            <li>ç‚ºä»€éº¼ç¾åœ¨ç€è¦½å™¨è¶Šä¾†è¶Šå°‘æ”¯æ´ FTPï¼Ÿï¼ˆæç¤ºï¼šå®‰å…¨æ€§ï¼‰</li>
            <li>å¦‚æœè¦å‚³é€éå¸¸å¤§çš„æª”æ¡ˆï¼Œä½ æœƒé¸ Email é™„ä»¶é‚„æ˜¯ FTPï¼Ÿ</li>
            <li>å¸¸è½åˆ°çš„ SFTP æ˜¯ä»€éº¼ï¼Ÿï¼ˆæç¤ºï¼šåŠ äº† Secure å®‰å…¨æ©Ÿåˆ¶çš„ FTPï¼‰</li>
        </ul>
        <div style="text-align: right; font-size: 0.9em; color: #888;">* é€™äº›å•é¡Œæ²’æœ‰æ¨™æº–ç­”æ¡ˆï¼Œæ—¨åœ¨æ¿€ç™¼æ€è€ƒã€‚</div>
    </div>

    <!-- æ•™å¸«å‚™è¨» -->
    <div class="teacher-note" onclick="toggleTeacherNote()">
        <span style="display:flex; justify-content:space-between;">
            <span>ğŸ‘¨â€ğŸ« <b>æ•™å¸«å‚™è¨» / å‡ºé¡Œé‡é» (é»æ“Šå±•é–‹)</b></span>
            <span>â–¼</span>
        </span>
        <div class="teacher-content">
            <p><b>æ•™å­¸é‡é»ï¼š</b>æœ¬é¡Œæ˜¯ã€Œé€šè¨Šå”å®šç”¨é€”è¾¨è­˜ã€çš„ç¶“å…¸é¡Œå‹ã€‚</p>
            <ul>
                <li><b>é—œéµå­—é€£çµï¼š</b>çœ‹åˆ°ã€Œæª”æ¡ˆã€ç›´è¦ºåæ‡‰æ‰¾ã€ŒFTPã€ã€‚</li>
                <li><b>æ˜“æ··æ·†é»ï¼š</b>å­¸ç”Ÿå¸¸èª¤é¸ TCP/IPï¼Œå› ç‚ºå®ƒæ˜¯æœ€å¸¸è½åˆ°çš„è©ï¼Œéœ€å¼·èª¿å®ƒæ˜¯ã€ŒåŸºç¤æ¶æ§‹ã€è€Œéã€Œæ‡‰ç”¨æœå‹™ã€ã€‚</li>
                <li><b>ç¾ä»£è§€é»è£œå……ï¼š</b>é›–ç„¶ç¾ä»£ç¶²é  (HTTP/HTTPS) å·²å–ä»£è¨±å¤š FTP åŠŸèƒ½ï¼Œä½†åœ¨è€ƒè©¦èˆ‡ä¼ºæœå™¨ç¶­è­·å ´æ™¯ä¸­ï¼ŒFTP ä»æ˜¯æ¨™æº–ç­”æ¡ˆã€‚</li>
            </ul>
            <p style="color: #f1c40f;">æ­£ç¢ºç­”æ¡ˆï¼š(D) FTP (File Transfer Protocol)</p>
        </div>
    </div>

</div>

<!-- å½ˆå‡ºè¦–çª—ï¼šè©¢å•ç†ç”± -->
<div id="reason-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>ä½ ç‚ºä»€éº¼é¸é€™å€‹ç­”æ¡ˆï¼Ÿ</h3>
        <div style="display: flex; flex-direction: column; gap: 10px;">
            <button class="btn btn-outline" onclick="submitReason('name')">å› ç‚ºå®ƒçš„åå­—è£¡æœ‰ File</button>
            <button class="btn btn-outline" onclick="submitReason('common')">å› ç‚ºé€™å€‹è©æœ€å¸¸è½åˆ°</button>
            <button class="btn btn-outline" onclick="submitReason('web')">å› ç‚ºè·Ÿç¶²é æœ‰é—œ</button>
            <button class="btn btn-outline" onclick="submitReason('guess')">å–®ç´”ç”¨çŒœçš„</button>
        </div>
    </div>
</div>

<script>
    /* --- äº’å‹•é‚è¼¯ --- */

    // 1. æƒ…å¢ƒæç¤º
    function showHint(choice) {
        document.getElementById('intro-hint').classList.remove('hidden');
    }

    // 2. å¡ç‰‡å±•é–‹èˆ‡æ”¶åˆ
    function toggleProto(card) {
        const detail = card.querySelector('.proto-detail');
        const isHidden = window.getComputedStyle(detail).display === 'none';
        
        // å…ˆé—œé–‰å…¶ä»–
        document.querySelectorAll('.proto-detail').forEach(d => d.style.display = 'none');
        document.querySelectorAll('.proto-card').forEach(c => c.style.borderColor = '#ddd');

        if (isHidden) {
            detail.style.display = 'block';
            card.style.borderColor = '#3498db';
        }
    }

    // 3. ç­”é¡Œé‚è¼¯
    let currentSelection = '';
    let currentBtn = null;

    function selectAnswer(option, btnElement) {
        // é‡ç½®æ¨£å¼
        document.querySelectorAll('.option-btn').forEach(b => {
            b.classList.remove('selected', 'correct', 'wrong');
        });
        
        currentSelection = option;
        currentBtn = btnElement;
        btnElement.classList.add('selected');

        // é¡¯ç¤ºè©¢å•ç†ç”±è¦–çª—
        document.getElementById('reason-modal').style.display = 'flex';
    }

    function submitReason(reason) {
        // é—œé–‰è¦–çª—
        document.getElementById('reason-modal').style.display = 'none';
        
        // é¡¯ç¤ºçµæœ
        const analysis = document.getElementById('analysis-section');
        const title = document.getElementById('result-title');
        const msg = document.getElementById('result-msg');
        
        analysis.classList.remove('hidden');

        if (currentSelection === 'D') {
            currentBtn.classList.remove('selected');
            currentBtn.classList.add('correct');
            title.textContent = 'ğŸ‰ ç­”å°äº†ï¼';
            title.style.color = '#27ae60';
            msg.innerHTML = 'å¤ªæ£’äº†ï¼<b>FTP (File Transfer Protocol)</b> å°±æ˜¯å°ˆé–€ç”¨ä¾†å‚³é€æª”æ¡ˆçš„å”å®šã€‚';
        } else {
            currentBtn.classList.remove('selected');
            currentBtn.classList.add('wrong');
            title.textContent = 'âŒ å†æƒ³ä¸€ä¸‹...';
            title.style.color = '#c0392b';
            
            let hint = '';
            if(currentSelection === 'A') hint = 'TCP/IP æ˜¯é‹ªè·¯çš„ï¼Œä¸æ˜¯ç”¨ä¾†å‚³æª”çš„è»Šå­ã€‚';
            if(currentSelection === 'B') hint = 'HTTPS æ˜¯ç‚ºäº†çœ‹ç¶²é ï¼Œä¸æ˜¯å°ˆé–€å‚³æª”ã€‚';
            if(currentSelection === 'C') hint = 'SMTP æ˜¯å¯„ä¿¡çš„éƒµå·®ã€‚';
            
            msg.innerHTML = `åˆ¥æ°£é¤’ï¼${hint} <br>è©¦è©¦çœ‹æ‰¾æ‰¾åå­—è£¡æœ‰ "File" çš„é‚£å€‹ï¼`;
        }

        // è‡ªå‹•æ²å‹•åˆ°è§£æ
        analysis.scrollIntoView({ behavior: 'smooth' });
    }

    // 4. é…å°éŠæˆ² (é»é¸é…å°ç‰ˆ)
    const matchData = [
        { id: 'm1', text: 'FTP', match: 'd1' },
        { id: 'm2', text: 'SMTP', match: 'd2' },
        { id: 'm3', text: 'HTTPS', match: 'd3' },
        { id: 'm4', text: 'TCP/IP', match: 'd4' }
    ];
    
    const descData = [
        { id: 'd3', text: 'ç¶²é å®‰å…¨ç€è¦½' },
        { id: 'd2', text: 'é›»å­éƒµä»¶å¯„é€' },
        { id: 'd1', text: 'æª”æ¡ˆä¸Šå‚³ä¸‹è¼‰' },
        { id: 'd4', text: 'ç¶²è·¯é€šè¨ŠåŸºç¤' }
    ];

    let selectedLeft = null;
    let selectedRight = null;

    function initMatchGame() {
        const leftContainer = document.getElementById('col-left');
        const rightContainer = document.getElementById('col-right');

        matchData.forEach(item => {
            let div = document.createElement('div');
            div.className = 'match-item';
            div.textContent = item.text;
            div.dataset.id = item.id;
            div.onclick = () => handleMatchClick('left', div);
            leftContainer.appendChild(div);
        });

        descData.forEach(item => {
            let div = document.createElement('div');
            div.className = 'match-item';
            div.textContent = item.text;
            div.dataset.id = item.id;
            div.onclick = () => handleMatchClick('right', div);
            rightContainer.appendChild(div);
        });
    }

    function handleMatchClick(side, el) {
        if (el.classList.contains('matched')) return;

        if (side === 'left') {
            if (selectedLeft) selectedLeft.classList.remove('selected');
            selectedLeft = el;
            el.classList.add('selected');
        } else {
            if (selectedRight) selectedRight.classList.remove('selected');
            selectedRight = el;
            el.classList.add('selected');
        }

        // æª¢æŸ¥é…å°
        if (selectedLeft && selectedRight) {
            checkMatch();
        }
    }

    function checkMatch() {
        // æ‰¾åˆ°å·¦é‚Šå°æ‡‰çš„æ­£ç¢ºç­”æ¡ˆID
        const correctMatchId = matchData.find(m => m.id === selectedLeft.dataset.id).match;
        const feedback = document.getElementById('match-feedback');

        if (correctMatchId === selectedRight.dataset.id) {
            // é…å°æˆåŠŸ
            selectedLeft.classList.add('matched');
            selectedLeft.classList.remove('selected');
            selectedRight.classList.add('matched');
            selectedRight.classList.remove('selected');
            
            selectedLeft = null;
            selectedRight = null;
            feedback.textContent = 'âœ¨ é…å°æˆåŠŸï¼';
            feedback.style.color = 'green';
        } else {
            // é…å°å¤±æ•—
            feedback.textContent = 'âŒ é…å°éŒ¯èª¤ï¼Œå†è©¦ä¸€æ¬¡';
            feedback.style.color = 'red';
            
            setTimeout(() => {
                selectedLeft.classList.remove('selected');
                selectedRight.classList.remove('selected');
                selectedLeft = null;
                selectedRight = null;
                feedback.textContent = '';
            }, 1000);
        }
    }

    // 5. O/X é¡Œ
    function checkOX(btn, isCorrect, type) {
        // é‡ç½®åŒä¸€é¡Œçš„æŒ‰éˆ•
        const parent = btn.parentElement;
        parent.querySelectorAll('.ox-btn').forEach(b => {
            b.classList.remove('active-o', 'active-x');
        });

        if (isCorrect) {
            btn.classList.add('active-o'); // ç¶ è‰²æ‰“å‹¾æ¨£å¼ (è¦–è¦ºä¸Š)
        } else {
            btn.classList.add('active-x');
        }

        // å¦‚æœæ˜¯é€™é¡Œè¨­å®šè¦æŒ‰å°çš„
        if (type === 'correct') {
             if(isCorrect) alert('ç­”å°äº†ï¼');
             else alert('ç­”éŒ¯å›‰ï¼Œå†æƒ³ä¸€ä¸‹ï¼');
        } else {
             // é¡Œç›®æ˜¯è¦æŒ‰Xæ‰å°
             if(isCorrect) alert('ç­”éŒ¯å›‰ï¼Œé€™é¡Œæ˜¯éŒ¯çš„ï¼'); 
             else alert('ç­”å°äº†ï¼é€™å¥è©±æ˜¯éŒ¯çš„ã€‚');
        }
    }

    // 6. æ•™å¸«å‚™è¨»åˆ‡æ›
    function toggleTeacherNote() {
        const content = document.querySelector('.teacher-content');
        if (content.style.display === 'block') {
            content.style.display = 'none';
        } else {
            content.style.display = 'block';
        }
    }

    // åˆå§‹åŒ–
    window.onload = function() {
        initMatchGame();
    };

</script>

</body>
</html>