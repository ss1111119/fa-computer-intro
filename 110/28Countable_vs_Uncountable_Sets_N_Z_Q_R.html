<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡Œç›® 28ï¼šå¯æ•¸èˆ‡ä¸å¯æ•¸é›†åˆ</title>
    <style>
        /* --- åŸºç¤è¨­å®š --- */
        :root {
            --primary-color: #2c3e50;    /* æ·±è—ç°ï¼šå°ˆæ¥­æ„Ÿ */
            --accent-color: #3498db;     /* äº®è—ï¼šäº’å‹•æŒ‰éˆ• */
            --highlight-bg: #fff9c4;     /* æ·¡é»ƒï¼šè¢å…‰ç­† */
            --correct-color: #27ae60;    /* ç¶ è‰²ï¼šæ­£ç¢º */
            --wrong-color: #c0392b;      /* ç´…è‰²ï¼šéŒ¯èª¤ */
            --bg-color: #f4f6f7;         /* èƒŒæ™¯è‰² */
            --card-bg: #ffffff;          /* å¡ç‰‡èƒŒæ™¯ */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
        }

        /* --- ç‰ˆé¢çµæ§‹ --- */
        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            padding: 24px;
            margin-bottom: 20px;
            border-left: 5px solid var(--accent-color);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 0;
        }

        h1 { font-size: 1.8rem; margin-bottom: 10px; }
        h2 { font-size: 1.4rem; border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 15px; }
        h3 { font-size: 1.1rem; color: #555; font-weight: bold; margin-top: 20px; }

        /* --- æ•™å­¸å…ƒä»¶ --- */
        .highlight {
            background-color: var(--highlight-bg);
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: bold;
            border-bottom: 2px solid #fbc02d;
        }

        .tag {
            display: inline-block;
            background: #eee;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.85rem;
            color: #666;
            margin-right: 5px;
        }

        ul { padding-left: 20px; }
        li { margin-bottom: 8px; }

        /* --- é¡Œç›®èˆ‡é¸é … --- */
        .question-box {
            font-size: 1.2rem;
            font-weight: bold;
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .options-list {
            list-style: none;
            padding: 0;
        }
        
        .option-item {
            background: #fff;
            border: 1px solid #ddd;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .option-item:hover {
            background: #f9f9f9;
            border-color: #bbb;
        }

        .option-item.selected {
            background: #e3f2fd;
            border-color: var(--accent-color);
            font-weight: bold;
        }

        /* --- äº’å‹•æŒ‰éˆ•èˆ‡å€åŸŸ --- */
        .btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.2s;
        }

        .btn:hover { background-color: #2980b9; }

        .demo-area {
            background: #f8f9fa;
            border: 2px dashed #ccc;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            text-align: center;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .number-box {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .num-chip {
            background: white;
            border: 1px solid #aaa;
            padding: 5px 10px;
            border-radius: 4px;
            box-shadow: 0 2px 2px rgba(0,0,0,0.1);
            animation: popIn 0.3s ease-out;
            font-family: monospace;
            font-size: 1.1rem;
        }

        /* --- å°è§’ç·šæ³•äº’å‹•æ¨£å¼ --- */
        .diagonal-table {
            border-collapse: collapse;
            margin: 10px auto;
            font-family: monospace;
            background: white;
        }
        .diagonal-table td {
            border: 1px solid #ddd;
            padding: 5px 10px;
            font-size: 1.2rem;
        }
        .diag-highlight {
            background-color: #ffe0b2; /* æ©˜è‰²èƒŒæ™¯ */
            color: #d35400;
            font-weight: bold;
            border: 2px solid #e67e22 !important;
        }
        .new-number-display {
            font-size: 1.3rem;
            color: #c0392b;
            font-weight: bold;
            margin-top: 10px;
            font-family: monospace;
        }

        /* --- å‹•ç•« Keyframes --- */
        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        /* --- éš±è—/é¡¯ç¤º --- */
        .hidden { display: none; }
        
        /* --- è©³è§£å€å¡Š --- */
        .explanation-box {
            margin-top: 15px;
            padding: 15px;
            background: #f1f8e9; /* æ·¡ç¶ è‰²èƒŒæ™¯ */
            border-radius: 8px;
            border: 1px solid #c5e1a5;
        }

        /* --- éŸ¿æ‡‰å¼èª¿æ•´ --- */
        @media (max-width: 600px) {
            .card { padding: 15px; }
            h1 { font-size: 1.5rem; }
            .btn { width: 100%; margin-bottom: 5px; }
        }
    </style>
</head>
<body>

<div class="container">
    
    <!-- Header -->
    <div style="text-align: center; margin-bottom: 30px;">
        <span class="tag">é›¢æ•£æ•¸å­¸</span> <span class="tag">é›†åˆè«–</span>
        <h1>28. å¯æ•¸èˆ‡ä¸å¯æ•¸é›†åˆ</h1>
        <p style="color: #666;">é‡å°é«˜ä¸­/å¤§ä¸€æ–°æ‰‹çš„è§€å¿µå»ºç«‹èˆ‡è€ƒå‰è¡åˆº</p>
    </div>

    <!-- 1. é¡Œç›®å€ -->
    <div class="card">
        <h2>ã€é¡Œç›®ã€‘</h2>
        <div class="question-box">
            28. ä¸‹åˆ—å“ªå€‹é›†åˆæ˜¯ä¸å¯ä»¥æ•¸çš„(uncountable)?
        </div>
        <ul class="options-list">
            <li class="option-item" onclick="checkAnswer('A', this)">(A) N</li>
            <li class="option-item" onclick="checkAnswer('B', this)">(B) Z</li>
            <li class="option-item" onclick="checkAnswer('C', this)">(C) Q</li>
            <li class="option-item" onclick="checkAnswer('D', this)">(D) R</li>
        </ul>
        
        <!-- ç­”é¡Œå›é¥‹å€ -->
        <div id="feedback-area" class="hidden"></div>
        
        <div style="margin-top: 15px;">
            <button class="btn" style="background-color: #7f8c8d;" onclick="toggleAnswer()">é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ</button>
            <div id="correct-answer-display" class="hidden" style="margin-top: 10px; font-weight: bold; color: var(--primary-color);">
                æ­£ç¢ºç­”æ¡ˆï¼š(D)
            </div>
        </div>
    </div>

    <!-- 2. ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­— -->
    <div class="card">
        <h2>ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­—</h2>
        <p>é¡Œç›®å•çš„æ˜¯ï¼šä¸‹åˆ—å“ªå€‹é›†åˆæ˜¯ <span class="highlight">ä¸å¯ä»¥æ•¸ (uncountable)</span> çš„ï¼Ÿ</p>
        
        <h3>ç™½è©±ç¿»è­¯ï¼š</h3>
        <p>
            ã€Œå“ªä¸€ç¨®æ•¸å¤šåˆ°çˆ†ç‚¸ï¼Œå¤šåˆ°ä½ <strong style="color: #c0392b;">æ²’è¾¦æ³•</strong>ç”¨ã€ç¬¬ 1 å€‹ã€ç¬¬ 2 å€‹ã€ç¬¬ 3 å€‹...ã€é€™æ¨£çš„æ¸…å–®æŠŠé€™å…¨éƒ¨åˆ—å®Œï¼Ÿã€
        </p>
        <p style="font-size: 0.9em; color: #666;">
            ğŸ’¡ æç¤ºï¼šå¦‚æœèƒ½æ’éšŠé»åï¼Œå°±æ˜¯ã€Œå¯æ•¸ã€ã€‚å¦‚æœæ€éº¼æ’éƒ½æœƒæ¼æ‰ä¸€å¤§å †ï¼Œå°±æ˜¯ã€Œä¸å¯æ•¸ã€ã€‚
        </p>
    </div>

    <!-- 3. ç¬¬äºŒæ­¥ï¼šè§£é¡Œæ€è·¯èˆ‡è§€å¿µ -->
    <div class="card">
        <h2>ç¬¬äºŒæ­¥ï¼šè§£é¡Œæ€è·¯</h2>
        <p>é€™é¡Œæ˜¯æ¨™æº–çš„å®šç¾©é¡Œï¼Œé¦–å…ˆè¦è¨˜ä½é€™å››å€‹ç¬¦è™Ÿä»£è¡¨èª°ï¼š</p>
        <ul>
            <li><strong>N (Natural numbers)ï¼š</strong>è‡ªç„¶æ•¸ï¼ˆ1, 2, 3...ï¼‰ <span class="tag" style="background:#dcedc8; color: #33691e;">å¯æ•¸</span></li>
            <li><strong>Z (Integers)ï¼š</strong>æ•´æ•¸ï¼ˆ..., -1, 0, 1...ï¼‰ <span class="tag" style="background:#dcedc8; color: #33691e;">å¯æ•¸</span></li>
            <li><strong>Q (Rational numbers)ï¼š</strong>æœ‰ç†æ•¸ï¼ˆåˆ†æ•¸ï¼‰ <span class="tag" style="background:#dcedc8; color: #33691e;">å¯æ•¸</span></li>
            <li><strong>R (Real numbers)ï¼š</strong>å¯¦æ•¸ï¼ˆåŒ…å«ç„¡é™ä¸å¾ªç’°å°æ•¸ï¼‰ <span class="tag" style="background:#ffcdd2; color: #b71c1c;">ä¸å¯æ•¸</span></li>
        </ul>
    </div>

    <!-- 4. äº’å‹•ç¤ºç¯„ 1ï¼šå¯æ•¸çš„ç›´è¦º -->
    <div class="card">
        <h2>äº’å‹•ç¤ºç¯„ 1ï¼šç‚ºä»€éº¼ N, Z, Q éƒ½æ˜¯å¯æ•¸ï¼Ÿ</h2>
        <p>å¯æ•¸ä¸ä»£è¡¨ã€Œæœ‰é™ã€ï¼Œè€Œæ˜¯ä»£è¡¨ã€Œå¯ä»¥æ’æˆä¸€å€‹éšŠä¼ã€ã€‚</p>

        <!-- N çš„ç¤ºç¯„ -->
        <h3>(A) è‡ªç„¶æ•¸ N</h3>
        <p>é€™æœ€ç°¡å–®ï¼Œå·²ç¶“æ’å¥½äº†ã€‚</p>
        <div class="demo-area">
            <div class="number-box">
                <span class="num-chip">1</span>
                <span class="num-chip">2</span>
                <span class="num-chip">3</span>
                <span class="num-chip">4</span>
                <span class="num-chip">...</span>
            </div>
            <p style="margin-top:5px; font-size:0.8rem; color:#666;">ä¸€å€‹å°ä¸€å€‹ï¼Œæ²’å•é¡Œã€‚</p>
        </div>

        <!-- Z çš„ç¤ºç¯„ -->
        <h3>(B) æ•´æ•¸ Z</h3>
        <p>æœ‰è² æ•¸æ€éº¼è¾¦ï¼Ÿæˆ‘å€‘ç”¨ã€Œå·¦å³è·³ã€çš„æ–¹æ³•ä¾†é»åï¼</p>
        <button class="btn" onclick="startZDemo()">æ’­æ”¾ Z çš„é»åå‹•ç•«</button>
        <div class="demo-area">
            <div id="z-demo-box" class="number-box"></div>
            <p id="z-demo-text" style="margin-top:5px; font-size:0.8rem; color:#666;">(é»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹)</p>
        </div>

        <!-- Q çš„ç¤ºç¯„ -->
        <h3>(C) æœ‰ç†æ•¸ Q (åˆ†æ•¸)</h3>
        <p>åˆ†æ•¸å¥½åƒæ¯”æ•´æ•¸å¤šå¾ˆå¤šï¼Ÿå…¶å¯¦å¯ä»¥ç”¨ã€Œè¡¨æ ¼ã€æŠŠæ‰€æœ‰åˆ†æ•¸åˆ—å‡ºä¾†ï¼Œç„¶å¾Œç”¨ã€Œè›‡å½¢ã€èµ°è¨ªã€‚</p>
        <button class="btn" onclick="startQDemo()">æ’­æ”¾ Q çš„èµ°è¨ªå‹•ç•«</button>
        <div class="demo-area">
            <div id="q-demo-box" class="number-box"></div>
            <p id="q-demo-text" style="margin-top:5px; font-size:0.8rem; color:#666;">(å±•ç¤ºå‰ 8 å€‹è·¯å¾‘é»)</p>
        </div>
        <p style="font-size: 0.9em; color: #666;">
            ğŸ’¡ çµè«–ï¼šåªè¦èƒ½æƒ³å‡ºè¾¦æ³•æŠŠå®ƒå€‘æ’æˆä¸€åˆ—ï¼Œå®ƒå°±æ˜¯å¯æ•¸çš„ï¼
        </p>
    </div>

    <!-- 5. äº’å‹•ç¤ºç¯„ 2ï¼šä¸å¯æ•¸çš„ç›´è¦º -->
    <div class="card" style="border-left-color: #e74c3c;">
        <h2>äº’å‹•ç¤ºç¯„ 2ï¼šç‚ºä»€éº¼ R (å¯¦æ•¸) ä¸å¯æ•¸ï¼Ÿ</h2>
        <p>é€™æ˜¯è‘—åçš„<strong>ã€Œåº·æ‰˜çˆ¾å°è§’ç·šè­‰æ˜ (Cantor's Diagonal Argument)ã€</strong>çš„ç›´è¦ºç‰ˆã€‚</p>
        <p>å‡è¨­æˆ‘å€‘æƒ³æŠŠ 0 åˆ° 1 ä¹‹é–“çš„å¯¦æ•¸å…¨éƒ¨åˆ—æˆæ¸…å–®ï¼Œæˆ‘å€‘æ°¸é å¯ä»¥ã€Œè£½é€ ã€å‡ºä¸€å€‹ä¸åœ¨æ¸…å–®ä¸Šçš„æ•¸å­—ã€‚</p>

        <div class="demo-area" style="background: #fff0f0; border-color: #e74c3c;">
            <p><strong>å‡è¨­çš„å¯¦æ•¸æ¸…å–® (å°æ•¸é»å¾Œ 5 ä½ç¤ºæ„)</strong></p>
            <table class="diagonal-table" id="cantor-table">
                <!-- JS æœƒå¡«å…¥é€™è£¡ -->
            </table>
            
            <button class="btn" style="background-color: #c0392b; margin-top: 10px;" onclick="generateNewNumber()">
                ç”Ÿæˆä¸€å€‹ã€Œä¸åœ¨æ¸…å–®ä¸Šã€çš„æ–°æ•¸
            </button>

            <div id="cantor-result" class="hidden">
                <p>æˆ‘å€‘çœ‹å°è§’ç·šä¸Šçš„æ•¸å­— (æ©˜è‰²)ï¼ŒæŠŠæ¯å€‹æ•¸å­—éƒ½ +1 (å¦‚æœåŸæœ¬æ˜¯ 9 è®Š 0)ï¼š</p>
                <div class="new-number-display">
                    æ–°æ•¸ = 0.<span id="new-digits"></span>...
                </div>
                <p style="text-align: left; margin-top: 10px; font-size: 0.9rem;">
                    é€™å€‹æ–°æ•¸ï¼š<br>
                    ç¬¬ 1 ä½è·Ÿç¬¬ 1 åˆ—ä¸ä¸€æ¨£<br>
                    ç¬¬ 2 ä½è·Ÿç¬¬ 2 åˆ—ä¸ä¸€æ¨£<br>
                    ç¬¬ 3 ä½è·Ÿç¬¬ 3 åˆ—ä¸ä¸€æ¨£...<br>
                    <strong>çµè«–ï¼šä¸ç®¡ä½ çš„æ¸…å–®åˆ—äº†å¤šå°‘ï¼Œæˆ‘æ°¸é èƒ½é€ å‡ºä¸€å€‹æ–°çš„ï¼æ‰€ä»¥åˆ—ä¸å®Œ â†’ ä¸å¯æ•¸ã€‚</strong>
                </p>
            </div>
        </div>
    </div>

    <!-- 6. é¸é …åˆ†æ -->
    <div class="card">
        <h2>ç¬¬å››æ­¥ï¼šé¸é …åˆ†æ</h2>
        <ul style="list-style: none; padding: 0;">
            <li style="margin-bottom: 15px;">
                <strong>(A) N (è‡ªç„¶æ•¸)</strong>ï¼š<br>
                æœ€åŸºæœ¬çš„è¨ˆæ•¸é›†åˆ (1, 2, 3...)ï¼Œå®šç¾©ä¸Šå°±æ˜¯<strong>å¯æ•¸</strong>ã€‚
            </li>
            <li style="margin-bottom: 15px;">
                <strong>(B) Z (æ•´æ•¸)</strong>ï¼š<br>
                é€é (0, 1, -1, 2, -2...) çš„é †åºå¯ä»¥ä¸€ä¸€å°æ‡‰åˆ°è‡ªç„¶æ•¸ï¼Œ<strong>å¯æ•¸</strong>ã€‚
            </li>
            <li style="margin-bottom: 15px;">
                <strong>(C) Q (æœ‰ç†æ•¸)</strong>ï¼š<br>
                å¯ä»¥ç”¨äºŒç¶­è¡¨æ ¼æ–œç·šèµ°è¨ªçš„æ–¹å¼ä¸€ä¸€åˆ—å‡ºï¼Œ<strong>å¯æ•¸</strong>ã€‚
            </li>
            <li style="margin-bottom: 15px; border-bottom: 2px solid #c0392b; padding-bottom: 10px;">
                <strong>(D) R (å¯¦æ•¸)</strong>ï¼š<br>
                åŒ…å«æ‰€æœ‰ç„¡çª®ä¸å¾ªç’°å°æ•¸ï¼Œæ ¹æ“šå°è§’ç·šè­‰æ˜ï¼Œç„¡æ³•åˆ—æˆæ¸…å–®ï¼Œ<strong>ä¸å¯æ•¸ (Uncountable)</strong>ã€‚
            </li>
        </ul>
    </div>

    <!-- 7. è¨˜æ†¶å£è¨£èˆ‡é™·é˜± -->
    <div class="card">
        <h2>è¨˜æ†¶å£è¨£ & å¸¸è¦‹é™·é˜±</h2>
        
        <h3>ğŸ§  3 ç§’è¨˜æ†¶æ³•ï¼š</h3>
        <div style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color); text-align: center; margin: 15px 0;">
            ã€ŒNã€Zã€Q éƒ½èƒ½æ’éšŠ (å¯æ•¸)<br>
            åªæœ‰ R å¤šåˆ°æ»¿å‡ºä¾† (ä¸å¯æ•¸)ã€
        </div>

        <h3>âš ï¸ é¿å‘æŒ‡å—ï¼š</h3>
        <ul>
            <li><strong>é™·é˜± 1ï¼š</strong> ä»¥ç‚ºã€Œç„¡é™å¤šã€å°±æ˜¯ä¸å¯æ•¸ã€‚ <span style="color:red;">(éŒ¯ï¼)</span><br>
            <span style="font-size:0.9rem; color:#666;">è§£é‡‹ï¼šN æœ‰ç„¡é™å¤šå€‹ï¼Œä½†å®ƒæ˜¯å¯æ•¸çš„ã€‚å¯æ•¸æŒ‡çš„æ˜¯ã€Œå¯åˆ—èˆ‰æ€§ã€ã€‚</span></li>
            
            <li><strong>é™·é˜± 2ï¼š</strong> çœ‹åˆ°åˆ†æ•¸ Q è¦ºå¾—å¾ˆå¯†ï¼Œæ‰€ä»¥ä¸å¯æ•¸ã€‚<span style="color:red;">(éŒ¯ï¼)</span><br>
            <span style="font-size:0.9rem; color:#666;">è§£é‡‹ï¼šQ é›–ç„¶å¾ˆå¯†ï¼Œä½†é‚„æ˜¯å¯ä»¥ç”¨è¡¨æ ¼æ³•æ‰¾å‡ºä¾†æ’éšŠã€‚</span></li>
            
            <li><strong>è€ƒè©¦æŠ€å·§ï¼š</strong> åªè¦çœ‹åˆ°é¸é …æœ‰ <strong>R</strong> æˆ– <strong>(0, 1)å€é–“</strong>ï¼Œé¡Œç›®å• uncountableï¼Œé¸å®ƒå°±å°äº†ï¼</li>
        </ul>
    </div>

    <!-- 8. è‡ªæˆ‘æª¢æ¸¬ -->
    <div class="card">
        <h2>è‡ªæˆ‘æª¢æ¸¬</h2>
        <p>è©¦è‘—å›ç­”ä¸‹åˆ—å°å•é¡Œï¼Œç¢ºèªæ˜¯å¦çœŸæ‡‚ï¼š</p>
        
        <details>
            <summary style="cursor: pointer; font-weight: bold; color: var(--accent-color); margin-bottom: 10px;">Q1: å¶æ•¸é›†åˆ (2, 4, 6...) æ˜¯å¯æ•¸çš„å—ï¼Ÿ</summary>
            <p class="explanation-box">
                <strong>æ˜¯å¯æ•¸çš„ï¼</strong><br>
                é›–ç„¶å®ƒæ¯” N å°‘ä¸€åŠçš„æ„Ÿè¦ºï¼Œä½†å®ƒå¯ä»¥è·Ÿ N ä¸€å°ä¸€å°æ‡‰ (1â†’2, 2â†’4, 3â†’6...)ï¼Œæ‰€ä»¥åªè¦èƒ½åˆ—æ¸…å–®ï¼Œå°±æ˜¯å¯æ•¸ã€‚
            </p>
        </details>

        <details>
            <summary style="cursor: pointer; font-weight: bold; color: var(--accent-color); margin-bottom: 10px;">Q2: ç„¡ç†æ•¸ (R æ‰£æ‰ Q) æ˜¯å¯æ•¸é‚„æ˜¯ä¸å¯æ•¸ï¼Ÿ</summary>
            <p class="explanation-box">
                <strong>ä¸å¯æ•¸ï¼</strong><br>
                å¯¦æ•¸ R æ˜¯ä¸å¯æ•¸çš„ï¼Œè€Œ Q æ˜¯å¯æ•¸çš„ã€‚å¦‚æœç„¡ç†æ•¸ä¹Ÿæ˜¯å¯æ•¸ï¼Œé‚£å…©å€‹å¯æ•¸åŠ èµ·ä¾†æ‡‰è©²è¦ç­‰æ–¼å¯æ•¸æ‰å°ã€‚æ‰€ä»¥ç„¡ç†æ•¸å¿…å®šæ˜¯ä¸å¯æ•¸ï¼Œé€™æ‰æ˜¯é€ æˆ R ä¸å¯æ•¸çš„ä¸»å› ã€‚
            </p>
        </details>
    </div>

</div>

<script>
    // --- ç­”é¡Œäº’å‹•é‚è¼¯ ---
    function checkAnswer(option, element) {
        // æ¸…é™¤èˆŠçš„é¸æ“‡æ¨£å¼
        const items = document.querySelectorAll('.option-item');
        items.forEach(item => {
            item.classList.remove('selected');
            item.style.backgroundColor = '#fff';
            item.style.borderColor = '#ddd';
            item.style.color = '#333';
        });

        // æ¨™è¨˜ç›®å‰é¸æ“‡
        element.classList.add('selected');

        const feedback = document.getElementById('feedback-area');
        feedback.classList.remove('hidden');
        
        if (option === 'D') {
            feedback.innerHTML = `
                <div class="explanation-box" style="border-color: var(--correct-color); background: #e8f5e9;">
                    <strong style="color: var(--correct-color);">âœ… ç­”å°äº†ï¼</strong><br>
                    R (å¯¦æ•¸) æ˜¯ä¸å¯æ•¸é›†åˆã€‚å…¶ä»– N, Z, Q éƒ½æ˜¯å¯æ•¸çš„ã€‚
                </div>
            `;
            element.style.backgroundColor = '#dcedc8';
            element.style.borderColor = 'var(--correct-color)';
        } else {
            feedback.innerHTML = `
                <div class="explanation-box" style="border-color: var(--wrong-color); background: #ffebee;">
                    <strong style="color: var(--wrong-color);">âŒ ç­”éŒ¯å›‰ï¼</strong><br>
                    ${option} æ˜¯å¯æ•¸çš„ (Countable)ã€‚å†æƒ³æƒ³ï¼Œå“ªä¸€å€‹é›†åˆå¤§åˆ°ç„¡æ³•åˆ—æˆæ¸…å–®ï¼Ÿ(æç¤ºï¼šå«ç„¡ç†æ•¸çš„é‚£å€‹)
                </div>
            `;
            element.style.backgroundColor = '#ffcdd2';
            element.style.borderColor = 'var(--wrong-color)';
        }
    }

    function toggleAnswer() {
        const ans = document.getElementById('correct-answer-display');
        if (ans.classList.contains('hidden')) {
            ans.classList.remove('hidden');
        } else {
            ans.classList.add('hidden');
        }
    }

    // --- Z é›†åˆå‹•ç•« ---
    let zInterval;
    function startZDemo() {
        const box = document.getElementById('z-demo-box');
        const text = document.getElementById('z-demo-text');
        box.innerHTML = ''; // æ¸…ç©º
        text.innerText = "æ¸…å–®æ­£åœ¨ç”¢ç”Ÿä¸­...";
        clearInterval(zInterval); // é˜²æ­¢é‡è¤‡é»æ“Š

        // Z çš„æ’åºé‚è¼¯ï¼š0, 1, -1, 2, -2, 3, -3...
        let sequence = [0, 1, -1, 2, -2, 3, -3, 4];
        let index = 0;

        zInterval = setInterval(() => {
            if (index >= sequence.length) {
                clearInterval(zInterval);
                text.innerText = "å¯ä»¥é€™æ¨£ä¸€ç›´åˆ—ä¸‹å»ï¼Œæ¯å€‹æ•´æ•¸éƒ½æœƒè¢«é»åˆ°ï¼";
                return;
            }
            const chip = document.createElement('span');
            chip.className = 'num-chip';
            chip.innerText = sequence[index];
            box.appendChild(chip);
            index++;
        }, 600);
    }

    // --- Q é›†åˆå‹•ç•« ---
    let qInterval;
    function startQDemo() {
        const box = document.getElementById('q-demo-box');
        const text = document.getElementById('q-demo-text');
        box.innerHTML = '';
        text.innerText = "ä¾ç…§è¡¨æ ¼æ–œç·šé †åº...";
        clearInterval(qInterval);

        // Q çš„ç°¡åŒ–æ’åºé‚è¼¯ (Cantor pairing function çš„è¦–è¦ºåŒ–)
        // 1/1, 1/2, 2/1, 3/1, 2/2(è·³é), 1/3, 1/4...
        // é€™è£¡ç‚ºäº†ç›´è§€ï¼Œå±•ç¤ºç°¡å–®çš„å‰å¹¾å€‹è·¯å¾‘é»
        let sequence = ["1/1", "1/2", "2/1", "3/1", "2/2", "1/3", "1/4", "2/3"];
        let index = 0;

        qInterval = setInterval(() => {
            if (index >= sequence.length) {
                clearInterval(qInterval);
                text.innerText = "é›–ç„¶æ˜¯ç„¡é™å¤šï¼Œä½†æˆ‘å€‘å¯ä»¥ä¿è­‰æ¯å€‹åˆ†æ•¸æœ€çµ‚éƒ½æœƒè¢«æ•¸åˆ°ï¼";
                return;
            }
            const chip = document.createElement('span');
            chip.className = 'num-chip';
            // æ¨™è¨˜é‡è¤‡çš„ (ä¾‹å¦‚ 2/2 = 1)
            if (sequence[index] === "2/2") {
                chip.style.backgroundColor = "#e0e0e0";
                chip.style.color = "#999";
                chip.innerText = sequence[index] + " (é‡è¤‡è·³é)";
                chip.style.fontSize = "0.9rem";
            } else {
                chip.innerText = sequence[index];
            }
            box.appendChild(chip);
            index++;
        }, 600);
    }

    // --- R å°è§’ç·šæ³•é‚è¼¯ ---
    // é å…ˆå®šç¾©ä¸€äº›ã€Œéš¨æ©Ÿã€å°æ•¸
    const randomDecimals = [
        "14159", // 0.14159...
        "38264", // 0.38264...
        "75028", // 0.75028...
        "99137", // 0.99137...
        "25846"  // 0.25846...
    ];

    function initCantorTable() {
        const table = document.getElementById('cantor-table');
        let html = '';
        
        randomDecimals.forEach((numStr, rowIndex) => {
            html += `<tr>`;
            html += `<td style="background:#eee;">${rowIndex+1}</td>`; // è¡Œè™Ÿ
            html += `<td>0.</td>`;
            
            // ç”¢ç”Ÿæ¯ä¸€ä½çš„æ ¼å­
            for (let colIndex = 0; colIndex < 5; colIndex++) {
                const digit = numStr[colIndex];
                // å¦‚æœæ˜¯éƒ½è§’ç·šä½ç½® (row == col)
                if (rowIndex === colIndex) {
                    html += `<td class="diag-cell" data-row="${rowIndex}" data-digit="${digit}">${digit}</td>`;
                } else {
                    html += `<td>${digit}</td>`;
                }
            }
            html += `<td>...</td></tr>`;
        });
        table.innerHTML = html;
    }

    function generateNewNumber() {
        // 1. æ¨™è¨˜å°è§’ç·š
        const diagCells = document.querySelectorAll('.diag-cell');
        let newNumStr = "";
        
        diagCells.forEach((cell, index) => {
            // è¦–è¦ºæ¨™è¨˜
            setTimeout(() => {
                cell.classList.add('diag-highlight');
            }, index * 300);

            // è¨ˆç®—æ–°æ•¸å­— logic: (digit + 1) % 10
            let originalDigit = parseInt(cell.getAttribute('data-digit'));
            let newDigit = (originalDigit + 1) % 10;
            newNumStr += `<span style="color:#c0392b; font-weight:bold; margin:0 2px;">${newDigit}</span>`;
        });

        // 2. é¡¯ç¤ºçµæœå€
        const resultDiv = document.getElementById('cantor-result');
        const digitsSpan = document.getElementById('new-digits');
        
        resultDiv.classList.remove('hidden');
        
        // ç¨å¾®å»¶é²é¡¯ç¤ºæ–°æ•¸å­—ï¼Œé…åˆå°è§’ç·šå‹•ç•«
        setTimeout(() => {
            digitsSpan.innerHTML = newNumStr;
        }, 1500);
    }

    // åˆå§‹åŒ– R çš„è¡¨æ ¼
    initCantorTable();

</script>

</body>
</html>